"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[179],{2011:(mt,De,O)=>{O.d(De,{Dh:()=>Ne,GT:()=>fe,cc:()=>Ve,on:()=>Pe,pX:()=>ue,xv:()=>Ae});var u=O(4650),k=O(9260);mt=O.hmd(mt);const te=["ngOnDestroy"],ue=(Q,xe,we,Le={})=>new Proxy(Q,{get:(ge,de)=>we.runOutsideAngular(()=>{var _e;if(Q[de])return!(null===(_e=Le?.spy)||void 0===_e)&&_e.get&&Le.spy.get(de,Q[de]),Q[de];if(te.indexOf(de)>-1)return()=>{};const Fe=xe.toPromise().then(Oe=>{const Y=Oe&&Oe[de];return"function"==typeof Y?Y.bind(Oe):Y&&Y.then?Y.then(Ke=>we.run(()=>Ke)):we.run(()=>Y)});return new Proxy(()=>{},{get:(Oe,Y)=>Fe[Y],apply:(Oe,Y,Ke)=>Fe.then(wt=>{var Ye;const Ht=wt&&wt(...Ke);return!(null===(Ye=Le?.spy)||void 0===Ye)&&Ye.apply&&Le.spy.apply(de,Ke,Ht),Ht})})})}),fe=(Q,xe)=>{xe.forEach(we=>{Object.getOwnPropertyNames(we.prototype||we).forEach(Le=>{Object.defineProperty(Q.prototype,Le,Object.getOwnPropertyDescriptor(we.prototype||we,Le))})})};class se{constructor(xe){return xe}}const Ne=new u.OlP("angularfire2.app.options"),Ae=new u.OlP("angularfire2.app.name");function Pe(Q,xe,we){const ge="object"==typeof we&&we||{};ge.name=ge.name||"string"==typeof we&&we||"[DEFAULT]";const _e=k.Z.apps.filter(Fe=>Fe&&Fe.name===ge.name)[0]||xe.runOutsideAngular(()=>k.Z.initializeApp(Q,ge));try{JSON.stringify(Q)!==JSON.stringify(_e.options)&&B("error",`${_e.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new se(_e)}const B=(Q,...xe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Q](...xe)};function Ve(Q,xe,we,Le,ge){const[,de,_e]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===Q)||[];if(de)return function Se(Q,xe){try{return Q.toString()===xe.toString()}catch{return Q===xe}}(ge,_e)||(Je("error",`${xe} was already initialized on the ${we} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),Je("warn",{is:ge,was:_e})),de;{const Fe=Le();return globalThis.\u0275AngularfireInstanceCache.push([Q,Fe,ge]),Fe}}const We=!!mt.hot,Je=(Q,...xe)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Q](...xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1389:(mt,De,O)=>{O.d(De,{$:()=>Et,A:()=>V,D:()=>Se,I:()=>mn,J:()=>ci,L:()=>Ui,N:()=>Vi,P:()=>Ai,Q:()=>ff,R:()=>hu,U:()=>Lw,V:()=>pf,W:()=>gf,X:()=>Bi,Y:()=>Yl,Z:()=>Fm,_:()=>yf,a:()=>Dr,a0:()=>Vw,a1:()=>vf,a2:()=>Vm,a3:()=>Um,a4:()=>$i,a5:()=>Ef,a6:()=>If,a7:()=>Ir,a8:()=>$o,a9:()=>Ms,aA:()=>Y,aB:()=>qf,aC:()=>tr,aD:()=>Ii,aE:()=>mo,aF:()=>Xo,aG:()=>Jo,aH:()=>Yt,aL:()=>Ns,aO:()=>io,aa:()=>Tf,ab:()=>Uw,ac:()=>Bw,ad:()=>Df,ae:()=>Bm,af:()=>$m,ai:()=>Sf,aj:()=>$w,ak:()=>Tr,an:()=>Lm,ao:()=>Jc,aq:()=>ed,ar:()=>el,as:()=>wt,at:()=>an,au:()=>yt,av:()=>ge,aw:()=>sa,ax:()=>sr,ay:()=>hn,az:()=>de,b:()=>au,c:()=>fd,d:()=>Qo,e:()=>gu,f:()=>yu,g:()=>vu,h:()=>_u,i:()=>ad,j:()=>ny,k:()=>Fs,l:()=>cd,m:()=>Id,o:()=>Iu,p:()=>Ae,r:()=>Kw,s:()=>Wo,u:()=>fi});var u=O(5861),k=O(2090),te=O(6881),ue=O(7582),fe=O(1877),se=O(4859);const Ae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},V={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function H(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},We=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Je=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),xe=new fe.Yd("@firebase/auth");function Le(w,...p){xe.logLevel<=fe.in.ERROR&&xe.error(`Auth (${te.SDK_VERSION}): ${w}`,...p)}function ge(w,...p){throw Oe(w,...p)}function de(w,...p){return Oe(w,...p)}function _e(w,p,y){const b=Object.assign(Object.assign({},We()),{[p]:y});return new k.LL("auth","Firebase",b).create(p,{appName:w.name})}function Fe(w,p,y){if(!(p instanceof y))throw y.name!==p.constructor.name&&ge(w,"argument-error"),_e(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(w,...p){if("string"!=typeof w){const y=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=w.name),w._errorFactory.create(y,...b)}return Je.create(w,...p)}function Y(w,p,...y){if(!w)throw Oe(p,...y)}function Ke(w){const p="INTERNAL ASSERTION FAILED: "+w;throw Le(p),new Error(p)}function wt(w,p){w||Ke(p)}function Ye(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Ht(){return"http:"===it()||"https:"===it()}function it(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class ae{constructor(p,y){this.shortDelay=p,this.longDelay=y,wt(y>p,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function ka(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ht()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function he(w,p){wt(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return p?`${y}${p.startsWith("/")?p.slice(1):p}`:y}class me{static initialize(p,y,b){this.fetchImpl=p,y&&(this.headersImpl=y),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ce=new ae(3e4,6e4);function ve(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function tt(w,p,y,b){return gn.apply(this,arguments)}function gn(){return(gn=(0,u.Z)(function*(w,p,y,b,A={}){return pt(w,A,(0,u.Z)(function*(){let x={},j={};b&&("GET"===p?j=b:x={body:JSON.stringify(b)});const J=(0,k.xO)(Object.assign({key:w.config.apiKey},j)).slice(1),Ie=yield w._getAdditionalHeaders();return Ie["Content-Type"]="application/json",w.languageCode&&(Ie["X-Firebase-Locale"]=w.languageCode),me.fetch()(_n(w,w.config.apiHost,y,J),Object.assign({method:p,headers:Ie,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function pt(w,p,y){return ut.apply(this,arguments)}function ut(){return(ut=(0,u.Z)(function*(w,p,y){w._canInitEmulator=!1;const b=Object.assign(Object.assign({},Ue),p);try{const A=new ri(w),x=yield Promise.race([y(),A.promise]);A.clearNetworkTimeout();const j=yield x.json();if("needConfirmation"in j)throw zn(w,"account-exists-with-different-credential",j);if(x.ok&&!("errorMessage"in j))return j;{const J=x.ok?j.errorMessage:j.error.message,[Ie,Be]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ie)throw zn(w,"credential-already-in-use",j);if("EMAIL_EXISTS"===Ie)throw zn(w,"email-already-in-use",j);if("USER_DISABLED"===Ie)throw zn(w,"user-disabled",j);const rt=b[Ie]||Ie.toLowerCase().replace(/[_\s]+/g,"-");if(Be)throw _e(w,rt,Be);ge(w,rt)}}catch(A){if(A instanceof k.ZR)throw A;ge(w,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function Gt(w,p,y,b){return sn.apply(this,arguments)}function sn(){return(sn=(0,u.Z)(function*(w,p,y,b,A={}){const x=yield tt(w,p,y,b,A);return"mfaPendingCredential"in x&&ge(w,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function _n(w,p,y,b){const A=`${p}${y}?${b}`;return w.config.emulator?he(w.config,A):`${w.config.apiScheme}://${A}`}class ri{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((y,b)=>{this.timer=setTimeout(()=>b(de(this.auth,"network-request-failed")),Ce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(w,p,y){const b={appName:w.name};y.email&&(b.email=y.email),y.phoneNumber&&(b.phoneNumber=y.phoneNumber);const A=de(w,p,b);return A.customData._tokenResponse=y,A}function Pr(){return(Pr=(0,u.Z)(function*(w,p){return tt(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ds(){return(Ds=(0,u.Z)(function*(w,p){return tt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Xn(){return(Xn=(0,u.Z)(function*(w,p){return tt(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function st(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function qn(){return(qn=(0,u.Z)(function*(w,p=!1){const y=(0,k.m9)(w),b=yield y.getIdToken(p),A=Ci(b);Y(A&&A.exp&&A.auth_time&&A.iat,y.auth,"internal-error");const x="object"==typeof A.firebase?A.firebase:void 0,j=x?.sign_in_provider;return{claims:A,token:b,authTime:st(si(A.auth_time)),issuedAtTime:st(si(A.iat)),expirationTime:st(si(A.exp)),signInProvider:j||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function si(w){return 1e3*Number(w)}function Ci(w){const[p,y,b]=w.split(".");if(void 0===p||void 0===y||void 0===b)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,k.tV)(y);return A?JSON.parse(A):(Le("Failed to decode base64 JWT payload"),null)}catch(A){return Le("Caught error parsing JWT payload as JSON",A?.toString()),null}}function zt(w,p){return ct.apply(this,arguments)}function ct(){return(ct=(0,u.Z)(function*(w,p,y=!1){if(y)return p;try{return yield p}catch(b){throw b instanceof k.ZR&&function Pt({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(b)&&w.auth.currentUser===w&&(yield w.auth.signOut()),b}})).apply(this,arguments)}class oi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var y;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const A=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var y=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield y.iteration()}),b)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&p.schedule(!0))}p.schedule()})()}}class Or{constructor(p,y){this.createdAt=p,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=st(this.lastLoginAt),this.creationTime=st(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function On(w){return ai.apply(this,arguments)}function ai(){return ai=(0,u.Z)(function*(w){var p;const y=w.auth,b=yield w.getIdToken(),A=yield zt(w,function Fa(w,p){return Xn.apply(this,arguments)}(y,{idToken:b}));Y(A?.users.length,y,"internal-error");const x=A.users[0];w._notifyReloadListener(x);const j=null!==(p=x.providerUserInfo)&&void 0!==p&&p.length?function As(w){return w.map(p=>{var{providerId:y}=p,b=(0,ue._T)(p,["providerId"]);return{providerId:y,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(x.providerUserInfo):[],J=function dn(w,p){return[...w.filter(b=>!p.some(A=>A.providerId===b.providerId)),...p]}(w.providerData,j),rt=!!w.isAnonymous&&!(w.email&&x.passwordHash||J?.length),Rt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:J,metadata:new Or(x.createdAt,x.lastLoginAt),isAnonymous:rt};Object.assign(w,Rt)}),ai.apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(w){const p=(0,k.m9)(w);yield On(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Po(){return(Po=(0,u.Z)(function*(w,p){const y=yield pt(w,{},(0,u.Z)(function*(){const b=(0,k.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:x}=w.config,j=_n(w,A,"/v1/token",`key=${x}`),J=yield w._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",me.fetch()(j,{method:"POST",headers:J,body:b})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Wt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Y(p.idToken,"internal-error"),Y(typeof p.idToken<"u","internal-error"),Y(typeof p.refreshToken<"u","internal-error");const y="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function tn(w){const p=Ci(w);return Y(p,"internal-error"),Y(typeof p.exp<"u","internal-error"),Y(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,y)}getToken(p,y=!1){var b=this;return(0,u.Z)(function*(){return Y(!b.accessToken||b.refreshToken,p,"user-token-expired"),y||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,y){var b=this;return(0,u.Z)(function*(){const{accessToken:A,refreshToken:x,expiresIn:j}=yield function jt(w,p){return Po.apply(this,arguments)}(p,y);b.updateTokensAndExpiration(A,x,Number(j))})()}updateTokensAndExpiration(p,y,b){this.refreshToken=y||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,y){const{refreshToken:b,accessToken:A,expirationTime:x}=y,j=new Wt;return b&&(Y("string"==typeof b,"internal-error",{appName:p}),j.refreshToken=b),A&&(Y("string"==typeof A,"internal-error",{appName:p}),j.accessToken=A),x&&(Y("number"==typeof x,"internal-error",{appName:p}),j.expirationTime=x),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Wt,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function qr(w,p){Y("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class er{constructor(p){var{uid:y,auth:b,stsTokenManager:A}=p,x=(0,ue._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=b,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Or(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(p){var y=this;return(0,u.Z)(function*(){const b=yield zt(y,y.stsTokenManager.getToken(y.auth,p));return Y(b,y.auth,"internal-error"),y.accessToken!==b&&(y.accessToken=b,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),b})()}getIdTokenResult(p){return function Gl(w){return qn.apply(this,arguments)}(this,p)}reload(){return function kr(w){return Fr.apply(this,arguments)}(this)}_assign(p){this!==p&&(Y(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(y=>Object.assign({},y)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const y=new er(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(p){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,y=!1){var b=this;return(0,u.Z)(function*(){let A=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),A=!0),y&&(yield On(b)),yield b.auth._persistUserIfCurrent(b),A&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,u.Z)(function*(){const y=yield p.getIdToken();return yield zt(p,function ii(w,p){return Pr.apply(this,arguments)}(p.auth,{idToken:y})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,y){var b,A,x,j,J,Ie,Be,rt;const Rt=null!==(b=y.displayName)&&void 0!==b?b:void 0,vr=null!==(A=y.email)&&void 0!==A?A:void 0,cs=null!==(x=y.phoneNumber)&&void 0!==x?x:void 0,Vs=null!==(j=y.photoURL)&&void 0!==j?j:void 0,fl=null!==(J=y.tenantId)&&void 0!==J?J:void 0,xi=null!==(Ie=y._redirectEventId)&&void 0!==Ie?Ie:void 0,Sd=null!==(Be=y.createdAt)&&void 0!==Be?Be:void 0,Tu=null!==(rt=y.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:pl,emailVerified:Us,isAnonymous:Du,providerData:Au,stsTokenManager:ua}=y;Y(pl&&ua,p,"internal-error");const Su=Wt.fromJSON(this.name,ua);Y("string"==typeof pl,p,"internal-error"),qr(Rt,p.name),qr(vr,p.name),Y("boolean"==typeof Us,p,"internal-error"),Y("boolean"==typeof Du,p,"internal-error"),qr(cs,p.name),qr(Vs,p.name),qr(fl,p.name),qr(xi,p.name),qr(Sd,p.name),qr(Tu,p.name);const ca=new er({uid:pl,auth:p,email:vr,emailVerified:Us,displayName:Rt,isAnonymous:Du,photoURL:Vs,phoneNumber:cs,tenantId:fl,stsTokenManager:Su,createdAt:Sd,lastLoginAt:Tu});return Au&&Array.isArray(Au)&&(ca.providerData=Au.map(Bs=>Object.assign({},Bs))),xi&&(ca._redirectEventId=xi),ca}static _fromIdTokenResponse(p,y,b=!1){return(0,u.Z)(function*(){const A=new Wt;A.updateFromServerResponse(y);const x=new er({uid:y.localId,auth:p,stsTokenManager:A,isAnonymous:b});return yield On(x),x})()}}const li=new Map;function tr(w){wt(w instanceof Function,"Expected a class definition");let p=li.get(w);return p?(wt(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,li.set(w,p),p)}const Vi=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(y,b){var A=this;return(0,u.Z)(function*(){A.storage[y]=b})()}_get(y){var b=this;return(0,u.Z)(function*(){const A=b.storage[y];return void 0===A?null:A})()}_remove(y){var b=this;return(0,u.Z)(function*(){delete b.storage[y]})()}_addListener(y,b){}_removeListener(y,b){}}return w.type="NONE",w})();function Ii(w,p,y){return`firebase:${w}:${p}:${y}`}class F{constructor(p,y,b){this.persistence=p,this.auth=y,this.userKey=b;const{config:A,name:x}=this.auth;this.fullUserKey=Ii(this.userKey,A.apiKey,x),this.fullPersistenceKey=Ii("persistence",A.apiKey,x),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const y=yield p.persistence._get(p.fullUserKey);return y?er._fromJSON(p.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var y=this;return(0,u.Z)(function*(){if(y.persistence===p)return;const b=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=p,b?y.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,y,b="authUser"){return(0,u.Z)(function*(){if(!y.length)return new F(tr(Vi),p,b);const A=(yield Promise.all(y.map(function(){var Be=(0,u.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return Be.apply(this,arguments)}}()))).filter(Be=>Be);let x=A[0]||tr(Vi);const j=Ii(b,p.config.apiKey,p.name);let J=null;for(const Be of y)try{const rt=yield Be._get(j);if(rt){const Rt=er._fromJSON(p,rt);Be!==x&&(J=Rt),x=Be;break}}catch{}const Ie=A.filter(Be=>Be._shouldAllowMigration);return x._shouldAllowMigration&&Ie.length?(x=Ie[0],J&&(yield x._set(j,J.toJSON())),yield Promise.all(y.map(function(){var Be=(0,u.Z)(function*(rt){if(rt!==x)try{yield rt._remove(j)}catch{}});return function(rt){return Be.apply(this,arguments)}}())),new F(x,p,b)):new F(x,p,b)})()}}function P(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Te(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if($(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(nn(p))return"Blackberry";if(kn(p))return"Webos";if(oe(p))return"Safari";if((p.includes("chrome/")||Z(p))&&!p.includes("edge/"))return"Chrome";if(yt(p))return"Android";{const b=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function $(w=(0,k.z$)()){return/firefox\//i.test(w)}function oe(w=(0,k.z$)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Z(w=(0,k.z$)()){return/crios\//i.test(w)}function Te(w=(0,k.z$)()){return/iemobile/i.test(w)}function yt(w=(0,k.z$)()){return/android/i.test(w)}function nn(w=(0,k.z$)()){return/blackberry/i.test(w)}function kn(w=(0,k.z$)()){return/webos/i.test(w)}function an(w=(0,k.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function hn(w=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function ui(w=(0,k.z$)()){return an(w)||yt(w)||kn(w)||nn(w)||/windows phone/i.test(w)||Te(w)}function Zl(w,p=[]){let y;switch(w){case"Browser":y=P((0,k.z$)());break;case"Worker":y=`${P((0,k.z$)())}-${w}`;break;default:y=w}const b=p.length?p.join(","):"FirebaseCore-web";return`${y}/JsCore/${te.SDK_VERSION}/${b}`}function W(){return(W=(0,u.Z)(function*(w){return(yield tt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function be(w,p){return nt.apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(w,p){return tt(w,"GET","/v2/recaptchaConfig",ve(w,p))})).apply(this,arguments)}function bt(w){return void 0!==w&&void 0!==w.getResponse}function Ft(w){return void 0!==w&&void 0!==w.enterprise}class ot{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function $t(w){return new Promise((p,y)=>{const b=document.createElement("script");b.setAttribute("src",w),b.onload=p,b.onerror=A=>{const x=de("internal-error");x.customData=A,y(x)},b.type="text/javascript",b.charset="UTF-8",function Kt(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(b)})}function gr(w){return`__${w}${Math.floor(1e6*Math.random())}`}const xm="NO_RECAPTCHA";class La{constructor(p){this.type="recaptcha-enterprise",this.auth=Yt(p)}verify(p="verify",y=!1){var b=this;return(0,u.Z)(function*(){function x(){return x=(0,u.Z)(function*(J){if(!y){if(null==J.tenantId&&null!=J._agentRecaptchaConfig)return J._agentRecaptchaConfig.siteKey;if(null!=J.tenantId&&void 0!==J._tenantRecaptchaConfigs[J.tenantId])return J._tenantRecaptchaConfigs[J.tenantId].siteKey}return new Promise(function(){var Ie=(0,u.Z)(function*(Be,rt){be(J,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Rt=>{if(void 0!==Rt.recaptchaKey){const vr=new ot(Rt);return null==J.tenantId?J._agentRecaptchaConfig=vr:J._tenantRecaptchaConfigs[J.tenantId]=vr,Be(vr.siteKey)}rt(new Error("recaptcha Enterprise site key undefined"))}).catch(Rt=>{rt(Rt)})});return function(Be,rt){return Ie.apply(this,arguments)}}())}),x.apply(this,arguments)}function j(J,Ie,Be){const rt=window.grecaptcha;Ft(rt)?rt.enterprise.ready(()=>{rt.enterprise.execute(J,{action:p}).then(Rt=>{Ie(Rt)}).catch(()=>{Ie(xm)})}):Be(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((J,Ie)=>{(function A(J){return x.apply(this,arguments)})(b.auth).then(Be=>{if(!y&&Ft(window.grecaptcha))j(Be,J,Ie);else{if(typeof window>"u")return void Ie(new Error("RecaptchaVerifier is only supported in browser"));$t("https://www.google.com/recaptcha/enterprise.js?render="+Be).then(()=>{j(Be,J,Ie)}).catch(rt=>{Ie(rt)})}}).catch(Be=>{Ie(Be)})})})()}}function Zn(w,p,y){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,u.Z)(function*(w,p,y,b=!1){const A=new La(w);let x;try{x=yield A.verify(y)}catch{x=yield A.verify(y,!0)}const j=Object.assign({},p);return Object.assign(j,b?{captchaResp:x}:{captchaResponse:x}),Object.assign(j,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(j,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),j})).apply(this,arguments)}class St{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,y){const b=x=>new Promise((j,J)=>{try{j(p(x))}catch(Ie){J(Ie)}});b.onAbort=y,this.queue.push(b);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(p){var y=this;return(0,u.Z)(function*(){if(y.auth.currentUser===p)return;const b=[];try{for(const A of y.queue)yield A(p),A.onAbort&&b.push(A.onAbort)}catch(A){b.reverse();for(const x of b)try{x()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class vn{constructor(p,y,b,A){this.app=p,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=b,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ns(this),this.idTokenSubscription=new ns(this),this.beforeStateQueue=new St(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Je,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(p,y){var b=this;return y&&(this._popupRedirectResolver=tr(y)),this._initializationPromise=this.queue((0,u.Z)(function*(){var A,x;if(!b._deleted&&(b.persistenceManager=yield F.create(b,p),!b._deleted)){if(null!==(A=b._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(y),b.lastNotifiedUid=(null===(x=b.currentUser)||void 0===x?void 0:x.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const y=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||y){if(p.currentUser&&y&&p.currentUser.uid===y.uid)return p._currentUser._assign(y),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(y,!0)}})()}initializeCurrentUser(p){var y=this;return(0,u.Z)(function*(){var b;const A=yield y.assertedPersistence.getCurrentUser();let x=A,j=!1;if(p&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const J=null===(b=y.redirectUser)||void 0===b?void 0:b._redirectEventId,Ie=x?._redirectEventId,Be=yield y.tryRedirectSignIn(p);(!J||J===Ie)&&Be?.user&&(x=Be.user,j=!0)}if(!x)return y.directlySetCurrentUser(null);if(!x._redirectEventId){if(j)try{yield y.beforeStateQueue.runMiddleware(x)}catch(J){x=A,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(J))}return x?y.reloadAndSetCurrentUserOrClear(x):y.directlySetCurrentUser(null)}return Y(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===x._redirectEventId?y.directlySetCurrentUser(x):y.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(p){var y=this;return(0,u.Z)(function*(){let b=null;try{b=yield y._popupRedirectResolver._completeRedirectFn(y,p,!0)}catch{yield y._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var y=this;return(0,u.Z)(function*(){try{yield On(p)}catch(b){if("auth/network-request-failed"!==b?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function re(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var y=this;return(0,u.Z)(function*(){const b=p?(0,k.m9)(p):null;return b&&Y(b.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(b&&b._clone(y))})()}_updateCurrentUser(p,y=!1){var b=this;return(0,u.Z)(function*(){if(!b._deleted)return p&&Y(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),y||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,u.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var y=this;return this.queue((0,u.Z)(function*(){yield y.assertedPersistence.setPersistence(tr(p))}))}initializeRecaptchaConfig(){var p=this;return(0,u.Z)(function*(){const y=yield be(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new ot(y);null==p.tenantId?p._agentRecaptchaConfig=b:p._tenantRecaptchaConfigs[p.tenantId]=b,b.emailPasswordEnabled&&new La(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new k.LL("auth","Firebase",p())}onAuthStateChanged(p,y,b){return this.registerStateListener(this.authStateSubscription,p,y,b)}beforeAuthStateChanged(p,y){return this.beforeStateQueue.pushCallback(p,y)}onIdTokenChanged(p,y,b){return this.registerStateListener(this.idTokenSubscription,p,y,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,y){var b=this;return(0,u.Z)(function*(){const A=yield b.getOrInitRedirectPersistenceManager(y);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var y=this;return(0,u.Z)(function*(){if(!y.redirectPersistenceManager){const b=p&&tr(p)||y._popupRedirectResolver;Y(b,y,"argument-error"),y.redirectPersistenceManager=yield F.create(y,[tr(b._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(p){var y=this;return(0,u.Z)(function*(){var b,A;return y._isInitialized&&(yield y.queue((0,u.Z)(function*(){}))),(null===(b=y._currentUser)||void 0===b?void 0:b._redirectEventId)===p?y._currentUser:(null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?y.redirectUser:null})()}_persistUserIfCurrent(p){var y=this;return(0,u.Z)(function*(){if(p===y.currentUser)return y.queue((0,u.Z)(function*(){return y.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(y=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,y,b,A){if(this._deleted)return()=>{};const x="function"==typeof y?y:y.next.bind(y),j=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(j,this,"internal-error"),j.then(()=>x(this.currentUser)),"function"==typeof y?p.addObserver(y,b,A):p.addObserver(y)}directlySetCurrentUser(p){var y=this;return(0,u.Z)(function*(){y.currentUser&&y.currentUser!==p&&y._currentUser._stopProactiveRefresh(),p&&y.isProactiveRefreshEnabled&&p._startProactiveRefresh(),y.currentUser=p,p?yield y.assertedPersistence.setCurrentUser(p):yield y.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Zl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var y;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const A=yield null===(y=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();A&&(b["X-Firebase-Client"]=A);const x=yield p._getAppCheckToken();return x&&(b["X-Firebase-AppCheck"]=x),b})()}_getAppCheckToken(){var p=this;return(0,u.Z)(function*(){var y;const b=yield null===(y=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return b?.error&&function we(w,...p){xe.logLevel<=fe.in.WARN&&xe.warn(`Auth (${te.SDK_VERSION}): ${w}`,...p)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function Yt(w){return(0,k.m9)(w)}class ns{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,k.ne)(y=>this.observer=y)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mn(w,p,y){const b=Yt(w);Y(b._canInitEmulator,b,"emulator-config-failed"),Y(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const A=!!y?.disableWarnings,x=Va(p),{host:j,port:J}=function Lr(w){const p=Va(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!y)return{host:"",port:null};const b=y[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(b);if(A){const x=A[1];return{host:x,port:kt(b.substr(x.length+1))}}{const[x,j]=b.split(":");return{host:x,port:kt(j)}}}(p);b.config.emulator={url:`${x}//${j}${null===J?"":`:${J}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:j,port:J,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Wl(){function w(){const p=document.createElement("p"),y=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Va(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function kt(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class ci{constructor(p,y){this.providerId=p,this.signInMethod=y}toJSON(){return Ke("not implemented")}_getIdTokenResponse(p){return Ke("not implemented")}_linkToIdToken(p,y){return Ke("not implemented")}_getReauthenticationResolver(p){return Ke("not implemented")}}function Ua(w,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(w,p){return tt(w,"POST","/v1/accounts:resetPassword",ve(w,p))})).apply(this,arguments)}function nr(w,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,u.Z)(function*(w,p){return tt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function di(){return(di=(0,u.Z)(function*(w,p){return tt(w,"POST","/v1/accounts:update",ve(w,p))})).apply(this,arguments)}function Ti(w,p){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,u.Z)(function*(w,p){return Gt(w,"POST","/v1/accounts:signInWithPassword",ve(w,p))})).apply(this,arguments)}function on(w,p){return hi.apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(w,p){return tt(w,"POST","/v1/accounts:sendOobCode",ve(w,p))})).apply(this,arguments)}function Kl(){return(Kl=(0,u.Z)(function*(w,p){return on(w,p)})).apply(this,arguments)}function ko(w,p){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,u.Z)(function*(w,p){return on(w,p)})).apply(this,arguments)}function xs(w,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(w,p){return on(w,p)})).apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(w,p){return on(w,p)})).apply(this,arguments)}function Ba(){return(Ba=(0,u.Z)(function*(w,p){return Gt(w,"POST","/v1/accounts:signInWithEmailLink",ve(w,p))})).apply(this,arguments)}function Lo(){return(Lo=(0,u.Z)(function*(w,p){return Gt(w,"POST","/v1/accounts:signInWithEmailLink",ve(w,p))})).apply(this,arguments)}class Cr extends ci{constructor(p,y,b,A=null){super("password",b),this._email=p,this._password=y,this._tenantId=A}static _fromEmailAndPassword(p,y){return new Cr(p,y,"password")}static _fromEmailAndCode(p,y,b=null){return new Cr(p,y,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(p){var y=this;return(0,u.Z)(function*(){var b;switch(y.signInMethod){case"password":const A={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=p._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const x=yield Zn(p,A,"signInWithPassword");return Ti(p,x)}return Ti(p,A).catch(function(){var x=(0,u.Z)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const J=yield Zn(p,A,"signInWithPassword");return Ti(p,J)}return Promise.reject(j)});return function(j){return x.apply(this,arguments)}}());case"emailLink":return function Di(w,p){return Ba.apply(this,arguments)}(p,{email:y._email,oobCode:y._password});default:ge(p,"internal-error")}})()}_linkToIdToken(p,y){var b=this;return(0,u.Z)(function*(){switch(b.signInMethod){case"password":return nr(p,{idToken:y,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function $a(w,p){return Lo.apply(this,arguments)}(p,{idToken:y,email:b._email,oobCode:b._password});default:ge(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function rs(w,p){return af.apply(this,arguments)}function af(){return(af=(0,u.Z)(function*(w,p){return Gt(w,"POST","/v1/accounts:signInWithIdp",ve(w,p))})).apply(this,arguments)}class Ui extends ci{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const y=new Ui(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(y.idToken=p.idToken),p.accessToken&&(y.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(y.nonce=p.nonce),p.pendingToken&&(y.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(y.accessToken=p.oauthToken,y.secret=p.oauthTokenSecret):ge("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:A}=y,x=(0,ue._T)(y,["providerId","signInMethod"]);if(!b||!A)return null;const j=new Ui(b,A);return j.idToken=x.idToken||void 0,j.accessToken=x.accessToken||void 0,j.secret=x.secret,j.nonce=x.nonce,j.pendingToken=x.pendingToken||null,j}_getIdTokenResponse(p){return rs(p,this.buildRequest())}_linkToIdToken(p,y){const b=this.buildRequest();return b.idToken=y,rs(p,b)}_getReauthenticationResolver(p){const y=this.buildRequest();return y.autoCreate=!1,rs(p,y)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),p.postBody=(0,k.xO)(y)}return p}}function lf(){return(lf=(0,u.Z)(function*(w,p){return tt(w,"POST","/v1/accounts:sendVerificationCode",ve(w,p))})).apply(this,arguments)}function uf(){return(uf=(0,u.Z)(function*(w,p){return Gt(w,"POST","/v1/accounts:signInWithPhoneNumber",ve(w,p))})).apply(this,arguments)}function cf(){return(cf=(0,u.Z)(function*(w,p){const y=yield Gt(w,"POST","/v1/accounts:signInWithPhoneNumber",ve(w,p));if(y.temporaryProof)throw zn(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const df={USER_NOT_FOUND:"user-not-found"};function Nm(){return(Nm=(0,u.Z)(function*(w,p){return Gt(w,"POST","/v1/accounts:signInWithPhoneNumber",ve(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),df)})).apply(this,arguments)}class ja extends ci{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,y){return new ja({verificationId:p,verificationCode:y})}static _fromTokenResponse(p,y){return new ja({phoneNumber:p,temporaryProof:y})}_getIdTokenResponse(p){return function Rm(w,p){return uf.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,y){return function kw(w,p){return cf.apply(this,arguments)}(p,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function hf(w,p){return Nm.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:y,verificationId:b,verificationCode:A}=this.params;return p&&y?{temporaryProof:p,phoneNumber:y}:{sessionInfo:b,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:y,verificationCode:b,phoneNumber:A,temporaryProof:x}=p;return b||y||A||x?new ja({verificationId:y,verificationCode:b,phoneNumber:A,temporaryProof:x}):null}}class Vo{constructor(p){var y,b,A,x,j,J;const Ie=(0,k.zd)((0,k.pd)(p)),Be=null!==(y=Ie.apiKey)&&void 0!==y?y:null,rt=null!==(b=Ie.oobCode)&&void 0!==b?b:null,Rt=function Fw(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ie.mode)&&void 0!==A?A:null);Y(Be&&rt&&Rt,"argument-error"),this.apiKey=Be,this.operation=Rt,this.code=rt,this.continueUrl=null!==(x=Ie.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(j=Ie.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(J=Ie.tenantId)&&void 0!==J?J:null}static parseLink(p){const y=function Pm(w){const p=(0,k.zd)((0,k.pd)(w)).link,y=p?(0,k.zd)((0,k.pd)(p)).deep_link_id:null,b=(0,k.zd)((0,k.pd)(w)).deep_link_id;return(b?(0,k.zd)((0,k.pd)(b)).link:null)||b||y||p||w}(p);try{return new Vo(y)}catch{return null}}}let ff=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,b){return Cr._fromEmailAndPassword(y,b)}static credentialWithLink(y,b){const A=Vo.parseLink(b);return Y(A,"argument-error"),Cr._fromEmailAndCode(y,A.code,A.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class is{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ha extends is{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Bi extends Ha{static credentialFromJSON(p){const y="string"==typeof p?JSON.parse(p):p;return Y("providerId"in y&&"signInMethod"in y,"argument-error"),Ui._fromParams(y)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Y(p.idToken||p.accessToken,"argument-error"),Ui._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Bi.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Bi.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:y,oauthAccessToken:b,oauthTokenSecret:A,pendingToken:x,nonce:j,providerId:J}=p;if(!b&&!A&&!y&&!x||!J)return null;try{return new Bi(J)._credential({idToken:y,accessToken:b,nonce:j,pendingToken:x})}catch{return null}}}let Lw=(()=>{class w extends Ha{constructor(){super("facebook.com")}static credential(y){return Ui._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),pf=(()=>{class w extends Ha{constructor(){super("google.com"),this.addScope("profile")}static credential(y,b){return Ui._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:b})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:b,oauthAccessToken:A}=y;if(!b&&!A)return null;try{return w.credential(b,A)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),gf=(()=>{class w extends Ha{constructor(){super("github.com")}static credential(y){return Ui._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class io extends ci{constructor(p,y){super(p,p),this.pendingToken=y}_getIdTokenResponse(p){return rs(p,this.buildRequest())}_linkToIdToken(p,y){const b=this.buildRequest();return b.idToken=y,rs(p,b)}_getReauthenticationResolver(p){const y=this.buildRequest();return y.autoCreate=!1,rs(p,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:A,pendingToken:x}=y;return b&&A&&x&&b===A?new io(b,x):null}static _create(p,y){return new io(p,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Yl extends is{constructor(p){Y(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Yl.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Yl.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const y=io.fromJSON(p);return Y(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:y,providerId:b}=p;if(!y||!b)return null;try{return io._create(b,y)}catch{return null}}}let Fm=(()=>{class w extends Ha{constructor(){super("twitter.com")}static credential(y,b){return Ui._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:b})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:b,oauthTokenSecret:A}=y;if(!b||!A)return null;try{return w.credential(b,A)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function za(w,p){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(w,p){return Gt(w,"POST","/v1/accounts:signUp",ve(w,p))})).apply(this,arguments)}class wn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,y,b,A=!1){return(0,u.Z)(function*(){const x=yield er._fromIdTokenResponse(p,b,A),j=$c(b);return new wn({user:x,providerId:j,_tokenResponse:b,operationType:y})})()}static _forOperation(p,y,b){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const A=$c(b);return new wn({user:p,providerId:A,_tokenResponse:b,operationType:y})})()}}function $c(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function yf(w){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,u.Z)(function*(w){var p;const y=Yt(w);if(yield y._initializationPromise,null!==(p=y.currentUser)&&void 0!==p&&p.isAnonymous)return new wn({user:y.currentUser,providerId:null,operationType:"signIn"});const b=yield za(y,{returnSecureToken:!0}),A=yield wn._fromIdTokenResponse(y,"signIn",b,!0);return yield y._updateCurrentUser(A.user),A})).apply(this,arguments)}class so extends k.ZR{constructor(p,y,b,A){var x;super(y.code,y.message),this.operationType=b,this.user=A,Object.setPrototypeOf(this,so.prototype),this.customData={appName:p.name,tenantId:null!==(x=p.tenantId)&&void 0!==x?x:void 0,_serverResponse:y.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,y,b,A){return new so(p,y,b,A)}}function Ga(w,p,y,b){return("reauthenticate"===p?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?so._fromErrorAndOperation(w,x,p,b):x})}function ir(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function Lm(w,p){return Ql.apply(this,arguments)}function Ql(){return Ql=(0,u.Z)(function*(w,p){const y=(0,k.m9)(w);yield Jl(!0,y,p);const{providerUserInfo:b}=yield function Ts(w,p){return Ds.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[p]}),A=ir(b||[]);return y.providerData=y.providerData.filter(x=>A.has(x.providerId)),A.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),Ql.apply(this,arguments)}function oo(w,p){return yr.apply(this,arguments)}function yr(){return(yr=(0,u.Z)(function*(w,p,y=!1){const b=yield zt(w,p._linkToIdToken(w.auth,yield w.getIdToken()),y);return wn._forOperation(w,"link",b)})).apply(this,arguments)}function Jl(w,p,y){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,u.Z)(function*(w,p,y){yield On(p);const A=!1===w?"provider-already-linked":"no-such-provider";Y(ir(p.providerData).has(y)===w,p.auth,A)})).apply(this,arguments)}function _f(w,p){return ss.apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(w,p,y=!1){const{auth:b}=w,A="reauthenticate";try{const x=yield zt(w,Ga(b,A,p,w),y);Y(x.idToken,b,"internal-error");const j=Ci(x.idToken);Y(j,b,"internal-error");const{sub:J}=j;return Y(w.uid===J,b,"user-mismatch"),wn._forOperation(w,A,x)}catch(x){throw"auth/user-not-found"===x?.code&&ge(b,"user-mismatch"),x}})).apply(this,arguments)}function jc(w,p){return Za.apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(w,p,y=!1){const b="signIn",A=yield Ga(w,b,p),x=yield wn._fromIdTokenResponse(w,b,A);return y||(yield w._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Et(w,p){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,u.Z)(function*(w,p){return jc(Yt(w),p)})).apply(this,arguments)}function Vw(w,p){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,u.Z)(function*(w,p){const y=(0,k.m9)(w);return yield Jl(!1,y,p.providerId),oo(y,p)})).apply(this,arguments)}function vf(w,p){return zc.apply(this,arguments)}function zc(){return(zc=(0,u.Z)(function*(w,p){return _f((0,k.m9)(w),p)})).apply(this,arguments)}function bf(){return(bf=(0,u.Z)(function*(w,p){return Gt(w,"POST","/v1/accounts:signInWithCustomToken",ve(w,p))})).apply(this,arguments)}function Vm(w,p){return ie.apply(this,arguments)}function ie(){return ie=(0,u.Z)(function*(w,p){const y=Yt(w),b=yield function wf(w,p){return bf.apply(this,arguments)}(y,{token:p,returnSecureToken:!0}),A=yield wn._fromIdTokenResponse(y,"signIn",b);return yield y._updateCurrentUser(A.user),A}),ie.apply(this,arguments)}class Bt{constructor(p,y){this.factorId=p,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(p,y){return"phoneInfo"in y?qc._fromServerResponse(p,y):"totpInfo"in y?Gc._fromServerResponse(p,y):ge(p,"internal-error")}}class qc extends Bt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,y){return new qc(y)}}class Gc extends Bt{constructor(p){super("totp",p)}static _fromServerResponse(p,y){return new Gc(y)}}function Tn(w,p,y){var b;Y((null===(b=y.url)||void 0===b?void 0:b.length)>0,w,"invalid-continue-uri"),Y(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=y.url,p.dynamicLinkDomain=y.dynamicLinkDomain,p.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(Y(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=y.iOS.bundleId),y.android&&(Y(y.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=y.android.installApp,p.androidMinimumVersionCode=y.android.minimumVersion,p.androidPackageName=y.android.packageName)}function Um(w,p,y){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,u.Z)(function*(w,p,y){var b;const A=Yt(w),x={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=A._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const j=yield Zn(A,x,"getOobCode",!0);y&&Tn(A,j,y),yield ko(A,j)}else y&&Tn(A,x,y),yield ko(A,x).catch(function(){var j=(0,u.Z)(function*(J){if("auth/missing-recaptcha-token"!==J.code)return Promise.reject(J);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ie=yield Zn(A,x,"getOobCode",!0);y&&Tn(A,Ie,y),yield ko(A,Ie)}});return function(J){return j.apply(this,arguments)}}())}),Bo.apply(this,arguments)}function $i(w,p,y){return eu.apply(this,arguments)}function eu(){return(eu=(0,u.Z)(function*(w,p,y){yield Ua((0,k.m9)(w),{oobCode:p,newPassword:y})})).apply(this,arguments)}function Ef(w,p){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,u.Z)(function*(w,p){yield function ro(w,p){return di.apply(this,arguments)}((0,k.m9)(w),{oobCode:p})}),Cf.apply(this,arguments)}function If(w,p){return tu.apply(this,arguments)}function tu(){return(tu=(0,u.Z)(function*(w,p){const y=(0,k.m9)(w),b=yield Ua(y,{oobCode:p}),A=b.requestType;switch(Y(A,y,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(b.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(b.mfaInfo,y,"internal-error");default:Y(b.email,y,"internal-error")}let x=null;return b.mfaInfo&&(x=Bt._fromServerResponse(Yt(y),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:x},operation:A}})).apply(this,arguments)}function Ir(w,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,u.Z)(function*(w,p){const{data:y}=yield If((0,k.m9)(w),p);return y.email})).apply(this,arguments)}function $o(w,p,y){return ao.apply(this,arguments)}function ao(){return ao=(0,u.Z)(function*(w,p,y){var b;const A=Yt(w),x={returnSecureToken:!0,email:p,password:y,clientType:"CLIENT_TYPE_WEB"};let j;if(null!==(b=A._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Be=yield Zn(A,x,"signUpPassword");j=za(A,Be)}else j=za(A,x).catch(function(){var Be=(0,u.Z)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Rt=yield Zn(A,x,"signUpPassword");return za(A,Rt)}return Promise.reject(rt)});return function(rt){return Be.apply(this,arguments)}}());const J=yield j.catch(Be=>Promise.reject(Be)),Ie=yield wn._fromIdTokenResponse(A,"signIn",J);return yield A._updateCurrentUser(Ie.user),Ie}),ao.apply(this,arguments)}function Ms(w,p,y){return Et((0,k.m9)(w),ff.credential(p,y))}function Tf(w,p,y){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,u.Z)(function*(w,p,y){var b;const A=Yt(w),x={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function j(J,Ie){Y(Ie.handleCodeInApp,A,"argument-error"),Ie&&Tn(A,J,Ie)}if(null!==(b=A._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const J=yield Zn(A,x,"getOobCode",!0);j(J,y),yield xs(A,J)}else j(x,y),yield xs(A,x).catch(function(){var J=(0,u.Z)(function*(Ie){if("auth/missing-recaptcha-token"!==Ie.code)return Promise.reject(Ie);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Be=yield Zn(A,x,"getOobCode",!0);j(Be,y),yield xs(A,Be)}});return function(Ie){return J.apply(this,arguments)}}())}),Wa.apply(this,arguments)}function Uw(w,p){return"EMAIL_SIGNIN"===Vo.parseLink(p)?.operation}function Bw(w,p,y){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,u.Z)(function*(w,p,y){const b=(0,k.m9)(w),A=ff.credentialWithLink(p,y||Ye());return Y(A._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Et(b,A)})).apply(this,arguments)}function Zc(){return(Zc=(0,u.Z)(function*(w,p){return tt(w,"POST","/v1/accounts:createAuthUri",ve(w,p))})).apply(this,arguments)}function Df(w,p){return Af.apply(this,arguments)}function Af(){return Af=(0,u.Z)(function*(w,p){const b={identifier:p,continueUri:Ht()?Ye():"http://localhost"},{signinMethods:A}=yield function nu(w,p){return Zc.apply(this,arguments)}((0,k.m9)(w),b);return A||[]}),Af.apply(this,arguments)}function Bm(w,p){return ru.apply(this,arguments)}function ru(){return ru=(0,u.Z)(function*(w,p){const y=(0,k.m9)(w),A={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&Tn(y.auth,A,p);const{email:x}=yield function Bc(w,p){return Kl.apply(this,arguments)}(y.auth,A);x!==w.email&&(yield w.reload())}),ru.apply(this,arguments)}function $m(w,p,y){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,u.Z)(function*(w,p,y){const b=(0,k.m9)(w),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};y&&Tn(b.auth,x,y);const{email:j}=yield function Pw(w,p){return Er.apply(this,arguments)}(b.auth,x);j!==w.email&&(yield w.reload())}),Wc.apply(this,arguments)}function Kc(){return(Kc=(0,u.Z)(function*(w,p){return tt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Sf(w,p){return Yc.apply(this,arguments)}function Yc(){return Yc=(0,u.Z)(function*(w,{displayName:p,photoURL:y}){if(void 0===p&&void 0===y)return;const b=(0,k.m9)(w),x={idToken:yield b.getIdToken(),displayName:p,photoUrl:y,returnSecureToken:!0},j=yield zt(b,function jm(w,p){return Kc.apply(this,arguments)}(b.auth,x));b.displayName=j.displayName||null,b.photoURL=j.photoUrl||null;const J=b.providerData.find(({providerId:Ie})=>"password"===Ie);J&&(J.displayName=b.displayName,J.photoURL=b.photoURL),yield b._updateTokensIfNecessary(j)}),Yc.apply(this,arguments)}function $w(w,p){return Rs((0,k.m9)(w),p,null)}function Tr(w,p){return Rs((0,k.m9)(w),null,p)}function Rs(w,p,y){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(w,p,y){const{auth:b}=w,x={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(x.email=p),y&&(x.password=y);const j=yield zt(w,nr(b,x));yield w._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class Ya{constructor(p,y,b={}){this.isNewUser=p,this.providerId=y,this.profile=b}}class xf extends Ya{constructor(p,y,b,A){super(p,y,b),this.username=A}}class jw extends Ya{constructor(p,y){super(p,"facebook.com",y)}}class Hw extends xf{constructor(p,y){super(p,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class zw extends Ya{constructor(p,y){super(p,"google.com",y)}}class Qc extends xf{constructor(p,y,b){super(p,"twitter.com",y,b)}}function Jc(w){const{user:p,_tokenResponse:y}=w;return p.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Hm(w){var p,y;if(!w)return null;const{providerId:b}=w,A=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},x=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!b&&w?.idToken){const j=null===(y=null===(p=Ci(w.idToken))||void 0===p?void 0:p.firebase)||void 0===y?void 0:y.sign_in_provider;if(j)return new Ya(x,"anonymous"!==j&&"custom"!==j?j:null)}if(!b)return null;switch(b){case"facebook.com":return new jw(x,A);case"github.com":return new Hw(x,A);case"google.com":return new zw(x,A);case"twitter.com":return new Qc(x,A,w.screenName||null);case"custom":case"anonymous":return new Ya(x,null);default:return new Ya(x,b,A)}}(y)}class uo{constructor(p,y,b){this.type=p,this.credential=y,this.auth=b}static _fromIdtoken(p,y){return new uo("enroll",p,y)}static _fromMfaPendingCredential(p){return new uo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var y,b;if(p?.multiFactorSession){if(null!==(y=p.multiFactorSession)&&void 0!==y&&y.pendingCredential)return uo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return uo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Xc{constructor(p,y,b){this.session=p,this.hints=y,this.signInResolver=b}static _fromError(p,y){const b=Yt(p),A=y.customData._serverResponse,x=(A.mfaInfo||[]).map(J=>Bt._fromServerResponse(b,J));Y(A.mfaPendingCredential,b,"internal-error");const j=uo._fromMfaPendingCredential(A.mfaPendingCredential);return new Xc(j,x,function(){var J=(0,u.Z)(function*(Ie){const Be=yield Ie._process(b,j);delete A.mfaInfo,delete A.mfaPendingCredential;const rt=Object.assign(Object.assign({},A),{idToken:Be.idToken,refreshToken:Be.refreshToken});switch(y.operationType){case"signIn":const Rt=yield wn._fromIdTokenResponse(b,y.operationType,rt);return yield b._updateCurrentUser(Rt.user),Rt;case"reauthenticate":return Y(y.user,b,"internal-error"),wn._forOperation(y.user,y.operationType,rt);default:ge(b,"internal-error")}});return function(Ie){return J.apply(this,arguments)}}())}resolveSignIn(p){var y=this;return(0,u.Z)(function*(){return y.signInResolver(p)})()}}function ed(w,p){var y;const b=(0,k.m9)(w),A=p;return Y(p.customData.operationType,b,"argument-error"),Y(null===(y=A.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,b,"argument-error"),Xc._fromError(b,A)}class Ho{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(b=>Bt._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Ho(p)}getSession(){var p=this;return(0,u.Z)(function*(){return uo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,y){var b=this;return(0,u.Z)(function*(){const A=p,x=yield b.getSession(),j=yield zt(b.user,A._process(b.user.auth,x,y));return yield b.user._updateTokensIfNecessary(j),b.user.reload()})()}unenroll(p){var y=this;return(0,u.Z)(function*(){const b="string"==typeof p?p:p.uid,A=yield y.user.getIdToken();try{const x=yield zt(y.user,function co(w,p){return tt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ve(w,p))}(y.user.auth,{idToken:A,mfaEnrollmentId:b}));y.enrolledFactors=y.enrolledFactors.filter(({uid:j})=>j!==b),yield y.user._updateTokensIfNecessary(x),yield y.user.reload()}catch(x){throw x}})()}}const Xa=new WeakMap;function el(w){const p=(0,k.m9)(w);return Xa.has(p)||Xa.set(p,Ho._fromUser(p)),Xa.get(p)}const ou="__sak";class tl{constructor(p,y){this.storageRetriever=p,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(ou,"1"),this.storage.removeItem(ou),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,y){return this.storage.setItem(p,JSON.stringify(y)),Promise.resolve()}_get(p){const y=this.storage.getItem(p);return Promise.resolve(y?JSON.parse(y):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const au=(()=>{class w extends tl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,b)=>this.onStorageEvent(y,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nd(){const w=(0,k.z$)();return oe(w)||an(w)}()&&function to(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ui(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const b of Object.keys(this.listeners)){const A=this.storage.getItem(b),x=this.localCache[b];A!==x&&y(b,x,A)}}onStorageEvent(y,b=!1){if(!y.key)return void this.forAllChangedKeys((J,Ie,Be)=>{this.notifyListeners(J,Be)});const A=y.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(A);if(y.newValue!==J)null!==y.newValue?this.storage.setItem(A,y.newValue):this.storage.removeItem(A);else if(this.localCache[A]===y.newValue&&!b)return}const x=()=>{const J=this.storage.getItem(A);!b&&this.localCache[A]===J||this.notifyListeners(A,J)},j=this.storage.getItem(A);!function Gr(){return(0,k.w1)()&&10===document.documentMode}()||j===y.newValue||y.newValue===y.oldValue?x():setTimeout(x,10)}notifyListeners(y,b){this.localCache[y]=b;const A=this.listeners[y];if(A)for(const x of Array.from(A))x(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,b,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:b,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(b)}_removeListener(y,b){this.listeners[y]&&(this.listeners[y].delete(b),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,b){var A=()=>super._set,x=this;return(0,u.Z)(function*(){yield A().call(x,y,b),x.localCache[y]=JSON.stringify(b)})()}_get(y){var b=()=>super._get,A=this;return(0,u.Z)(function*(){const x=yield b().call(A,y);return A.localCache[y]=JSON.stringify(x),x})()}_remove(y){var b=()=>super._remove,A=this;return(0,u.Z)(function*(){yield b().call(A,y),delete A.localCache[y]})()}}return w.type="LOCAL",w})(),Dr=(()=>{class w extends tl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,b){}_removeListener(y,b){}}return w.type="SESSION",w})();let lu=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const b=this.receivers.find(x=>x.isListeningto(y));if(b)return b;const A=new w(y);return this.receivers.push(A),A}isListeningto(y){return this.eventTarget===y}handleEvent(y){var b=this;return(0,u.Z)(function*(){const A=y,{eventId:x,eventType:j,data:J}=A.data,Ie=b.handlersMap[j];if(!Ie?.size)return;A.ports[0].postMessage({status:"ack",eventId:x,eventType:j});const Be=Array.from(Ie).map(function(){var Rt=(0,u.Z)(function*(vr){return vr(A.origin,J)});return function(vr){return Rt.apply(this,arguments)}}()),rt=yield function rd(w){return Promise.all(w.map(function(){var p=(0,u.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(b){return{fulfilled:!1,reason:b}}});return function(y){return p.apply(this,arguments)}}()))}(Be);A.ports[0].postMessage({status:"done",eventId:x,eventType:j,response:rt})})()}_subscribe(y,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(b)}_unsubscribe(y,b){this.handlersMap[y]&&b&&this.handlersMap[y].delete(b),(!b||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Ns(w="",p=10){let y="";for(let b=0;b<p;b++)y+=Math.floor(10*Math.random());return w+y}class id{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,y,b=50){var A=this;return(0,u.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let j,J;return new Promise((Ie,Be)=>{const rt=Ns("",20);x.port1.start();const Rt=setTimeout(()=>{Be(new Error("unsupported_event"))},b);J={messageChannel:x,onMessage(vr){const cs=vr;if(cs.data.eventId===rt)switch(cs.data.status){case"ack":clearTimeout(Rt),j=setTimeout(()=>{Be(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Ie(cs.data.response);break;default:clearTimeout(Rt),clearTimeout(j),Be(new Error("invalid_response"))}}},A.handlers.add(J),x.port1.addEventListener("message",J.onMessage),A.target.postMessage({eventType:p,eventId:rt,data:y},[x.port2])}).finally(()=>{J&&A.removeMessageHandler(J)})})()}}function bn(){return window}function uu(){return typeof bn().WorkerGlobalScope<"u"&&"function"==typeof bn().importScripts}function il(){return(il=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Vf="firebaseLocalStorageDb",zo=1,os="firebaseLocalStorage",Gm="fbase_key";class ho{constructor(p){this.request=p}toPromise(){return new Promise((p,y)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function cu(w,p){return w.transaction([os],p?"readwrite":"readonly").objectStore(os)}function sd(){const w=indexedDB.open(Vf,zo);return new Promise((p,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const b=w.result;try{b.createObjectStore(os,{keyPath:Gm})}catch(A){y(A)}}),w.addEventListener("success",(0,u.Z)(function*(){const b=w.result;b.objectStoreNames.contains(os)?p(b):(b.close(),yield function qo(){const w=indexedDB.deleteDatabase(Vf);return new ho(w).toPromise()}(),p(yield sd()))}))})}function od(w,p,y){return Go.apply(this,arguments)}function Go(){return(Go=(0,u.Z)(function*(w,p,y){const b=cu(w,!0).put({[Gm]:p,value:y});return new ho(b).toPromise()})).apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(w,p){const y=cu(w,!1).get(p),b=yield new ho(y).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function ol(w,p){const y=cu(w,!0).delete(p);return new ho(y).toPromise()}const ad=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,u.Z)(function*(){return y.db||(y.db=yield sd()),y.db})()}_withRetries(y){var b=this;return(0,u.Z)(function*(){let A=0;for(;;)try{const x=yield b._openDb();return yield y(x)}catch(x){if(A++>3)throw x;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,u.Z)(function*(){return uu()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,u.Z)(function*(){y.receiver=lu._getInstance(function Lf(){return uu()?self:null}()),y.receiver._subscribe("keyChanged",function(){var b=(0,u.Z)(function*(A,x){return{keyProcessed:(yield y._poll()).includes(x.key)}});return function(A,x){return b.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var b=(0,u.Z)(function*(A,x){return["keyChanged"]});return function(A,x){return b.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,u.Z)(function*(){var b,A;if(y.activeServiceWorker=yield function kf(){return il.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new id(y.activeServiceWorker);const x=yield y.sender._send("ping",{},800);x&&null!==(b=x[0])&&void 0!==b&&b.fulfilled&&null!==(A=x[0])&&void 0!==A&&A.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var b=this;return(0,u.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Ff(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:y},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const y=yield sd();return yield od(y,ou,"1"),yield ol(y,ou),!0}catch{}return!1})()}_withPendingWrite(y){var b=this;return(0,u.Z)(function*(){b.pendingWrites++;try{yield y()}finally{b.pendingWrites--}})()}_set(y,b){var A=this;return(0,u.Z)(function*(){return A._withPendingWrite((0,u.Z)(function*(){return yield A._withRetries(x=>od(x,y,b)),A.localCache[y]=b,A.notifyServiceWorker(y)}))})()}_get(y){var b=this;return(0,u.Z)(function*(){const A=yield b._withRetries(x=>function Zm(w,p){return sl.apply(this,arguments)}(x,y));return b.localCache[y]=A,A})()}_remove(y){var b=this;return(0,u.Z)(function*(){return b._withPendingWrite((0,u.Z)(function*(){return yield b._withRetries(A=>ol(A,y)),delete b.localCache[y],b.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,u.Z)(function*(){const b=yield y._withRetries(j=>{const J=cu(j,!1).getAll();return new ho(J).toPromise()});if(!b)return[];if(0!==y.pendingWrites)return[];const A=[],x=new Set;for(const{fbase_key:j,value:J}of b)x.add(j),JSON.stringify(y.localCache[j])!==JSON.stringify(J)&&(y.notifyListeners(j,J),A.push(j));for(const j of Object.keys(y.localCache))y.localCache[j]&&!x.has(j)&&(y.notifyListeners(j,null),A.push(j));return A})()}notifyListeners(y,b){this.localCache[y]=b;const A=this.listeners[y];if(A)for(const x of Array.from(A))x(b)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(b)}_removeListener(y,b){this.listeners[y]&&(this.listeners[y].delete(b),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),ld=1e12;class Ww{constructor(p){this.auth=p,this.counter=ld,this._widgets=new Map}render(p,y){const b=this.counter;return this._widgets.set(b,new $f(p,this.auth.name,y||{})),this.counter++,b}reset(p){var y;const b=p||ld;null===(y=this._widgets.get(b))||void 0===y||y.delete(),this._widgets.delete(b)}getResponse(p){var y;return(null===(y=this._widgets.get(p||ld))||void 0===y?void 0:y.getResponse())||""}execute(p){var y=this;return(0,u.Z)(function*(){var b;return null===(b=y._widgets.get(p||ld))||void 0===b||b.execute(),""})()}}class $f{constructor(p,y,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;Y(A,"argument-error",{appName:y}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Km(w){const p=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<w;b++)p.push(y.charAt(Math.floor(Math.random()*y.length)));return p.join("")}(50);const{callback:p,"expired-callback":y}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ym=gr("rcb"),uD=new ae(3e4,6e4);class al{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=bn().grecaptcha)||void 0===p||!p.render)}load(p,y=""){return Y(function dD(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),p,"argument-error"),this.shouldResolveImmediately(y)&&bt(bn().grecaptcha)?Promise.resolve(bn().grecaptcha):new Promise((b,A)=>{const x=bn().setTimeout(()=>{A(de(p,"network-request-failed"))},uD.get());bn()[Ym]=()=>{bn().clearTimeout(x),delete bn()[Ym];const J=bn().grecaptcha;if(!J||!bt(J))return void A(de(p,"internal-error"));const Ie=J.render;J.render=(Be,rt)=>{const Rt=Ie(Be,rt);return this.counter++,Rt},this.hostLanguage=y,b(J)},$t(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Ym,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(x),A(de(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var y;return!(null===(y=bn().grecaptcha)||void 0===y||!y.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class hD{load(p){return(0,u.Z)(function*(){return new Ww(p)})()}clearedOneInstance(){}}const Ln="recaptcha",jf={theme:"light",type:"image"};class hu{constructor(p,y=Object.assign({},jf),b){this.parameters=y,this.type=Ln,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yt(b),this.isInvisible="invisible"===this.parameters.size,Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;Y(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hD:new al,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const y=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(y)||new Promise(x=>{const j=J=>{J&&(p.tokenChangeListeners.delete(j),x(J))};p.tokenChangeListeners.add(j),p.isInvisible&&b.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return y=>{if(this.tokenChangeListeners.forEach(b=>b(y)),"function"==typeof p)p(y);else if("string"==typeof p){const b=bn()[p];"function"==typeof b&&b(y)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let y=p.container;if(!p.isInvisible){const b=document.createElement("div");y.appendChild(b),y=b}p.widgetId=p.getAssertedRecaptcha().render(y,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){Y(Ht()&&!uu(),p.auth,"internal-error"),yield function Qm(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const y=yield function ne(w){return W.apply(this,arguments)}(p.auth);Y(y,p.auth,"internal-error"),p.parameters.sitekey=y})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wr{constructor(p,y){this.verificationId=p,this.onConfirmation=y}confirm(p){const y=ja._fromVerification(this.verificationId,p);return this.onConfirmation(y)}}function Wo(w,p,y){return ud.apply(this,arguments)}function ud(){return(ud=(0,u.Z)(function*(w,p,y){const b=Yt(w),A=yield fu(b,p,(0,k.m9)(y));return new Wr(A,x=>Et(b,x))})).apply(this,arguments)}function cd(w,p,y){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(w,p,y){const b=(0,k.m9)(w);yield Jl(!1,b,"phone");const A=yield fu(b.auth,p,(0,k.m9)(y));return new Wr(A,x=>Vw(b,x))})).apply(this,arguments)}function Kw(w,p,y){return dd.apply(this,arguments)}function dd(){return(dd=(0,u.Z)(function*(w,p,y){const b=(0,k.m9)(w),A=yield fu(b.auth,p,(0,k.m9)(y));return new Wr(A,x=>vf(b,x))})).apply(this,arguments)}function fu(w,p,y){return hd.apply(this,arguments)}function hd(){return hd=(0,u.Z)(function*(w,p,y){var b;const A=yield y.verify();try{let x;if(Y("string"==typeof A,w,"argument-error"),Y(y.type===Ln,w,"argument-error"),x="string"==typeof p?{phoneNumber:p}:p,"session"in x){const j=x.session;if("phoneNumber"in x)return Y("enroll"===j.type,w,"internal-error"),(yield function td(w,p){return tt(w,"POST","/v2/accounts/mfaEnrollment:start",ve(w,p))}(w,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Y("signin"===j.type,w,"internal-error");const J=(null===(b=x.multiFactorHint)||void 0===b?void 0:b.uid)||x.multiFactorUid;return Y(J,w,"missing-multi-factor-info"),(yield function Uf(w,p){return tt(w,"POST","/v2/accounts/mfaSignIn:start",ve(w,p))}(w,{mfaPendingCredential:j.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield function Ow(w,p){return lf.apply(this,arguments)}(w,{phoneNumber:x.phoneNumber,recaptchaToken:A});return j}}finally{y._reset()}}),hd.apply(this,arguments)}function fi(w,p){return ln.apply(this,arguments)}function ln(){return(ln=(0,u.Z)(function*(w,p){yield oo((0,k.m9)(w),p)})).apply(this,arguments)}let Ai=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Yt(y)}verifyPhoneNumber(y,b){return fu(this.auth,y,(0,k.m9)(b))}static credential(y,b){return ja._fromVerification(y,b)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:b,temporaryProof:A}=y;return b&&A?ja._fromTokenResponse(b,A):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function et(w,p){return p?tr(p):(Y(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Wn extends ci{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return rs(p,this._buildIdpRequest())}_linkToIdToken(p,y){return rs(p,this._buildIdpRequest(y))}_getReauthenticationResolver(p){return rs(p,this._buildIdpRequest())}_buildIdpRequest(p){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(y.idToken=p),y}}function pi(w){return jc(w.auth,new Wn(w),w.bypassAuthState)}function Jm(w){const{auth:p,user:y}=w;return Y(y,p,"internal-error"),_f(y,new Wn(w),w.bypassAuthState)}function pu(w){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,u.Z)(function*(w){const{auth:p,user:y}=w;return Y(y,p,"internal-error"),oo(y,new Wn(w),w.bypassAuthState)})).apply(this,arguments)}class Hf{constructor(p,y,b,A,x=!1){this.auth=p,this.resolver=b,this.user=A,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var p=this;return new Promise(function(){var y=(0,u.Z)(function*(b,A){p.pendingPromise={resolve:b,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(x){p.reject(x)}});return function(b,A){return y.apply(this,arguments)}}())}onAuthEvent(p){var y=this;return(0,u.Z)(function*(){const{urlResponse:b,sessionId:A,postBody:x,tenantId:j,error:J,type:Ie}=p;if(J)return void y.reject(J);const Be={auth:y.auth,requestUri:b,sessionId:A,tenantId:j||void 0,postBody:x||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Ie)(Be))}catch(rt){y.reject(rt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return pi;case"linkViaPopup":case"linkViaRedirect":return pu;case"reauthViaPopup":case"reauthViaRedirect":return Jm;default:ge(this.auth,"internal-error")}}resolve(p){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xm=new ae(2e3,1e4);function fd(w,p,y){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(w,p,y){const b=Yt(w);Fe(w,p,is);const A=et(b,y);return new pd(b,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function gu(w,p,y){return go.apply(this,arguments)}function go(){return(go=(0,u.Z)(function*(w,p,y){const b=(0,k.m9)(w);Fe(b.auth,p,is);const A=et(b.auth,y);return new pd(b.auth,"reauthViaPopup",p,A,b).executeNotNull()})).apply(this,arguments)}function Qo(w,p,y){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(w,p,y){const b=(0,k.m9)(w);Fe(b.auth,p,is);const A=et(b.auth,y);return new pd(b.auth,"linkViaPopup",p,A,b).executeNotNull()})).apply(this,arguments)}let pd=(()=>{class w extends Hf{constructor(y,b,A,x,j){super(y,b,x,j),this.provider=A,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,u.Z)(function*(){const b=yield y.execute();return Y(b,y.auth,"internal-error"),b})()}onExecution(){var y=this;return(0,u.Z)(function*(){wt(1===y.filter.length,"Popup operations only handle one event");const b=Ns();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],b),y.authWindow.associatedEvent=b,y.resolver._originValidation(y.auth).catch(A=>{y.reject(A)}),y.resolver._isIframeWebStorageSupported(y.auth,A=>{A||y.reject(de(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(de(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var b,A;this.pollId=null!==(A=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(de(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,Xm.get())};y()}}return w.currentPopupAction=null,w})();const zf="pendingRedirect",ji=new Map;class ll extends Hf{constructor(p,y,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,y=this;return(0,u.Z)(function*(){let b=ji.get(y.auth._key());if(!b){try{const x=(yield function _r(w,p){return gd.apply(this,arguments)}(y.resolver,y.auth))?yield p().call(y):null;b=()=>Promise.resolve(x)}catch(A){b=()=>Promise.reject(A)}ji.set(y.auth._key(),b)}return y.bypassAuthState||ji.set(y.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var y=()=>super.onAuthEvent,b=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return y().call(b,p);if("unknown"!==p.type){if(p.eventId){const A=yield b.auth._redirectUserForId(p.eventId);if(A)return b.user=A,y().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function gd(){return(gd=(0,u.Z)(function*(w,p){const y=ul(p),b=ey(w);if(!(yield b._isAvailable()))return!1;const A="true"===(yield b._get(y));return yield b._remove(y),A})).apply(this,arguments)}function mu(w,p){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,u.Z)(function*(w,p){return ey(w)._set(ul(p),"true")})).apply(this,arguments)}function Jo(){ji.clear()}function Xo(w,p){ji.set(w._key(),p)}function ey(w){return tr(w._redirectPersistence)}function ul(w){return Ii(zf,w.config.apiKey,w.name)}function yu(w,p,y){return function ty(w,p,y){return md.apply(this,arguments)}(w,p,y)}function md(){return(md=(0,u.Z)(function*(w,p,y){const b=Yt(w);Fe(w,p,is),yield b._initializationPromise;const A=et(b,y);return yield mu(A,b),A._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function _u(w,p,y){return function cl(w,p,y){return Yr.apply(this,arguments)}(w,p,y)}function Yr(){return(Yr=(0,u.Z)(function*(w,p,y){const b=(0,k.m9)(w);Fe(b.auth,p,is),yield b.auth._initializationPromise;const A=et(b.auth,y);yield mu(A,b.auth);const x=yield Hi(b);return A._openRedirect(b.auth,p,"reauthViaRedirect",x)})).apply(this,arguments)}function vu(w,p,y){return function Vr(w,p,y){return ea.apply(this,arguments)}(w,p,y)}function ea(){return(ea=(0,u.Z)(function*(w,p,y){const b=(0,k.m9)(w);Fe(b.auth,p,is),yield b.auth._initializationPromise;const A=et(b.auth,y);yield Jl(!1,b,p.providerId),yield mu(A,b.auth);const x=yield Hi(b);return A._openRedirect(b.auth,p,"linkViaRedirect",x)})).apply(this,arguments)}function ny(w,p){return En.apply(this,arguments)}function En(){return(En=(0,u.Z)(function*(w,p){return yield Yt(w)._initializationPromise,mo(w,p,!1)})).apply(this,arguments)}function mo(w,p){return yd.apply(this,arguments)}function yd(){return(yd=(0,u.Z)(function*(w,p,y=!1){const b=Yt(w),A=et(b,p),j=yield new ll(b,A,y).execute();return j&&!y&&(delete j.user._redirectEventId,yield b._persistUserIfCurrent(j.user),yield b._setRedirectUser(null,p)),j})).apply(this,arguments)}function Hi(w){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,u.Z)(function*(w){const p=Ns(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class qf{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let y=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(y=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ta(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return as(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=p,y=!0)),y}sendToConsumer(p,y){var b;if(p.error&&!as(p)){const A=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";y.onError(de(this.auth,A))}else y.onAuthEvent(p)}isEventForConsumer(p,y){const b=null===y.eventId||!!p.eventId&&p.eventId===y.eventId;return y.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wu(p))}saveEventToCache(p){this.cachedEventUids.add(wu(p)),this.lastProcessedEventTime=Date.now()}}function wu(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function as({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===p?.code}function sr(w){return ls.apply(this,arguments)}function ls(){return(ls=(0,u.Z)(function*(w,p={}){return tt(w,"GET","/v1/projects",p)})).apply(this,arguments)}const Yw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gf=/^https?/;function na(){return(na=(0,u.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield sr(w);for(const y of p)try{if(Zf(y))return}catch{}ge(w,"unauthorized-domain")})).apply(this,arguments)}function Zf(w){const p=Ye(),{protocol:y,hostname:b}=new URL(p);if(w.startsWith("chrome-extension://")){const j=new URL(w);return""===j.hostname&&""===b?"chrome-extension:"===y&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===y&&j.hostname===b}if(!Gf.test(y))return!1;if(Yw.test(w))return b===w;const A=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(b)}const Wf=new ae(3e4,6e4);function dl(){const w=bn().___jsl;if(w?.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Os=null;const ra=new ae(5e3,15e3),Kf="__/auth/iframe",vd="emulator/auth/iframe",zi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qf(w){const p=w.config;Y(p.authDomain,w,"auth-domain-config-required");const y=p.emulator?he(p,vd):`https://${w.config.authDomain}/${Kf}`,b={apiKey:p.apiKey,appName:w.name,v:te.SDK_VERSION},A=Yf.get(w.config.apiHost);A&&(b.eid=A);const x=w._getFrameworks();return x.length&&(b.fw=x.join(",")),`${y}?${(0,k.xO)(b).slice(1)}`}function Jf(){return Jf=(0,u.Z)(function*(w){const p=yield function ry(w){return Os=Os||function ht(w){return new Promise((p,y)=>{var b,A,x;function j(){dl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{dl(),y(de(w,"network-request-failed"))},timeout:Wf.get()})}if(null!==(A=null===(b=bn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==A&&A.Iframe)p(gapi.iframes.getContext());else{if(null===(x=bn().gapi)||void 0===x||!x.load){const J=gr("iframefcb");return bn()[J]=()=>{gapi.load?j():y(de(w,"network-request-failed"))},$t(`https://apis.google.com/js/api.js?onload=${J}`).catch(Ie=>y(Ie))}j()}}).catch(p=>{throw Os=null,p})}(w),Os}(w),y=bn().gapi;return Y(y,w,"internal-error"),p.open({where:document.body,url:Qf(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zi,dontclear:!0},b=>new Promise(function(){var A=(0,u.Z)(function*(x,j){yield b.restyle({setHideOnLeave:!1});const J=de(w,"network-request-failed"),Ie=bn().setTimeout(()=>{j(J)},ra.get());function Be(){bn().clearTimeout(Ie),x(b)}b.ping(Be).then(Be,()=>{j(J)})});return function(x,j){return A.apply(this,arguments)}}()))}),Jf.apply(this,arguments)}const or={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dn=500,ia=600,Xf="_blank",Eu="http://localhost";class Kn{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ep="__/auth/handler",tp="emulator/auth/handler",Ed=encodeURIComponent("fac");function sa(w,p,y,b,A,x){return Si.apply(this,arguments)}function Si(){return(Si=(0,u.Z)(function*(w,p,y,b,A,x){Y(w.config.authDomain,w,"auth-domain-config-required"),Y(w.config.apiKey,w,"invalid-api-key");const j={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:b,v:te.SDK_VERSION,eventId:A};if(p instanceof is){p.setDefaultLanguage(w.languageCode),j.providerId=p.providerId||"",(0,k.xb)(p.getCustomParameters())||(j.customParameters=JSON.stringify(p.getCustomParameters()));for(const[rt,Rt]of Object.entries(x||{}))j[rt]=Rt}if(p instanceof Ha){const rt=p.getScopes().filter(Rt=>""!==Rt);rt.length>0&&(j.scopes=rt.join(","))}w.tenantId&&(j.tid=w.tenantId);const J=j;for(const rt of Object.keys(J))void 0===J[rt]&&delete J[rt];const Ie=yield w._getAppCheckToken(),Be=Ie?`#${Ed}=${encodeURIComponent(Ie)}`:"";return`${function Lt({config:w}){return w.emulator?he(w,tp):`https://${w.authDomain}/${ep}`}(w)}?${(0,k.xO)(J).slice(1)}${Be}`})).apply(this,arguments)}const ks="webStorageSupport",Fs=class iy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dr,this._completeRedirectFn=mo,this._overrideRedirectResult=Xo}_openPopup(p,y,b,A){var x=this;return(0,u.Z)(function*(){var j;wt(null===(j=x.eventManagers[p._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const J=yield sa(p,y,b,Ye(),A);return function hl(w,p,y,b=Dn,A=ia){const x=Math.max((window.screen.availHeight-A)/2,0).toString(),j=Math.max((window.screen.availWidth-b)/2,0).toString();let J="";const Ie=Object.assign(Object.assign({},or),{width:b.toString(),height:A.toString(),top:x,left:j}),Be=(0,k.z$)().toLowerCase();y&&(J=Z(Be)?Xf:y),$(Be)&&(p=p||Eu,Ie.scrollbars="yes");const rt=Object.entries(Ie).reduce((vr,[cs,Vs])=>`${vr}${cs}=${Vs},`,"");if(function Ut(w=(0,k.z$)()){var p;return an(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Be)&&"_self"!==J)return function bd(w,p){const y=document.createElement("a");y.href=w,y.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(b)}(p||"",J),new Kn(null);const Rt=window.open(p||"",J,rt);Y(Rt,w,"popup-blocked");try{Rt.focus()}catch{}return new Kn(Rt)}(p,J,Ns())})()}_openRedirect(p,y,b,A){var x=this;return(0,u.Z)(function*(){return yield x._originValidation(p),function rl(w){bn().location.href=w}(yield sa(p,y,b,Ye(),A)),new Promise(()=>{})})()}_initialize(p){const y=p._key();if(this.eventManagers[y]){const{manager:A,promise:x}=this.eventManagers[y];return A?Promise.resolve(A):(wt(x,"If manager is not set, promise should be"),x)}const b=this.initAndGetManager(p);return this.eventManagers[y]={promise:b},b.catch(()=>{delete this.eventManagers[y]}),b}initAndGetManager(p){var y=this;return(0,u.Z)(function*(){const b=yield function wd(w){return Jf.apply(this,arguments)}(p),A=new qf(p);return b.register("authEvent",x=>(Y(x?.authEvent,p,"invalid-auth-event"),{status:A.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[p._key()]={manager:A},y.iframes[p._key()]=b,A})()}_isIframeWebStorageSupported(p,y){this.iframes[p._key()].send(ks,{type:ks},A=>{var x;const j=null===(x=A?.[0])||void 0===x?void 0:x[ks];void 0!==j&&y(!!j),ge(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const y=p._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function bu(w){return na.apply(this,arguments)}(p)),this.originValidationPromises[y]}get _shouldInitProactively(){return ui()||oe()||an()}};class Cd{constructor(p){this.factorId=p}_process(p,y,b){switch(y.type){case"enroll":return this._finalizeEnroll(p,y.credential,b);case"signin":return this._finalizeSignIn(p,y.credential);default:return Ke("unexpected MultiFactorSessionType")}}}class us extends Cd{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new us(p)}_finalizeEnroll(p,y,b){return function su(w,p){return tt(w,"POST","/v2/accounts/mfaEnrollment:finalize",ve(w,p))}(p,{idToken:y,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,y){return function Zo(w,p){return tt(w,"POST","/v2/accounts/mfaSignIn:finalize",ve(w,p))}(p,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Id=(()=>{class w{constructor(){}static assertion(y){return us._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var _o="@firebase/auth";class Ls{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var y=this;return(0,u.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const y=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,y),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const y=this.internalListeners.get(p);y&&(this.internalListeners.delete(p),y(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ad=(0,k.Pz)("authIdTokenMaxAge")||300;let rp=null;const sy=w=>function(){var p=(0,u.Z)(function*(y){const b=y&&(yield y.getIdTokenResult()),A=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if(A&&A>Ad)return;const x=b?.token;rp!==x&&(rp=x,yield fetch(w,{method:x?"POST":"DELETE",headers:x?{Authorization:`Bearer ${x}`}:{}}))});return function(y){return p.apply(this,arguments)}}();function Iu(w=(0,te.getApp)()){const p=(0,te._getProvider)(w,"auth");if(p.isInitialized())return p.getImmediate();const y=function mr(w,p){const y=(0,te._getProvider)(w,"auth");if(y.isInitialized()){const A=y.getImmediate(),x=y.getOptions();if((0,k.vZ)(x,p??{}))return A;ge(A,"already-initialized")}return y.initialize({options:p})}(w,{popupRedirectResolver:Fs,persistence:[ad,au,Dr]}),b=(0,k.Pz)("authTokenSyncURL");if(b){const x=sy(b);(function Qa(w,p,y){(0,k.m9)(w).beforeAuthStateChanged(p,y)})(y,x,()=>x(y.currentUser)),function iu(w,p,y,b){(0,k.m9)(w).onIdTokenChanged(p,y,b)}(y,j=>x(j))}const A=(0,k.q4)("auth");return A&&mn(y,`http://${A}`),y}!function Dd(w){(0,te._registerComponent)(new se.wA("auth",(p,{options:y})=>{const b=p.getProvider("app").getImmediate(),A=p.getProvider("heartbeat"),x=p.getProvider("app-check-internal"),{apiKey:j,authDomain:J}=b.options;Y(j&&!j.includes(":"),"invalid-api-key",{appName:b.name});const Ie={apiKey:j,authDomain:J,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zl(w)},Be=new vn(b,A,x,Ie);return function no(w,p){const y=p?.persistence||[],b=(Array.isArray(y)?y:[y]).map(tr);p?.errorMap&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(b,p?.popupRedirectResolver)}(Be,y),Be},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,y,b)=>{p.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new se.wA("auth-internal",p=>{const y=Yt(p.getProvider("auth").getImmediate());return new Ls(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(_o,"0.23.2",function la(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,te.registerVersion)(_o,"0.23.2","esm2017")}("Browser")},2090:(mt,De,O)=>{O.d(De,{$s:()=>tr,BH:()=>_e,L:()=>Pe,LL:()=>gn,P0:()=>Le,Pz:()=>de,Sg:()=>Fe,UG:()=>Ke,US:()=>se,ZB:()=>H,ZR:()=>tt,aH:()=>ge,b$:()=>Ht,eu:()=>Ue,hl:()=>me,jU:()=>wt,m9:()=>Ii,ne:()=>zt,pd:()=>Ci,q4:()=>we,r3:()=>Ts,ru:()=>Ye,tV:()=>B,uI:()=>Y,vZ:()=>st,w1:()=>ka,xO:()=>qn,xb:()=>Fa,z$:()=>Oe,zI:()=>Ce,zd:()=>si});const ue=function(F){const P=[];let $=0;for(let oe=0;oe<F.length;oe++){let Z=F.charCodeAt(oe);Z<128?P[$++]=Z:Z<2048?(P[$++]=Z>>6|192,P[$++]=63&Z|128):55296==(64512&Z)&&oe+1<F.length&&56320==(64512&F.charCodeAt(oe+1))?(Z=65536+((1023&Z)<<10)+(1023&F.charCodeAt(++oe)),P[$++]=Z>>18|240,P[$++]=Z>>12&63|128,P[$++]=Z>>6&63|128,P[$++]=63&Z|128):(P[$++]=Z>>12|224,P[$++]=Z>>6&63|128,P[$++]=63&Z|128)}return P},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,P){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,oe=[];for(let Z=0;Z<F.length;Z+=3){const Te=F[Z],yt=Z+1<F.length,nn=yt?F[Z+1]:0,kn=Z+2<F.length,an=kn?F[Z+2]:0;let Gr=(15&nn)<<2|an>>6,ui=63&an;kn||(ui=64,yt||(Gr=64)),oe.push($[Te>>2],$[(3&Te)<<4|nn>>4],$[Gr],$[ui])}return oe.join("")},encodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(F):this.encodeByteArray(ue(F),P)},decodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(F):function(F){const P=[];let $=0,oe=0;for(;$<F.length;){const Z=F[$++];if(Z<128)P[oe++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const Te=F[$++];P[oe++]=String.fromCharCode((31&Z)<<6|63&Te)}else if(Z>239&&Z<365){const kn=((7&Z)<<18|(63&F[$++])<<12|(63&F[$++])<<6|63&F[$++])-65536;P[oe++]=String.fromCharCode(55296+(kn>>10)),P[oe++]=String.fromCharCode(56320+(1023&kn))}else{const Te=F[$++],yt=F[$++];P[oe++]=String.fromCharCode((15&Z)<<12|(63&Te)<<6|63&yt)}}return P.join("")}(this.decodeStringToByteArray(F,P))},decodeStringToByteArray(F,P){this.init_();const $=P?this.charToByteMapWebSafe_:this.charToByteMap_,oe=[];for(let Z=0;Z<F.length;){const Te=$[F.charAt(Z++)],nn=Z<F.length?$[F.charAt(Z)]:0;++Z;const an=Z<F.length?$[F.charAt(Z)]:64;++Z;const Ut=Z<F.length?$[F.charAt(Z)]:64;if(++Z,null==Te||null==nn||null==an||null==Ut)throw new Ne;oe.push(Te<<2|nn>>4),64!==an&&(oe.push(nn<<4&240|an>>2),64!==Ut&&oe.push(an<<6&192|Ut))}return oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pe=function(F){return function(F){const P=ue(F);return se.encodeByteArray(P,!0)}(F).replace(/\./g,"")},B=function(F){try{return se.decodeString(F,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function H(F,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return P}for(const $ in P)!P.hasOwnProperty($)||!Ve($)||(F[$]=H(F[$],P[$]));return F}function Ve(F){return"__proto__"!==F}const xe=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=F&&B(F[1]);return P&&JSON.parse(P)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},we=F=>{var P,$;return null===($=null===(P=xe())||void 0===P?void 0:P.emulatorHosts)||void 0===$?void 0:$[F]},Le=F=>{const P=we(F);if(!P)return;const $=P.lastIndexOf(":");if($<=0||$+1===P.length)throw new Error(`Invalid host ${P} with no separate hostname and port!`);const oe=parseInt(P.substring($+1),10);return"["===P[0]?[P.substring(1,$-1),oe]:[P.substring(0,$),oe]},ge=()=>{var F;return null===(F=xe())||void 0===F?void 0:F.config},de=F=>{var P;return null===(P=xe())||void 0===P?void 0:P[`_${F}`]};class _e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,$)=>{this.resolve=P,this.reject=$})}wrapCallback(P){return($,oe)=>{$?this.reject($):this.resolve(oe),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P($):P($,oe))}}}function Fe(F,P){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const oe=P||"demo-project",Z=F.iat||0,Te=F.sub||F.user_id;if(!Te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${oe}`,aud:oe,iat:Z,exp:Z+3600,auth_time:Z,sub:Te,user_id:Te,firebase:{sign_in_provider:"custom",identities:{}}},F);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify(yt)),""].join(".")}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Y(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function Ke(){var F;const P=null===(F=xe())||void 0===F?void 0:F.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function wt(){return"object"==typeof self&&self.self===self}function Ye(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function Ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ka(){const F=Oe();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function me(){try{return"object"==typeof indexedDB}catch{return!1}}function Ue(){return new Promise((F,P)=>{try{let $=!0;const oe="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(oe);Z.onsuccess=()=>{Z.result.close(),$||self.indexedDB.deleteDatabase(oe),F(!0)},Z.onupgradeneeded=()=>{$=!1},Z.onerror=()=>{var Te;P((null===(Te=Z.error)||void 0===Te?void 0:Te.message)||"")}}catch($){P($)}})}function Ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class tt extends Error{constructor(P,$,oe){super($),this.code=P,this.customData=oe,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gn.prototype.create)}}class gn{constructor(P,$,oe){this.service=P,this.serviceName=$,this.errors=oe}create(P,...$){const oe=$[0]||{},Z=`${this.service}/${P}`,Te=this.errors[P],yt=Te?function pt(F,P){return F.replace(ut,($,oe)=>{const Z=P[oe];return null!=Z?String(Z):`<${oe}?>`})}(Te,oe):"Error";return new tt(Z,`${this.serviceName}: ${yt} (${Z}).`,oe)}}const ut=/\{\$([^}]+)}/g;function Ts(F,P){return Object.prototype.hasOwnProperty.call(F,P)}function Fa(F){for(const P in F)if(Object.prototype.hasOwnProperty.call(F,P))return!1;return!0}function st(F,P){if(F===P)return!0;const $=Object.keys(F),oe=Object.keys(P);for(const Z of $){if(!oe.includes(Z))return!1;const Te=F[Z],yt=P[Z];if(eo(Te)&&eo(yt)){if(!st(Te,yt))return!1}else if(Te!==yt)return!1}for(const Z of oe)if(!$.includes(Z))return!1;return!0}function eo(F){return null!==F&&"object"==typeof F}function qn(F){const P=[];for(const[$,oe]of Object.entries(F))Array.isArray(oe)?oe.forEach(Z=>{P.push(encodeURIComponent($)+"="+encodeURIComponent(Z))}):P.push(encodeURIComponent($)+"="+encodeURIComponent(oe));return P.length?"&"+P.join("&"):""}function si(F){const P={};return F.replace(/^\?/,"").split("&").forEach(oe=>{if(oe){const[Z,Te]=oe.split("=");P[decodeURIComponent(Z)]=decodeURIComponent(Te)}}),P}function Ci(F){const P=F.indexOf("?");if(!P)return"";const $=F.indexOf("#",P);return F.substring(P,$>0?$:void 0)}function zt(F,P){const $=new ct(F,P);return $.subscribe.bind($)}class ct{constructor(P,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{P(this)}).catch(oe=>{this.error(oe)})}next(P){this.forEachObserver($=>{$.next(P)})}error(P){this.forEachObserver($=>{$.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,$,oe){let Z;if(void 0===P&&void 0===$&&void 0===oe)throw new Error("Missing Observer.");Z=function oi(F,P){if("object"!=typeof F||null===F)return!1;for(const $ of P)if($ in F&&"function"==typeof F[$])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:$,complete:oe},void 0===Z.next&&(Z.next=Or),void 0===Z.error&&(Z.error=Or),void 0===Z.complete&&(Z.complete=Or);const Te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch{}}),this.observers.push(Z),Te}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,P)}sendOne(P,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{$(this.observers[P])}catch(oe){typeof console<"u"&&console.error&&console.error(oe)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Or(){}const Wt=1e3,qr=2,er=144e5,li=.5;function tr(F,P=Wt,$=qr){const oe=P*Math.pow($,F),Z=Math.round(li*oe*(Math.random()-.5)*2);return Math.min(er,oe+Z)}function Ii(F){return F&&F._delegate?F._delegate:F}},8065:(mt,De,O)=>{var u=O(4650);let k=null;function te(){return k}class fe{}const se=new u.OlP("DocumentToken");let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ae(){return(0,u.LFG)(B)}()},providedIn:"platform"}),n})();const Pe=new u.OlP("Location Initialized");let B=(()=>{class n extends Ne{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(t){const r=te().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=te().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){V()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){V()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function H(){return new B((0,u.LFG)(se))}()},providedIn:"platform"}),n})();function V(){return!!window.history.pushState}function Ve(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Se(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let Je=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(xe)},providedIn:"root"}),n})();const Q=new u.OlP("appBaseHref");let xe=(()=>{class n extends Je{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ve(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+We(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+We(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+We(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ne),u.LFG(Q,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),we=(()=>{class n extends Je{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ve(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+We(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+We(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ne),u.LFG(Q,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Fe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Se(_e(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+We(r))}normalize(t){return n.stripTrailingSlash(function de(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,_e(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+We(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=We,n.joinWithSlash=Ve,n.stripTrailingSlash=Se,n.\u0275fac=function(t){return new(t||n)(u.LFG(Je))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ge(){return new Le((0,u.LFG)(Je))}()},providedIn:"root"}),n})();function _e(n){return n.replace(/\/index.html$/,"")}const Zn=/\s+/,Ge=[];let St=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this.initialClasses=Ge,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Zn):Ge}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Zn):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Zn).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class mr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let no=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mr(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),mn(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{mn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function mn(n,e){n.context.$implicit=e.item}let Lr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new kt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Wl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Wl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class kt{constructor(){this.$implicit=null,this.ngIf=null}}function Wl(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let Ti=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,a]=t.split("."),c=-1===i.indexOf("-")?void 0:u.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,a?`${r}${a}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Fw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Pm="browser";function is(n){return n===Pm}let gf=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new km((0,u.LFG)(se),window)}),n})();class km{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function mf(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=io(this.window.history)||io(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function io(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Rf extends fe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class iu extends Rf{static makeCurrent(){!function ue(n){k||(k=n)}(new iu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ja(){return Qa=Qa||document.querySelector("base"),Qa?Qa.getAttribute("href"):null}();return null==t?null:function qw(n){lo=lo||document.createElement("a"),lo.setAttribute("href",n);const e=lo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function La(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let lo,Qa=null;const Gw=new u.OlP("TRANSITION_ID"),Pf=[{provide:u.ip1,useFactory:function Nf(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=te(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Gw,se,u.zs3],multi:!0}];let Xc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ed=new u.OlP("EventManagerPlugins");let td=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ed),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class su{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=te().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Of=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),jo=(()=>{class n extends Of{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const co={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ho=/%COMP%/g,nl=new u.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function au(n,e){return e.flat(100).map(t=>t.replace(Ho,n))}function qm(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Dr=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new rd(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof uu?i.applyToHost(t):i instanceof rl&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const c=this.eventManager,f=this.sharedStylesHost,m=this.removeStylesOnCompDestory;switch(r.encapsulation){case u.ifc.Emulated:a=new uu(c,f,r,this.appId,m);break;case u.ifc.ShadowDom:return new bn(c,f,t,r);default:a=new rl(c,f,r,m)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(td),u.LFG(jo),u.LFG(u.AFp),u.LFG(nl))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class rd{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(co[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(id(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(id(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=co[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=co[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,qm(r)):this.eventManager.addEventListener(e,t,qm(r))}}function id(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class bn extends rd{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=au(i.id,i.styles);for(const c of a){const f=document.createElement("style");f.textContent=c,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class rl extends rd{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=au(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class uu extends rl{constructor(e,t,r,i,a){const c=i+"-"+r.id;super(e,t,r,a,c),this.contentAttr=function Zw(n){return"_ngcontent-%COMP%".replace(Ho,n)}(c),this.hostAttr=function zm(n){return"_nghost-%COMP%".replace(Ho,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let kf=(()=>{class n extends su{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const il=["alt","control","meta","shift"],Ff={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lf={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vf=(()=>{class n extends su{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>te().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),il.forEach(v=>{const C=r.indexOf(v);C>-1&&(r.splice(C,1),c+=v+".")}),c+=a,0!=r.length||0===a.length)return null;const m={};return m.domEventName=i,m.fullKey=c,m}static matchEventFullKeyCode(t,r){let i=Ff[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),il.forEach(c=>{c!==i&&(0,Lf[c])(t)&&(a+=c+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Zm=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Pm},{provide:u.g9A,useValue:function qo(){iu.makeCurrent()},multi:!0},{provide:se,useFactory:function od(){return(0,u.RDi)(document),document},deps:[]}]),sl=new u.OlP(""),ol=[{provide:u.rWj,useClass:class uo{addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(m){c=c||m,a--,0==a&&r(c)};i.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?te().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],fo=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function sd(){return new u.qLn},deps:[]},{provide:ed,useClass:kf,multi:!0,deps:[se,u.R0b,u.Lbi]},{provide:ed,useClass:Vf,multi:!0,deps:[se]},{provide:Dr,useClass:Dr,deps:[td,jo,u.AFp,nl]},{provide:u.FYo,useExisting:Dr},{provide:Of,useExisting:jo},{provide:jo,useClass:jo,deps:[se]},{provide:td,useClass:td,deps:[ed,u.R0b]},{provide:class Fm{},useClass:Xc,deps:[]},[]];let po=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Gw,useExisting:u.AFp},Pf]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(sl,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...fo,...ol],imports:[Fw,u.hGG]}),n})(),Wm=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Zo(){return new Wm((0,u.LFG)(se))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let dd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(hd),r},providedIn:"root"}),n})(),hd=(()=>{class n extends dd{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${u.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${u.JZr})`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function fu(n){return new hd(n.get(se))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var ln=O(8996),Ai=O(7669);function et(...n){const e=(0,Ai.yG)(n);return(0,ln.D)(n,e)}var Wn=O(7579);class pi extends Wn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const pu=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Kr=O(9751);const{isArray:Hf}=Array,{getPrototypeOf:Xm,prototype:fd,keys:Yo}=Object;function gu(n){if(1===n.length){const e=n[0];if(Hf(e))return{args:e,keys:null};if(function go(n){return n&&"object"==typeof n&&Xm(n)===fd}(e)){const t=Yo(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Qo=O(4671),Ct=O(4004);const{isArray:pd}=Array;function ji(n){return(0,Ct.U)(e=>function zf(n,e){return pd(e)?n(...e):n(e)}(n,e))}function ll(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var _r=O(5403),gd=O(9672);function mu(...n){const e=(0,Ai.yG)(n),t=(0,Ai.jO)(n),{args:r,keys:i}=gu(n);if(0===r.length)return(0,ln.D)([],e);const a=new Kr.y(function Ps(n,e,t=Qo.y){return r=>{Jo(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let m=0;m<i;m++)Jo(e,()=>{const v=(0,ln.D)(n[m],e);let C=!1;v.subscribe((0,_r.x)(r,T=>{a[m]=T,C||(C=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>ll(i,c):Qo.y));return t?a.pipe(ji(t)):a}function Jo(n,e,t){n?(0,gd.f)(t,n,e):e()}var Xo=O(8189);function ul(...n){return function ey(){return(0,Xo.J)(1)}()((0,ln.D)(n,(0,Ai.yG)(n)))}var yu=O(8421);function ty(n){return new Kr.y(e=>{(0,yu.Xf)(n()).subscribe(e)})}var md=O(9635),_u=O(576);function cl(n,e){const t=(0,_u.m)(n)?n:()=>n,r=i=>i.error(t());return new Kr.y(e?i=>e.schedule(r,0,i):r)}var Yr=O(515),vu=O(727),Vr=O(4482);function ea(){return(0,Vr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,_r.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ny extends Kr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Vr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,_r.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vu.w0.EMPTY)}return e}refCount(){return ea()(this)}}function En(n,e){return(0,Vr.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,_r.x)(r,m=>{i?.unsubscribe();let v=0;const C=a++;(0,yu.Xf)(n(m,C)).subscribe(i=(0,_r.x)(r,T=>r.next(e?e(m,T,C,v++):T),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function mo(n){return n<=0?()=>Yr.E:(0,Vr.e)((e,t)=>{let r=0;e.subscribe((0,_r.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Hi(n,e){return(0,Vr.e)((t,r)=>{let i=0;t.subscribe((0,_r.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Vn=O(5577);function _d(n){return(0,Vr.e)((e,t)=>{let r=!1;e.subscribe((0,_r.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function qf(n=wu){return(0,Vr.e)((e,t)=>{let r=!1;e.subscribe((0,_r.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function wu(){return new pu}function as(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hi((i,a)=>n(i,a,r)):Qo.y,mo(1),t?_d(e):qf(()=>new pu))}function ta(n,e){return(0,_u.m)(e)?(0,Vn.z)(n,e,1):(0,Vn.z)(n,1)}function sr(n,e,t){const r=(0,_u.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,Vr.e)((i,a)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let f=!0;i.subscribe((0,_r.x)(a,m=>{var v;null===(v=r.next)||void 0===v||v.call(r,m),a.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),a.complete()},m=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,m),a.error(m)},()=>{var m,v;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):Qo.y}function ls(n){return(0,Vr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,_r.x)(t,void 0,void 0,c=>{a=(0,yu.Xf)(n(c,ls(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Gf(n,e){return(0,Vr.e)(function Yw(n,e,t,r,i){return(a,c)=>{let f=t,m=e,v=0;a.subscribe((0,_r.x)(c,C=>{const T=v++;m=f?n(m,C,T):(f=!0,C),r&&c.next(m)},i&&(()=>{f&&c.next(m),c.complete()})))}}(n,e,arguments.length>=2,!0))}function bu(n){return n<=0?()=>Yr.E:(0,Vr.e)((e,t)=>{let r=[];e.subscribe((0,_r.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function na(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hi((i,a)=>n(i,a,r)):Qo.y,bu(1),t?_d(e):qf(()=>new pu))}function dl(n){return(0,Vr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ht="primary",Os=Symbol("RouteTitle");class ry{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ra(n){return new ry(n)}function Kf(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function zi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Yf(n[i],e[i]))return!1;return!0}function Yf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Qf(n){return Array.prototype.concat.apply([],n)}function wd(n){return n.length>0?n[n.length-1]:null}function or(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Dn(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,ln.D)(Promise.resolve(n)):et(n)}const ia=!1,Xf={exact:function bd(n,e,t){if(!Fs(n.segments,e.segments)||!sa(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!bd(n.children[r],e.children[r],t))return!1;return!0},subset:tp},Eu={exact:function hl(n,e){return zi(n,e)},subset:function ep(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Yf(n[t],e[t]))},ignored:()=>!0};function Kn(n,e,t){return Xf[t.paths](n.root,e.root,t.matrixParams)&&Eu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function tp(n,e,t){return Ed(n,e,e.segments,t)}function Ed(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Fs(i,t)||e.hasChildren()||!sa(i,t,r))}if(n.segments.length===t.length){if(!Fs(n.segments,t)||!sa(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!tp(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Fs(n.segments,i)&&sa(n.segments,i,r)&&n.children[ht])&&Ed(n.children[ht],e,a,r)}}function sa(n,e,t){return e.every((r,i)=>Eu[t](n[i].parameters,r.parameters))}class Si{constructor(e=new Lt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ra(this.queryParams)),this._queryParamMap}toString(){return Cu.serialize(this)}}class Lt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,or(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oa(this)}}class ks{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ra(this.parameters)),this._parameterMap}toString(){return np(this)}}function Fs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let us=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Id},providedIn:"root"}),n})();class Id{parse(e){const t=new A(e);return new Si(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${aa(e.root,!0)}`,r=function rp(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${_o(t)}=${_o(i)}`).join("&"):`${_o(t)}=${_o(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Td(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Cu=new Id;function oa(n){return n.segments.map(e=>np(e)).join("/")}function aa(n,e){if(!n.hasChildren())return oa(n);if(e){const t=n.children[ht]?aa(n.children[ht],!1):"",r=[];return or(n.children,(i,a)=>{a!==ht&&r.push(`${a}:${aa(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Cd(n,e){let t=[];return or(n.children,(r,i)=>{i===ht&&(t=t.concat(e(r,i)))}),or(n.children,(r,i)=>{i!==ht&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ht?[aa(n.children[ht],!1)]:[`${i}:${aa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ht]?`${oa(n)}/${t[0]}`:`${oa(n)}/(${t.join("//")})`}}function yo(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _o(n){return yo(n).replace(/%3B/gi,";")}function Ls(n){return yo(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function la(n){return decodeURIComponent(n)}function Dd(n){return la(n.replace(/\+/g,"%20"))}function np(n){return`${Ls(n.path)}${function Ad(n){return Object.keys(n).map(e=>`;${Ls(e)}=${Ls(n[e])}`).join("")}(n.parameters)}`}const sy=/^[^\/()?;=#]+/;function Iu(n){const e=n.match(sy);return e?e[0]:""}const w=/^[^=?&#]+/,y=/^[^&#]+/;class A{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ht]=new Lt(e,t)),r}parseSegment(){const e=Iu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,ia);return this.capture(e),new ks(la(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Iu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Iu(this.remaining);i&&(r=i,this.capture(r))}e[la(t)]=la(r)}parseQueryParam(e){const t=function p(n){const e=n.match(w);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function b(n){const e=n.match(y);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Dd(t),a=Dd(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Iu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new u.vHH(4010,ia);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=ht);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[ht]:new Lt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,ia)}}function x(n){return n.segments.length>0?new Lt([],{[ht]:n}):n}function j(n){const e={};for(const r of Object.keys(n.children)){const a=j(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function J(n){if(1===n.numberOfChildren&&n.children[ht]){const e=n.children[ht];return new Lt(n.segments.concat(e.segments),e.children)}return n}(new Lt(n.segments,e))}function Ie(n){return n instanceof Si}const Be=!1;function cs(n,e,t,r,i){if(0===t.length)return xi(e.root,e.root,e.root,r,i);const a=function pl(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Tu(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return or(a.outlets,(m,v)=>{f[v]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Tu(t,e,r)}(t);return a.toRoot()?xi(e.root,e.root,new Lt([],{}),r,i):function c(m){const v=function Au(n,e,t,r){if(n.isAbsolute)return new Us(e.root,!0,0);if(-1===r)return new Us(t,t===e.root,0);return function ua(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new u.vHH(4005,Be&&"Invalid number of '../'");i=r.segments.length}return new Us(r,!1,i-a)}(t,r+(Vs(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,m),C=v.processChildren?Bs(v.segmentGroup,v.index,a.commands):ca(v.segmentGroup,v.index,a.commands);return xi(e.root,v.segmentGroup,C,r,i)}(n.snapshot?._lastPathIndex)}function Vs(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fl(n){return"object"==typeof n&&null!=n&&n.outlets}function xi(n,e,t,r,i){let c,a={};r&&or(r,(m,v)=>{a[v]=Array.isArray(m)?m.map(C=>`${C}`):`${m}`}),c=n===e?t:Sd(n,e,t);const f=x(j(c));return new Si(f,a,i)}function Sd(n,e,t){const r={};return or(n.children,(i,a)=>{r[a]=i===e?t:Sd(i,e,t)}),new Lt(n.segments,r)}class Tu{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Vs(r[0]))throw new u.vHH(4003,Be&&"Root segment cannot have matrix parameters");const i=r.find(fl);if(i&&i!==wd(r))throw new u.vHH(4004,Be&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Us{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ca(n,e,t){if(n||(n=new Lt([],{})),0===n.segments.length&&n.hasChildren())return Bs(n,e,t);const r=function oy(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(fl(f))break;const m=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!ay(m,v,c))return a;r+=2}else{if(!ay(m,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Lt(n.segments.slice(0,r.pathIndex),{});return a.children[ht]=new Lt(n.segments.slice(r.pathIndex),n.children),Bs(a,0,i)}return r.match&&0===i.length?new Lt(n.segments,{}):r.match&&!n.hasChildren()?xd(n,e,t):r.match?Bs(n,0,i):xd(n,e,t)}function Bs(n,e,t){if(0===t.length)return new Lt(n.segments,{});{const r=function Su(n){return fl(n[0])?n[0].outlets:{[ht]:n}}(t),i={};if(!r[ht]&&n.children[ht]&&1===n.numberOfChildren&&0===n.children[ht].segments.length){const a=Bs(n.children[ht],e,t);return new Lt(n.segments,a.children)}return or(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=ca(n.children[c],e,a))}),or(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new Lt(n.segments,i)}}function xd(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(fl(a)){const m=Md(a.outlets);return new Lt(r,m)}if(0===i&&Vs(t[0])){r.push(new ks(n.segments[e].path,Qw(t[0]))),i++;continue}const c=fl(a)?a.outlets[ht]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&Vs(f)?(r.push(new ks(c,Qw(f))),i+=2):(r.push(new ks(c,{})),i++)}return new Lt(r,{})}function Md(n){const e={};return or(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=xd(new Lt([],{}),0,t))}),e}function Qw(n){const e={};return or(n,(t,r)=>e[r]=`${t}`),e}function ay(n,e,t){return n==t.path&&zi(e,t.parameters)}const Rd="imperative";class $s{constructor(e,t){this.id=e,this.url=t}}class ly extends $s{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class da extends $s{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Nd extends $s{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gl extends $s{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Pd extends $s{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xu extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fD extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pD extends $s{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class LN extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gD extends $s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uy{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mD{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Jw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ip{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cy{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dy{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let yD=(()=>{class n{createUrlTree(t,r,i,a,c,f){return cs(t||r.root,i,a,c,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),vD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(e){return yD.\u0275fac(e)},providedIn:"root"}),n})();class tb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=hy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ds(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ds(e,this._root).map(t=>t.value)}}function hy(n,e){if(n===e.value)return e;for(const t of e.children){const r=hy(n,t);if(r)return r}return null}function ds(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ds(n,t);if(r.length)return r.unshift(e),r}return[]}class gi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Mu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class nb extends tb{constructor(e,t){super(e),this.snapshot=t,fy(this,e)}toString(){return this.snapshot.toString()}}function rb(n,e){const t=function wD(n,e){const c=new sp([],{},{},"",{},ht,e,null,n.root,-1,{});return new ob("",new gi(c,[]))}(n,e),r=new pi([new ks("",{})]),i=new pi({}),a=new pi({}),c=new pi({}),f=new pi(""),m=new Ru(r,i,c,f,a,ht,e,t.root);return m.snapshot=t.root,new nb(new gi(m,[]),t)}class Ru{constructor(e,t,r,i,a,c,f,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,Ct.U)(v=>v[Os]))??et(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ct.U)(e=>ra(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ct.U)(e=>ra(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ib(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function sb(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class sp{get title(){return this.data?.[Os]}constructor(e,t,r,i,a,c,f,m,v,C,T){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=C,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ra(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ra(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ob extends tb{constructor(e,t){super(t),this.url=e,fy(this,t)}toString(){return ab(this._root)}}function fy(n,e){e.value._routerState=n,e.children.forEach(t=>fy(n,t))}function ab(n){const e=n.children.length>0?` { ${n.children.map(ab).join(", ")} } `:"";return`${n.value}${e}`}function Nu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),zi(e.params,t.params)||n.params.next(t.params),function vd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),zi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hs(n,e){const t=zi(n.params,e.params)&&function iy(n,e){return Fs(n,e)&&n.every((t,r)=>zi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hs(n.parent,e.parent))}function Pu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function lb(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Pu(n,r,i);return Pu(n,r)})}(n,e,t);return new gi(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Pu(n,f)),c}}const r=function ub(n){return new Ru(new pi(n.url),new pi(n.params),new pi(n.queryParams),new pi(n.fragment),new pi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Pu(n,a));return new gi(r,i)}}const cb="ngNavigationCancelingError";function bD(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ie(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ED(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function ED(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[cb]=!0,r.cancellationCode=e,t&&(r.url=t),r}function op(n){return ap(n)&&Ie(n.url)}function ap(n){return n&&n[cb]}class VN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new lp,this.attachRef=null}}let lp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new VN,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kd=!1;let py=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ht,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(lp),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,kd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,kd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,kd);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new u.vHH(4013,kd);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new CD(t,f,i.injector);if(r&&function ID(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(c);this.activated=i.createComponent(v,i.length,m)}else this.activated=i.createComponent(c,{index:i.length,injector:m,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),n})();class CD{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ru?this.route:e===lp?this.childContexts:this.parent.get(e,t)}}let gy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[py],encapsulation:2}),n})();function my(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function up(n){const e=n.children&&n.children.map(up),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ht&&(t.component=gy),t}function qi(n){return n.outlet||ht}function fb(n,e){const t=n.filter(r=>qi(r)===e);return t.push(...n.filter(r=>qi(r)!==e)),t}function Fd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class pb{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Nu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Mu(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),or(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Mu(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Mu(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Mu(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Xw(a.value.snapshot))}),e.children.length&&this.forwardEvent(new ip(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Nu(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Nu(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=Fd(i.snapshot),m=f?.get(u._Vd)??null;c.attachRef=null,c.route=i,c.resolver=m,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class SD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vy{constructor(e,t){this.component=e,this.route=t}}function Ld(n,e,t){const r=n._root;return Ou(r,e?e._root:null,t,[r.value])}function yl(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:r}function Ou(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Mu(e);return n.children.forEach(c=>{(function gb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const m=function xD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Fs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fs(n.url,e.url)||!zi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hs(n,e)||!zi(n.queryParams,e.queryParams);default:return!hs(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new SD(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Ou(n,e,a.component?f?f.children:null:t,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new vy(f.outlet.component,c))}else c&&Vd(e,f,i),i.canActivateChecks.push(new SD(r)),Ou(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),or(a,(c,f)=>Vd(c,t.getContext(f),i)),i}function Vd(n,e,t){const r=Mu(n),i=n.value;or(r,(a,c)=>{Vd(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new vy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ku(n){return"function"==typeof n}function vo(n){return n instanceof pu||"EmptyError"===n?.name}const cp=Symbol("INITIAL_VALUE");function ha(){return En(n=>mu(n.map(e=>e.pipe(mo(1),function yd(...n){const e=(0,Ai.yG)(n);return(0,Vr.e)((t,r)=>{(e?ul(n,t,e):ul(n,t)).subscribe(r)})}(cp)))).pipe((0,Ct.U)(e=>{for(const t of e)if(!0!==t){if(t===cp)return cp;if(!1===t||t instanceof Si)return t}return!0}),Hi(e=>e!==cp),mo(1)))}function Dy(n){return(0,md.z)(sr(e=>{if(Ie(e))throw bD(0,e)}),(0,Ct.U)(e=>!0===e))}const Ay={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vb(n,e,t,r,i){const a=Sy(n,e,t);return a.matched?function Fu(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?et(i.map(c=>{const f=yl(c,n);return Dn(function Cy(n){return n&&ku(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(ha(),Dy()):et(!0)}(r=my(e,r),e,t).pipe((0,Ct.U)(c=>!0===c?a:{...Ay})):et(a)}function Sy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ay}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Kf)(t,n,e);if(!i)return{...Ay};const a={};or(i.posParams,(f,m)=>{a[m]=f.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Lu(n,e,t,r){if(t.length>0&&function FD(n,e,t){return t.some(r=>xy(n,e,r)&&qi(r)!==ht)}(n,t,r)){const a=new Lt(e,function wb(n,e,t,r){const i={};i[ht]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&qi(a)!==ht){const c=new Lt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[qi(a)]=c}return i}(n,e,r,new Lt(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function bb(n,e,t){return t.some(r=>xy(n,e,r))}(n,t,r)){const a=new Lt(n.segments,function kD(n,e,t,r,i){const a={};for(const c of r)if(xy(n,t,c)&&!i[qi(c)]){const f=new Lt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,a[qi(c)]=f}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new Lt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function xy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Eb(n,e,t,r){return!!(qi(n)===r||r!==ht&&xy(e,t,n))&&("**"===n.path||Sy(e,n,t).matched)}function Vu(n,e,t){return 0===e.length&&!n.children[t]}const fp=!1;class wo{constructor(e){this.segmentGroup=e||null}}class Uu{constructor(e){this.urlTree=e}}function Ud(n){return cl(new wo(n))}function My(n){return cl(new Uu(n))}class Cb{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Lu(this.urlTree.root,[],[],this.config).segmentGroup,t=new Lt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ht).pipe((0,Ct.U)(a=>this.createUrlTree(j(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ls(a=>{if(a instanceof Uu)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof wo?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ht).pipe((0,Ct.U)(i=>this.createUrlTree(j(i),e.queryParams,e.fragment))).pipe(ls(i=>{throw i instanceof wo?this.noMatchError(i):i}))}noMatchError(e){return new u.vHH(4002,fp)}createUrlTree(e,t,r){const i=x(e);return new Si(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ct.U)(a=>new Lt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,ln.D)(i).pipe(ta(a=>{const c=r.children[a],f=fb(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,Ct.U)(m=>({segment:m,outlet:a})))}),Gf((a,c)=>(a[c.outlet]=c.segment,a),{}),na())}expandSegment(e,t,r,i,a,c){return(0,ln.D)(r).pipe(ta(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(ls(v=>{if(v instanceof wo)return et(null);throw v}))),as(f=>!!f),ls((f,m)=>{if(vo(f))return Vu(t,i,a)?et(new Lt([],{})):Ud(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return Eb(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):Ud(t):Ud(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?My(a):this.lineralizeSegments(r,a).pipe((0,Vn.z)(c=>{const f=new Lt(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:m,remainingSegments:v,positionalParamSegments:C}=Sy(t,i,a);if(!f)return Ud(t);const T=this.applyRedirectCommands(m,i.redirectTo,C);return i.redirectTo.startsWith("/")?My(T):this.lineralizeSegments(i,T).pipe((0,Vn.z)(M=>this.expandSegment(e,t,r,M.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=my(r,e),r.loadChildren?(r._loadedRoutes?et({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Ct.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Lt(i,{})))):et(new Lt(i,{}))):vb(t,r,i,e).pipe(En(({matched:c,consumedSegments:f,remainingSegments:m})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Vn.z)(C=>{const T=C.injector??e,M=C.routes,{segmentGroup:N,slicedSegments:L}=Lu(t,f,m,M),z=new Lt(N.segments,N.children);if(0===L.length&&z.hasChildren())return this.expandChildren(T,M,z).pipe((0,Ct.U)(ke=>new Lt(f,ke)));if(0===M.length&&0===L.length)return et(new Lt(f,{}));const G=qi(r)===a;return this.expandSegment(T,z,M,L,G?ht:a,!0).pipe((0,Ct.U)(Re=>new Lt(f.concat(Re.segments),Re.children)))})):Ud(t)))}getChildConfig(e,t,r){return t.children?et({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?et({routes:t._loadedRoutes,injector:t._loadedInjector}):function OD(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?et(!0):et(i.map(c=>{const f=yl(c,n);return Dn(function by(n){return n&&ku(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(ha(),Dy())}(e,t,r).pipe((0,Vn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(sr(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function VD(n){return cl(ED(fp,3))}())):et({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return et(r);if(i.numberOfChildren>1||!i.children[ht])return e.redirectTo,cl(new u.vHH(4e3,fp));i=i.children[ht]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Si(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return or(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return or(t.children,(f,m)=>{c[m]=this.createSegmentGroup(e,f,r,i)}),new Lt(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new u.vHH(4001,fp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Ry{}class Bd{constructor(e,t,r,i,a,c,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=c,this.urlSerializer=f}recognize(){const e=Lu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ht).pipe((0,Ct.U)(t=>{if(null===t)return null;const r=new sp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new gi(r,t),a=new ob(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=ib(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,ln.D)(Object.keys(r.children)).pipe(ta(i=>{const a=r.children[i],c=fb(t,i);return this.processSegmentGroup(e,c,a,i)}),Gf((i,a)=>i&&a?(i.push(...a),i):null),function Zf(n,e=!1){return(0,Vr.e)((t,r)=>{let i=0;t.subscribe((0,_r.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(i=>null!==i),_d(null),na(),(0,Ct.U)(i=>{if(null===i)return null;const a=Tb(i);return function $D(n){n.sort((e,t)=>e.value.outlet===ht?-1:t.value.outlet===ht?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,ln.D)(t).pipe(ta(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,a)),as(c=>!!c),ls(c=>{if(vo(c))return Vu(r,i,a)?et([]):et(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Eb(t,r,i,a))return et(null);let c;if("**"===t.path){const f=i.length>0?wd(i).parameters:{},m=Ab(r)+i.length;c=et({snapshot:new sp(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,js(t),qi(t),t.component??t._loadedComponent??null,t,Db(r),m,Sb(t)),consumedSegments:[],remainingSegments:[]})}else c=vb(r,t,i,e).pipe((0,Ct.U)(({matched:f,consumedSegments:m,remainingSegments:v,parameters:C})=>{if(!f)return null;const T=Ab(r)+m.length;return{snapshot:new sp(m,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,js(t),qi(t),t.component??t._loadedComponent??null,t,Db(r),T,Sb(t)),consumedSegments:m,remainingSegments:v}}));return c.pipe(En(f=>{if(null===f)return et(null);const{snapshot:m,consumedSegments:v,remainingSegments:C}=f;e=t._injector??e;const T=t._loadedInjector??e,M=function jD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:N,slicedSegments:L}=Lu(r,v,C,M.filter(G=>void 0===G.redirectTo));if(0===L.length&&N.hasChildren())return this.processChildren(T,M,N).pipe((0,Ct.U)(G=>null===G?null:[new gi(m,G)]));if(0===M.length&&0===L.length)return et([new gi(m,[])]);const z=qi(t)===a;return this.processSegment(T,M,N,L,z?ht:a).pipe((0,Ct.U)(G=>null===G?null:[new gi(m,G)]))}))}}function HD(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Tb(n){const e=[],t=new Set;for(const r of n){if(!HD(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Tb(r.children);e.push(new gi(r.value,i))}return e.filter(r=>!t.has(r))}function Db(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ab(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function js(n){return n.data||{}}function Sb(n){return n.resolve||{}}function Py(n){return"string"==typeof n.title||null===n.title}function Oy(n){return En(e=>{const t=n(e);return t?(0,ln.D)(t).pipe((0,Ct.U)(()=>e)):et(e)})}const Bu=new u.OlP("ROUTES");let Fy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return et(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Dn(t.loadComponent()).pipe((0,Ct.U)(Rb),sr(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),dl(()=>{this.componentLoaders.delete(t)})),i=new ny(r,()=>new Wn.x).pipe(ea());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return et({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Ct.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let m,v,C=!1;Array.isArray(f)?v=f:(m=f.create(t).injector,v=Qf(m.get(Bu,[],u.XFs.Self|u.XFs.Optional)));return{routes:v.map(up),injector:m}}),dl(()=>{this.childrenLoaders.delete(r)})),c=new ny(a,()=>new Wn.x).pipe(ea());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return Dn(t()).pipe((0,Ct.U)(Rb),(0,Vn.z)(r=>r instanceof u.YKP||Array.isArray(r)?et(r):(0,ln.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rb(n){return function fs(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let gp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Wn.x,this.configLoader=(0,u.f3M)(Fy),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(us),this.rootContexts=(0,u.f3M)(lp),this.navigationId=0,this.afterPreactivation=()=>et(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new mD(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new uy(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new pi({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rd,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hi(r=>0!==r.id),(0,Ct.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),En(r=>{let i=!1,a=!1;return et(r).pipe(sr(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),En(c=>{const f=t.browserUrlTree.toString(),m=!t.navigated||c.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!m&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new gl(c.id,t.serializeUrl(r.rawUrl),C,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),Yr.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Nb(c.source)&&(t.browserUrlTree=c.extractedUrl),et(c).pipe(En(C=>{const T=this.transitions?.getValue();return this.events.next(new ly(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),T!==this.transitions?.getValue()?Yr.E:Promise.resolve(C)}),function Ib(n,e,t,r){return En(i=>function UD(n,e,t,r,i){return new Cb(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ct.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),sr(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},r.urlAfterRedirects=C.urlAfterRedirects}),function qD(n,e,t,r,i){return(0,Vn.z)(a=>function Ny(n,e,t,r,i,a,c="emptyOnly"){return new Bd(n,e,t,r,i,c,a).recognize().pipe(En(f=>null===f?function BD(n){return new Kr.y(e=>e.error(n))}(new Ry):et(f)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,Ct.U)(c=>({...a,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),sr(C=>{if(r.targetSnapshot=C.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const M=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(M,C)}t.browserUrlTree=C.urlAfterRedirects}const T=new xu(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(T)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:T,source:M,restoredState:N,extras:L}=c,z=new ly(C,this.urlSerializer.serialize(T),M,N);this.events.next(z);const G=rb(T,this.rootComponentType).snapshot;return et(r={...c,targetSnapshot:G,urlAfterRedirects:T,extras:{...L,skipLocationChange:!1,replaceUrl:!1}})}{const C="";return this.events.next(new gl(c.id,t.serializeUrl(r.extractedUrl),C,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),Yr.E}}),sr(c=>{const f=new fD(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),(0,Ct.U)(c=>r={...c,guards:Ld(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function dp(n,e){return(0,Vn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?et({...t,guardsResult:!0}):function ND(n,e,t,r){return(0,ln.D)(n).pipe((0,Vn.z)(i=>function PD(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?et(a.map(f=>{const m=Fd(e)??i,v=yl(f,m);return Dn(function MD(n){return n&&ku(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):m.runInContext(()=>v(n,e,t,r))).pipe(as())})).pipe(ha()):et(!0)}(i.component,i.route,t,e,r)),as(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Vn.z)(f=>f&&function mb(n){return"boolean"==typeof n}(f)?function Iy(n,e,t,r){return(0,ln.D)(e).pipe(ta(i=>ul(function _l(n,e){return null!==n&&e&&e(new Jw(n)),et(!0)}(i.route.parent,r),function hp(n,e){return null!==n&&e&&e(new cy(n)),et(!0)}(i.route,r),function Ty(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function wy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>ty(()=>et(c.guards.map(m=>{const v=Fd(c.node)??t,C=yl(m,v);return Dn(function Ey(n){return n&&ku(n.canActivateChild)}(C)?C.canActivateChild(r,n):v.runInContext(()=>C(r,n))).pipe(as())})).pipe(ha())));return et(a).pipe(ha())}(n,i.path,t),function _b(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return et(!0);const i=r.map(a=>ty(()=>{const c=Fd(e)??t,f=yl(a,c);return Dn(function BN(n){return n&&ku(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(as())}));return et(i).pipe(ha())}(n,i.route,t))),as(i=>!0!==i,!0))}(r,a,n,e):et(f)),(0,Ct.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),sr(c=>{if(r.guardsResult=c.guardsResult,Ie(c.guardsResult))throw bD(0,c.guardsResult);const f=new pD(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),Hi(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Oy(c=>{if(c.guards.canActivateChecks.length)return et(c).pipe(sr(f=>{const m=new LN(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),En(f=>{let m=!1;return et(f).pipe(function $N(n,e){return(0,Vn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return et(t);let a=0;return(0,ln.D)(i).pipe(ta(c=>function jN(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Py(i)&&(a[Os]=i.title),function xb(n,e,t,r){const i=function HN(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return et({});const a={};return(0,ln.D)(i).pipe((0,Vn.z)(c=>function Mb(n,e,t,r){const i=Fd(e)??r,a=yl(n,i);return Dn(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[c],e,t,r).pipe(as(),sr(f=>{a[c]=f}))),bu(1),function Wf(n){return(0,Ct.U)(()=>n)}(a),ls(c=>vo(c)?Yr.E:cl(c)))}(a,n,e,r).pipe((0,Ct.U)(c=>(n._resolvedData=c,n.data=ib(n,t).resolve,i&&Py(i)&&(n.data[Os]=i.title),null)))}(c.route,r,n,e)),sr(()=>a++),bu(1),(0,Vn.z)(c=>a===i.length?et(t):Yr.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),sr({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),sr(f=>{const m=new gD(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),Oy(c=>{const f=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe(sr(C=>{m.component=C}),(0,Ct.U)(()=>{})));for(const C of m.children)v.push(...f(C));return v};return mu(f(c.targetSnapshot.root)).pipe(_d(),mo(1))}),Oy(()=>this.afterPreactivation()),(0,Ct.U)(c=>{const f=function Od(n,e,t){const r=Pu(n,e._root,t?t._root:void 0);return new nb(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:f}}),sr(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,Ct.U)(r=>(new pb(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),mo(1),sr({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new da(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),dl(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ls(c=>{if(a=!0,ap(c)){op(c)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new Nd(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),op(c)){const m=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Nb(r.source)};t.scheduleNavigation(m,Rd,null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new Pd(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(c))}catch(m){r.reject(m)}}return Yr.E}))}))}cancelNavigationTransition(t,r,i){const a=new Nd(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nb(n){return n!==Rd}let Pb=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===ht);return r}getResolvedTitleForRoute(t){return t.data[Os]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(GD)},providedIn:"root"}),n})(),GD=(()=>{class n extends Pb{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Wm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ob=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(WD)},providedIn:"root"}),n})();class ZD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let WD=(()=>{class n extends ZD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xt=new u.OlP("",{providedIn:"root",factory:()=>({})});let kb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Fb)},providedIn:"root"}),n})(),Fb=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YD(n){throw n}function QD(n,e,t){return e.parse("/")}const Lb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this.options=(0,u.f3M)(xt,{optional:!0})||{},this.errorHandler=this.options.errorHandler||YD,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||QD,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(kb),this.routeReuseStrategy=(0,u.f3M)(Ob),this.urlCreationStrategy=(0,u.f3M)(vD),this.titleStrategy=(0,u.f3M)(Pb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Qf((0,u.f3M)(Bu,{optional:!0})??[]),this.navigationTransitions=(0,u.f3M)(gp),this.urlSerializer=(0,u.f3M)(us),this.location=(0,u.f3M)(Le),this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Si,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rb(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rd,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(a.state=m)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(up),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:m}=r,v=m?this.currentUrlTree.fragment:c;let C=null;switch(f){case"merge":C={...this.currentUrlTree.queryParams,...a};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=a||null}return null!==C&&(C=this.removeEmptyProps(C)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,C,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ie(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Rd,null,r)}navigate(t,r={skipLocationChange:!1}){return function XD(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Lb}:!1===r?{...JD}:r,Ie(t))return Kn(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Kn(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,c){if(this.disposed)return Promise.resolve(!1);let f,m,v,C;return c?(f=c.resolve,m=c.reject,v=c.promise):v=new Promise((T,M)=>{f=T,m=M}),C="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:f,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(T=>Promise.reject(T))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bo=(()=>{class n{constructor(t,r,i,a,c,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=c,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Wn.x;const m=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof da&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,u.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,u.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,u.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,u.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Yn),u.Y36(Ru),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Je))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),n})();class Ly{}let Vy=(()=>{class n{constructor(t,r,i,a,c){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Hi(t=>t instanceof da),ta(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,f=a._loadedInjector??c;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(c,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,ln.D)(i).pipe((0,Xo.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):et(null);const a=i.pipe((0,Vn.z)(c=>null===c?et(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,ln.D)([a,c]).pipe((0,Xo.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Yn),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Ly),u.LFG(Fy))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hd=new u.OlP("");let Ub=(()=>{class n{constructor(t,r,i,a,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ly?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof da&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof dy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();var Gi=(()=>((Gi=Gi||{})[Gi.COMPLETE=0]="COMPLETE",Gi[Gi.FAILED=1]="FAILED",Gi[Gi.REDIRECTING=2]="REDIRECTING",Gi))();const zd=!1;function vl(n,e){return{\u0275kind:n,\u0275providers:e}}const By=new u.OlP("",{providedIn:"root",factory:()=>!1});function qd(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const r=n.get(Yn),i=n.get(Bb);1===n.get(yp)&&r.initialNavigation(),n.get($b,null,u.XFs.Optional)?.setUpPreloading(),n.get(Hd,null,u.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Bb=new u.OlP(zd?"bootstrap done indicator":"",{factory:()=>new Wn.x}),yp=new u.OlP(zd?"initial navigation":"",{providedIn:"root",factory:()=>1});function r1(){let n=[];return n=zd?[{provide:u.Xts,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Yn);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function eb(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],vl(1,n)}const $b=new u.OlP(zd?"router preloader":"");function i1(n){return vl(0,[{provide:$b,useExisting:Vy},{provide:Ly,useExisting:n}])}const Hu=!1,a1=new u.OlP(Hu?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),$y=[Le,{provide:us,useClass:Id},Yn,lp,{provide:Ru,useFactory:function Uy(n){return n.routerState.root},deps:[Yn]},Fy,Hu?{provide:By,useValue:!0}:[]];function l1(){return new u.PXZ("Router",Yn)}let u1=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[$y,Hu&&r?.enableTracing?r1().\u0275providers:[],{provide:Bu,multi:!0,useValue:t},{provide:a1,useFactory:zb,deps:[[Yn,new u.FiY,new u.tp0]]},{provide:xt,useValue:r||{}},r?.useHash?{provide:Je,useClass:we}:{provide:Je,useClass:xe},{provide:Hd,useFactory:()=>{const n=(0,u.f3M)(gf),e=(0,u.f3M)(u.R0b),t=(0,u.f3M)(xt),r=(0,u.f3M)(gp),i=(0,u.f3M)(us);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Ub(i,r,n,e,t)}},r?.preloadingStrategy?i1(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:l1},r?.initialNavigation?d1(r):[],[{provide:qb,useFactory:qd},{provide:u.tb,multi:!0,useExisting:qb}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Bu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(a1,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[gy]}),n})();function zb(n){if(Hu&&n)throw new u.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function d1(n){return["disabled"===n.initialNavigation?vl(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Yn);return()=>{e.setUpLocationChangeListener()}}},{provide:yp,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?vl(2,[{provide:yp,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(Pe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Yn),a=e.get(Bb);(function GN(n,e){n.events.pipe(Hi(t=>t instanceof da||t instanceof Nd||t instanceof Pd||t instanceof gl),(0,Ct.U)(t=>t instanceof da||t instanceof gl?Gi.COMPLETE:t instanceof Nd&&(0===t.code||1===t.code)?Gi.REDIRECTING:Gi.FAILED),Hi(t=>t!==Gi.REDIRECTING),mo(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(gp).afterPreactivation=()=>(r(!0),a.closed?et(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const qb=new u.OlP(Hu?"Router Initializer":"");var X=O(5861),Dt=O(6881);(0,Dt.registerVersion)("firebase","9.22.2","app");var _t=O(2090),Mi=O(4859),Zi=O(1877);const Hy=(n,e)=>e.some(t=>n instanceof t);let zy,wp;const qy=new WeakMap,Gy=new WeakMap,Zy=new WeakMap,bp=new WeakMap,Wy=new WeakMap;let Ky={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Gy.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Zy.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Eo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Yy(n){return"function"==typeof n?function YN(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function f1(){return wp||(wp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Qy(this),e),Eo(qy.get(this))}:function(...e){return Eo(n.apply(Qy(this),e))}:function(e,...t){const r=n.call(Qy(this),e,...t);return Zy.set(r,e.sort?e.sort():[e]),Eo(r)}}(n):(n instanceof IDBTransaction&&function Ri(n){if(Gy.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Gy.set(n,e)}(n),Hy(n,function h1(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Ky):n)}function Eo(n){if(n instanceof IDBRequest)return function p1(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Eo(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&qy.set(t,n)}).catch(()=>{}),Wy.set(e,n),e}(n);if(bp.has(n))return bp.get(n);const e=Yy(n);return e!==n&&(bp.set(n,e),Wy.set(e,n)),e}const Qy=n=>Wy.get(n),Gb=["get","getKey","getAll","getAllKeys","count"],y1=["put","add","delete","clear"],Jy=new Map;function Ep(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Jy.get(e))return Jy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=y1.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Gb.includes(t))return;const a=function(){var c=(0,X.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let C=v.store;return r&&(C=C.index(m.shift())),(yield Promise.all([C[t](...m),i&&v.done]))[0]});return function(m){return c.apply(this,arguments)}}();return Jy.set(e,a),a}!function g1(n){Ky=n(Ky)}(n=>({...n,get:(e,t,r)=>Ep(e,t)||n.get(e,t,r),has:(e,t)=>!!Ep(e,t)||n.has(e,t)}));const Zb="@firebase/installations",Xy="0.6.4",Wb=1e4,Kb=`w:${Xy}`,Yb="FIS_v2",Hs="https://firebaseinstallations.googleapis.com/v1",e_=36e5,Co=new _t.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Jb(n){return n instanceof _t.ZR&&n.code.includes("request-failed")}function t_({projectId:n}){return`${Hs}/projects/${n}/installations`}function Cp(n){return{token:n.token,requestStatus:2,expiresIn:i_(n.expiresIn),creationTime:Date.now()}}function n_(n,e){return r_.apply(this,arguments)}function r_(){return(r_=(0,X.Z)(function*(n,e){const r=(yield e.json()).error;return Co.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Zd({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function qu(n){return Xb.apply(this,arguments)}function Xb(){return(Xb=(0,X.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function i_(n){return Number(n.replace("s","000"))}function Ip(){return(Ip=(0,X.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=t_(n),i=Zd(n),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:Yb,appId:n.appId,sdkVersion:Kb})},m=yield qu(()=>fetch(r,f));if(m.ok){const v=yield m.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:Cp(v.authToken)}}throw yield n_("Create Installation",m)})).apply(this,arguments)}function s_(n){return new Promise(e=>{setTimeout(e,n)})}const o_=/^[cdef][\w-]{21}$/,ps="";function Tp(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Dp(n){return function tE(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return o_.test(t)?t:ps}catch{return ps}}function zs(n){return`${n.appName}!${n.appId}`}const Gu=new Map;function a_(n,e){const t=zs(n);rE(t,e),function Kd(n,e){const t=function b1(){return!wl&&"BroadcastChannel"in self&&(wl=new BroadcastChannel("[Firebase] FID Change"),wl.onmessage=n=>{rE(n.data.key,n.data.fid)}),wl}();t&&t.postMessage({key:n,fid:e}),function iE(){0===Gu.size&&wl&&(wl.close(),wl=null)}()}(t,e)}function rE(n,e){const t=Gu.get(n);if(t)for(const r of t)r(e)}let wl=null;const E1="firebase-installations-database",C1=1,bl="firebase-installations-store";let l_=null;function u_(){return l_||(l_=function m1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(n,e),f=Eo(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Eo(c.result),m.oldVersion,m.newVersion,Eo(c.transaction))}),t&&c.addEventListener("blocked",()=>t()),f.then(m=>{a&&m.addEventListener("close",()=>a()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}(E1,C1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(bl)}})),l_}function Ap(n,e){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,X.Z)(function*(n,e){const t=zs(n),i=(yield u_()).transaction(bl,"readwrite"),a=i.objectStore(bl),c=yield a.get(t);return yield a.put(e,t),yield i.done,(!c||c.fid!==e.fid)&&a_(n,e.fid),e})).apply(this,arguments)}function Yd(n){return c_.apply(this,arguments)}function c_(){return(c_=(0,X.Z)(function*(n){const e=zs(n),r=(yield u_()).transaction(bl,"readwrite");yield r.objectStore(bl).delete(e),yield r.done})).apply(this,arguments)}function El(n,e){return d_.apply(this,arguments)}function d_(){return(d_=(0,X.Z)(function*(n,e){const t=zs(n),i=(yield u_()).transaction(bl,"readwrite"),a=i.objectStore(bl),c=yield a.get(t),f=e(c);return void 0===f?yield a.delete(t):yield a.put(f,t),yield i.done,f&&(!c||c.fid!==f.fid)&&a_(n,f.fid),f})).apply(this,arguments)}function h_(n){return f_.apply(this,arguments)}function f_(){return f_=(0,X.Z)(function*(n){let e;const t=yield El(n.appConfig,r=>{const i=function I1(n){return A1(n||{fid:Tp(),registrationStatus:0})}(r),a=function T1(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Co.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function D1(n,e){return p_.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:sE(n)}:{installationEntry:e}}(n,i);return e=a.registrationPromise,a.installationEntry});return t.fid===ps?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),f_.apply(this,arguments)}function p_(){return p_=(0,X.Z)(function*(n,e){try{const t=yield function eE(n,e){return Ip.apply(this,arguments)}(n,e);return Ap(n.appConfig,t)}catch(t){throw Jb(t)&&409===t.customData.serverCode?yield Yd(n.appConfig):yield Ap(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),p_.apply(this,arguments)}function sE(n){return xp.apply(this,arguments)}function xp(){return(xp=(0,X.Z)(function*(n){let e=yield oE(n.appConfig);for(;1===e.registrationStatus;)yield s_(100),e=yield oE(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield h_(n);return r||t}return e})).apply(this,arguments)}function oE(n){return El(n,e=>{if(!e)throw Co.create("installation-not-found");return A1(e)})}function A1(n){return function aE(n){return 1===n.registrationStatus&&n.registrationTime+Wb<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function Zu(){return(Zu=(0,X.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function S1(n,{fid:e}){return`${t_(n)}/${e}/authTokens:generate`}(n,t),i=function Wd(n,{refreshToken:e}){const t=Zd(n);return t.append("Authorization",function JN(n){return`${Yb} ${n}`}(e)),t}(n,t),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Kb,appId:n.appId}})},m=yield qu(()=>fetch(r,f));if(m.ok)return Cp(yield m.json());throw yield n_("Generate Auth Token",m)})).apply(this,arguments)}function g_(n){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,X.Z)(function*(n,e=!1){let t;const r=yield El(n.appConfig,a=>{if(!Jd(a))throw Co.create("not-registered");const c=a.authToken;if(!e&&function Ki(n){return 2===n.requestStatus&&!function m_(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+e_}(n)}(c))return a;if(1===c.requestStatus)return t=function x1(n,e){return Wi.apply(this,arguments)}(n,e),a;{if(!navigator.onLine)throw Co.create("app-offline");const f=function Ku(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(a);return t=function Ur(n,e){return Io.apply(this,arguments)}(n,f),f}});return t?yield t:r.authToken}),Qd.apply(this,arguments)}function Wi(){return(Wi=(0,X.Z)(function*(n,e){let t=yield Wu(n.appConfig);for(;1===t.authToken.requestStatus;)yield s_(100),t=yield Wu(n.appConfig);const r=t.authToken;return 0===r.requestStatus?g_(n,e):r})).apply(this,arguments)}function Wu(n){return El(n,e=>{if(!Jd(e))throw Co.create("not-registered");return function Yu(n){return 1===n.requestStatus&&n.requestTime+Wb<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Io(){return Io=(0,X.Z)(function*(n,e){try{const t=yield function XN(n,e){return Zu.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Ap(n.appConfig,r),t}catch(t){if(!Jb(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ap(n.appConfig,r)}else yield Yd(n.appConfig);throw t}}),Io.apply(this,arguments)}function Jd(n){return void 0!==n&&2===n.registrationStatus}function fa(){return(fa=(0,X.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield h_(e);return r?r.catch(console.error):g_(e).catch(console.error),t.fid})).apply(this,arguments)}function pa(){return pa=(0,X.Z)(function*(n,e=!1){const t=n;return yield function Xu(n){return ga.apply(this,arguments)}(t),(yield g_(t,e)).token}),pa.apply(this,arguments)}function ga(){return(ga=(0,X.Z)(function*(n){const{registrationPromise:e}=yield h_(n);e&&(yield e)})).apply(this,arguments)}function Np(n){return Co.create("missing-app-config-values",{valueName:n})}const y_="installations",O1=n=>{const e=n.getProvider("app").getImmediate(),t=function uE(n){if(!n||!n.options)throw Np("App Configuration");if(!n.name)throw Np("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Np(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,Dt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},cE=n=>{const e=n.getProvider("app").getImmediate(),t=(0,Dt._getProvider)(e,y_).getImmediate();return{getId:()=>function Qu(n){return fa.apply(this,arguments)}(t),getToken:i=>function Ju(n){return pa.apply(this,arguments)}(t,i)}};(function k1(){(0,Dt._registerComponent)(new Mi.wA(y_,O1,"PUBLIC")),(0,Dt._registerComponent)(new Mi.wA("installations-internal",cE,"PRIVATE"))})(),(0,Dt.registerVersion)(Zb,Xy),(0,Dt.registerVersion)(Zb,Xy,"esm2017");const __="@firebase/remote-config",Ar=new _t.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class C_{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,X.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const a=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===a.status&&c.push(t.storage.setLastSuccessfulFetchResponse(a)),yield Promise.all(c),a})()}}function I_(n=navigator){return n.languages&&n.languages[0]||n.language}class mE{constructor(e,t,r,i,a,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=a,this.appId=c}fetch(e){var t=this;return(0,X.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},m={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:I_()},v={method:"POST",headers:f,body:JSON.stringify(m)},C=fetch(c,v),T=new Promise((pe,Re)=>{e.signal.addEventListener(()=>{const ke=new Error("The operation was aborted.");ke.name="AbortError",Re(ke)})});let M;try{yield Promise.race([C,T]),M=yield C}catch(pe){let Re="fetch-client-network";throw"AbortError"===pe?.name&&(Re="fetch-timeout"),Ar.create(Re,{originalErrorMessage:pe?.message})}let N=M.status;const L=M.headers.get("ETag")||void 0;let z,G;if(200===M.status){let pe;try{pe=yield M.json()}catch(Re){throw Ar.create("fetch-client-parse",{originalErrorMessage:Re?.message})}z=pe.entries,G=pe.state}if("INSTANCE_STATE_UNSPECIFIED"===G?N=500:"NO_CHANGE"===G?N=304:("NO_TEMPLATE"===G||"EMPTY_CONFIG"===G)&&(z={}),304!==N&&200!==N)throw Ar.create("fetch-status",{httpStatus:N});return{status:N,eTag:L,config:z}})()}}class vE{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,X.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,X.Z)(function*(){yield function yE(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(Ar.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const a=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),a}catch(a){if(!function _E(n){if(!(n instanceof _t.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const c={throttleEndTimeMillis:Date.now()+(0,_t.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(e,c)}})()}}class EE{constructor(e,t,r,i,a){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function eh(n,e){const t=n.target.error||void 0;return Ar.create(e,{originalErrorMessage:t&&t?.message})}const qs="app_namespace_store";class T_{constructor(e,t,r,i=function H1(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(eh(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(qs,{keyPath:"compositeKey"})}}catch(t){e(Ar.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,X.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,a)=>{const f=r.transaction([qs],"readonly").objectStore(qs),m=t.createCompositeKey(e);try{const v=f.get(m);v.onerror=C=>{a(eh(C,"storage-get"))},v.onsuccess=C=>{const T=C.target.result;i(T?T.value:void 0)}}catch(v){a(Ar.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,X.Z)(function*(){const i=yield r.openDbPromise;return new Promise((a,c)=>{const m=i.transaction([qs],"readwrite").objectStore(qs),v=r.createCompositeKey(e);try{const C=m.put({compositeKey:v,value:t});C.onerror=T=>{c(eh(T,"storage-set"))},C.onsuccess=()=>{a()}}catch(C){c(Ar.create("storage-set",{originalErrorMessage:C?.message}))}})})()}delete(e){var t=this;return(0,X.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,a)=>{const f=r.transaction([qs],"readwrite").objectStore(qs),m=t.createCompositeKey(e);try{const v=f.delete(m);v.onerror=C=>{a(eh(C,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){a(Ar.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Cl{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,X.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),a=yield t;a&&(e.lastFetchStatus=a);const c=yield r;c&&(e.lastSuccessfulFetchTimestampMillis=c);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function nP(){return CE.apply(this,arguments)}function CE(){return(CE=(0,X.Z)(function*(){if(!(0,_t.hl)())return!1;try{return yield(0,_t.eu)()}catch{return!1}})).apply(this,arguments)}!function D_(){(0,Dt._registerComponent)(new Mi.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ar.create("registration-window");if(!(0,_t.hl)())throw Ar.create("indexed-db-unavailable");const{projectId:a,apiKey:c,appId:f}=r.options;if(!a)throw Ar.create("registration-project-id");if(!c)throw Ar.create("registration-api-key");if(!f)throw Ar.create("registration-app-id");const m=new T_(f,r.name,t=t||"firebase"),v=new Cl(m),C=new Zi.Yd(__);C.logLevel=Zi.in.ERROR;const T=new mE(i,Dt.SDK_VERSION,t,a,c,f),M=new vE(T,m),N=new C_(M,m,v,C),L=new EE(r,N,v,m,C);return function b_(n){const e=(0,_t.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(L),L},"PUBLIC").setMultipleInstances(!0)),(0,Dt.registerVersion)(__,"0.4.4"),(0,Dt.registerVersion)(__,"0.4.4","esm2017")}();const z1=(n,e)=>e.some(t=>n instanceof t);let IE,A_;const S_=new WeakMap,x_=new WeakMap,TE=new WeakMap,Up=new WeakMap,M_=new WeakMap;let ya={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return x_.get(n);if("objectStoreNames"===e)return n.objectStoreNames||TE.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return To(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function SE(n){return"function"==typeof n?function Z1(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ar(){return A_||(A_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Bp(this),e),To(S_.get(this))}:function(...e){return To(n.apply(Bp(this),e))}:function(e,...t){const r=n.call(Bp(this),e,...t);return TE.set(r,e.sort?e.sort():[e]),To(r)}}(n):(n instanceof IDBTransaction&&function AE(n){if(x_.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});x_.set(n,e)}(n),z1(n,function q1(){return IE||(IE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,ya):n)}function To(n){if(n instanceof IDBRequest)return function DE(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(To(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&S_.set(t,n)}).catch(()=>{}),M_.set(e,n),e}(n);if(Up.has(n))return Up.get(n);const e=SE(n);return e!==n&&(Up.set(n,e),M_.set(e,n)),e}const Bp=n=>M_.get(n);function W1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(n,e),f=To(c);return r&&c.addEventListener("upgradeneeded",m=>{r(To(c.result),m.oldVersion,m.newVersion,To(c.transaction))}),t&&c.addEventListener("blocked",()=>t()),f.then(m=>{a&&m.addEventListener("close",()=>a()),i&&m.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}function nh(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),To(t).then(()=>{})}const R_=["get","getKey","getAll","getAllKeys","count"],Gs=["put","add","delete","clear"],N_=new Map;function P_(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(N_.get(e))return N_.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Gs.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!R_.includes(t))return;const a=function(){var c=(0,X.Z)(function*(f,...m){const v=this.transaction(f,i?"readwrite":"readonly");let C=v.store;return r&&(C=C.index(m.shift())),(yield Promise.all([C[t](...m),i&&v.done]))[0]});return function(m){return c.apply(this,arguments)}}();return N_.set(e,a),a}!function G1(n){ya=n(ya)}(n=>({...n,get:(e,t,r)=>P_(e,t)||n.get(e,t,r),has:(e,t)=>!!P_(e,t)||n.has(e,t)}));const Zs="/firebase-messaging-sw.js",gs="/firebase-cloud-messaging-push-scope",Yi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xE="https://fcmregistrations.googleapis.com/v1",O_="google.c.a.c_id",K1="google.c.a.c_l",Y1="google.c.a.ts",Q1="google.c.a.e";var _a=(()=>{return(n=_a||(_a={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",_a;var n})();function Ni(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function J1(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}const $p="fcm_token_details_db",X1=5,ME="fcm_token_object_Store";function jp(){return jp=(0,X.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes($p))return null;let e=null;return(yield W1($p,X1,{upgrade:(r=(0,X.Z)(function*(i,a,c,f){var m;if(a<2||!i.objectStoreNames.contains(ME))return;const v=f.objectStore(ME),C=yield v.index("fcmSenderId").get(n);if(yield v.clear(),C)if(2===a){const T=C;if(!T.auth||!T.p256dh||!T.endpoint)return;e={token:T.fcmToken,createTime:null!==(m=T.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:T.auth,p256dh:T.p256dh,endpoint:T.endpoint,swScope:T.swScope,vapidKey:"string"==typeof T.vapidKey?T.vapidKey:Ni(T.vapidKey)}}}else if(3===a){const T=C;e={token:T.fcmToken,createTime:T.createTime,subscriptionOptions:{auth:Ni(T.auth),p256dh:Ni(T.p256dh),endpoint:T.endpoint,swScope:T.swScope,vapidKey:Ni(T.vapidKey)}}}else if(4===a){const T=C;e={token:T.fcmToken,createTime:T.createTime,subscriptionOptions:{auth:Ni(T.auth),p256dh:Ni(T.p256dh),endpoint:T.endpoint,swScope:T.swScope,vapidKey:Ni(T.vapidKey)}}}}),function(a,c,f,m){return r.apply(this,arguments)})})).close(),yield nh($p),yield nh("fcm_vapid_details_db"),yield nh("undefined"),function Hp(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),jp.apply(this,arguments)}const eA="firebase-messaging-database",NE=1,va="firebase-messaging-store";let rh=null;function tc(){return rh||(rh=W1(eA,NE,{upgrade:(n,e)=>{0===e&&n.createObjectStore(va)}})),rh}function k_(n){return zp.apply(this,arguments)}function zp(){return zp=(0,X.Z)(function*(n){const e=Wp(n),r=yield(yield tc()).transaction(va).objectStore(va).get(e);if(r)return r;{const i=yield function RE(n){return jp.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield qp(n,i),i}}),zp.apply(this,arguments)}function qp(n,e){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,X.Z)(function*(n,e){const t=Wp(n),i=(yield tc()).transaction(va,"readwrite");return yield i.objectStore(va).put(e,t),yield i.done,e})).apply(this,arguments)}function Zp(){return(Zp=(0,X.Z)(function*(n){const e=Wp(n),r=(yield tc()).transaction(va,"readwrite");yield r.objectStore(va).delete(e),yield r.done})).apply(this,arguments)}function Wp({appConfig:n}){return n.appId}const Sr=new _t.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tA(n,e){return F_.apply(this,arguments)}function F_(){return(F_=(0,X.Z)(function*(n,e){const t=yield B_(n),r=FE(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(U_(n.appConfig),i)).json()}catch(c){throw Sr.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(a.error)throw Sr.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw Sr.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function L_(){return(L_=(0,X.Z)(function*(n,e){const t=yield B_(n),r=FE(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(`${U_(n.appConfig)}/${e.token}`,i)).json()}catch(c){throw Sr.create("token-update-failed",{errorInfo:c?.toString()})}if(a.error)throw Sr.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw Sr.create("token-update-no-token");return a.token})).apply(this,arguments)}function kE(n,e){return V_.apply(this,arguments)}function V_(){return(V_=(0,X.Z)(function*(n,e){const r={method:"DELETE",headers:yield B_(n)};try{const a=yield(yield fetch(`${U_(n.appConfig)}/${e}`,r)).json();if(a.error)throw Sr.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(i){throw Sr.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function U_({projectId:n}){return`${xE}/projects/${n}/registrations`}function B_(n){return $_.apply(this,arguments)}function $_(){return($_=(0,X.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function FE({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Yi&&(i.web.applicationPubKey=r),i}const rA=6048e5;function j_(){return j_=(0,X.Z)(function*(n){const e=yield function VE(n,e){return Yp.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ni(e.getKey("auth")),p256dh:Ni(e.getKey("p256dh"))},r=yield k_(n.firebaseDependencies);if(r){if(function UE(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+rA?function sA(n,e){return z_.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield kE(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return q_(n.firebaseDependencies,t)}return q_(n.firebaseDependencies,t)}),j_.apply(this,arguments)}function H_(){return H_=(0,X.Z)(function*(n){const e=yield k_(n.firebaseDependencies);e&&(yield kE(n.firebaseDependencies,e.token),yield function PE(n){return Zp.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),H_.apply(this,arguments)}function z_(){return z_=(0,X.Z)(function*(n,e){try{const t=yield function nA(n,e){return L_.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield qp(n.firebaseDependencies,r),t}catch(t){throw yield function LE(n){return H_.apply(this,arguments)}(n),t}}),z_.apply(this,arguments)}function q_(n,e){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,X.Z)(function*(n,e){const r={token:yield tA(n,e),createTime:Date.now(),subscriptionOptions:e};return yield qp(n,r),r.token})).apply(this,arguments)}function Yp(){return(Yp=(0,X.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:J1(e)})})).apply(this,arguments)}function G_(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function BE(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const a=e.notification.icon;a&&(n.notification.icon=a)}(e,n),function $E(n,e){e.data&&(n.data=e.data)}(e,n),function jE(n,e){var t,r,i,a,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=e.notification)||void 0===a?void 0:a.click_action;f&&(n.fcmOptions.link=f);const m=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;m&&(n.fcmOptions.analyticsLabel=m)}(e,n),e}function Qp(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Z_(n){return Sr.create("missing-app-config-values",{valueName:n})}Qp("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Qp("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class oA{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Il(n){if(!n||!n.options)throw Z_("App Configuration Object");if(!n.name)throw Z_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Z_(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Tl(n){return zE.apply(this,arguments)}function zE(){return(zE=(0,X.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Zs,{scope:gs}),n.swRegistration.update().catch(()=>{})}catch(e){throw Sr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function qE(){return(qE=(0,X.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield Tl(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Sr.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Jp(){return(Jp=(0,X.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Yi)})).apply(this,arguments)}function ft(){return ft=(0,X.Z)(function*(n,e){if(!navigator)throw Sr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Sr.create("permission-blocked");return yield function GE(n,e){return Jp.apply(this,arguments)}(n,e?.vapidKey),yield function W_(n,e){return qE.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function iA(n){return j_.apply(this,arguments)}(n)}),ft.apply(this,arguments)}function K_(){return(K_=(0,X.Z)(function*(n,e,t){const r=function uA(n){switch(n){case _a.NOTIFICATION_CLICKED:return"notification_open";case _a.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[O_],message_name:t[K1],message_time:t[Y1],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Y_(){return Y_=(0,X.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===_a.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(G_(t)):n.onMessageHandler.next(G_(t)));const r=t.data;(function HE(n){return"object"==typeof n&&!!n&&O_ in n})(r)&&"1"===r[Q1]&&(yield function lA(n,e,t){return K_.apply(this,arguments)}(n,t.messageType,r))}),Y_.apply(this,arguments)}const ih="@firebase/messaging",Nn=n=>{const e=new oA(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function nc(n,e){return Y_.apply(this,arguments)}(e,t)),e},iP=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function aA(n,e){return ft.apply(this,arguments)}(e,r)}};function Q_(){return J_.apply(this,arguments)}function J_(){return(J_=(0,X.Z)(function*(){try{yield(0,_t.eu)()}catch{return!1}return typeof window<"u"&&(0,_t.hl)()&&(0,_t.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ZE(){(0,Dt._registerComponent)(new Mi.wA("messaging",Nn,"PUBLIC")),(0,Dt._registerComponent)(new Mi.wA("messaging-internal",iP,"PRIVATE")),(0,Dt.registerVersion)(ih,"0.12.4"),(0,Dt.registerVersion)(ih,"0.12.4","esm2017")}();const tg="analytics",dA="firebase_id",hA="origin",ng=6e4,YE="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rg="https://www.googletagmanager.com/gtag/js",lr=new Zi.Yd("@firebase/analytics"),ur=new _t.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function oh(n){if(!n.startsWith(rg)){const e=ur.create("invalid-gtag-resource",{gtagURL:n});return lr.warn(e.message),""}return n}function QE(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function ig(){return(ig=(0,X.Z)(function*(n,e,t,r,i,a){const c=r[i];try{if(c)yield e[c];else{const m=(yield QE(t)).find(v=>v.measurementId===i);m&&(yield e[m.appId])}}catch(f){lr.error(f)}n("config",i,a)})).apply(this,arguments)}function sg(){return(sg=(0,X.Z)(function*(n,e,t,r,i){try{let a=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const f=yield QE(t);for(const m of c){const v=f.find(T=>T.measurementId===m),C=v&&e[v.appId];if(!C){a=[];break}a.push(C)}}0===a.length&&(a=Object.values(e)),yield Promise.all(a),n("event",r,i||{})}catch(a){lr.error(a)}})).apply(this,arguments)}const lP=30,ev=new class cP{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function og(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function tv(){return(tv=(0,X.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:og(r)},a=YE.replace("{app-id}",t),c=yield fetch(a,i);if(200!==c.status&&304!==c.status){let f="";try{const m=yield c.json();null!==(e=m.error)&&void 0!==e&&e.message&&(f=m.error.message)}catch{}throw ur.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()})).apply(this,arguments)}function Dl(){return(Dl=(0,X.Z)(function*(n,e=ev,t){const{appId:r,apiKey:i,measurementId:a}=n.options;if(!r)throw ur.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw ur.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new dP;return setTimeout((0,X.Z)(function*(){f.abort()}),void 0!==t?t:ng),tC({appId:r,apiKey:i,measurementId:a},c,f,e)})).apply(this,arguments)}function tC(n,e,t){return nv.apply(this,arguments)}function nv(){return nv=(0,X.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=ev){var a;const{appId:c,measurementId:f}=n;try{yield function wA(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(a),r(ur.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(m){if(f)return lr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:f};throw m}try{const m=yield function vA(n){return tv.apply(this,arguments)}(n);return i.deleteThrottleMetadata(c),m}catch(m){const v=m;if(!function bA(n){if(!(n instanceof _t.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(v)){if(i.deleteThrottleMetadata(c),f)return lr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:c,measurementId:f};throw m}const C=503===Number(null===(a=v?.customData)||void 0===a?void 0:a.httpStatus)?(0,_t.$s)(t,i.intervalMillis,lP):(0,_t.$s)(t,i.intervalMillis),T={throttleEndTimeMillis:Date.now()+C,backoffCount:t+1};return i.setThrottleMetadata(c,T),lr.debug(`Calling attemptFetch again in ${C} millis`),tC(n,T,r,i)}}),nv.apply(this,arguments)}class dP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let rv,sv;function iv(){return(iv=(0,X.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const a=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:a}))}})).apply(this,arguments)}function lv(){return(lv=(0,X.Z)(function*(){if(!(0,_t.hl)())return lr.warn(ur.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_t.eu)()}catch(n){return lr.warn(ur.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function lh(){return lh=(0,X.Z)(function*(n,e,t,r,i,a,c){var f;const m=function eC(n){return Dl.apply(this,arguments)}(n);m.then(N=>{t[N.measurementId]=N.appId,n.options.measurementId&&N.measurementId!==n.options.measurementId&&lr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>lr.error(N)),e.push(m);const v=function AA(){return lv.apply(this,arguments)}().then(N=>{if(N)return r.getId()}),[C,T]=yield Promise.all([m,v]);(function aP(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(rg)&&t.src.includes(n))return t;return null})(a)||function gA(n,e){const t=function pA(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:oh}),r=document.createElement("script"),i=`${rg}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(a,C.measurementId),sv&&(i("consent","default",sv),function ov(n){sv=n}(void 0)),i("js",new Date);const M=null!==(f=c?.config)&&void 0!==f?f:{};return M[hA]="firebase",M.update=!0,null!=T&&(M[dA]=T),i("config",C.measurementId,M),rv&&(i("set",rv),function av(n){rv=n}(void 0)),C.measurementId}),lh.apply(this,arguments)}class xA{constructor(e){this.app=e}_delete(){return delete ms[this.app.options.appId],Promise.resolve()}}let ms={},rC=[];const iC={};let oC,Ws,cg="dataLayer",sC="gtag",uv=!1;function lC(n,e,t){!function aC(){const n=[];if((0,_t.ru)()&&n.push("This is a browser extension environment."),(0,_t.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=ur.create("invalid-analytics-context",{errorInfo:e});lr.warn(t.message)}}();const r=n.options.appId;if(!r)throw ur.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw ur.create("no-api-key");lr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ms[r])throw ur.create("already-exists",{id:r});if(!uv){!function JE(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(cg);const{wrappedGtag:a,gtagCore:c}=function _A(n,e,t,r,i){let a=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(a=window[i]),window[i]=function yA(n,e,t,r){function a(){return a=(0,X.Z)(function*(c,...f){try{if("event"===c){const[m,v]=f;yield function mA(n,e,t,r,i){return sg.apply(this,arguments)}(n,e,t,m,v)}else if("config"===c){const[m,v]=f;yield function XE(n,e,t,r,i,a){return ig.apply(this,arguments)}(n,e,t,r,m,v)}else if("consent"===c){const[m]=f;n("consent","update",m)}else if("get"===c){const[m,v,C]=f;n("get",m,v,C)}else if("set"===c){const[m]=f;n("set",m)}else n(c,...f)}catch(m){lr.error(m)}}),a.apply(this,arguments)}return function i(c){return a.apply(this,arguments)}}(a,n,e,t),{gtagCore:a,wrappedGtag:window[i]}}(ms,rC,iC,cg,sC);Ws=a,oC=c,uv=!0}return ms[r]=function SA(n,e,t,r,i,a,c){return lh.apply(this,arguments)}(n,rC,iC,e,oC,cg,t),new xA(n)}function uC(){return cv.apply(this,arguments)}function cv(){return(cv=(0,X.Z)(function*(){if((0,_t.ru)()||!(0,_t.zI)()||!(0,_t.hl)())return!1;try{return yield(0,_t.eu)()}catch{return!1}})).apply(this,arguments)}const fC="@firebase/analytics";!function rc(){(0,Dt._registerComponent)(new Mi.wA(tg,(e,{options:t})=>lC(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Dt._registerComponent)(new Mi.wA("analytics-internal",function n(e){try{const t=e.getProvider(tg).getImmediate();return{logEvent:(r,i,a)=>function NA(n,e,t,r){n=(0,_t.m9)(n),function nC(n,e,t,r,i){return iv.apply(this,arguments)}(Ws,ms[n.app.options.appId],e,t,r).catch(i=>lr.error(i))}(t,r,i,a)}}catch(t){throw ur.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Dt.registerVersion)(fC,"0.10.0"),(0,Dt.registerVersion)(fC,"0.10.0","esm2017")}();class pC extends vu.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const dg={setInterval(n,e,...t){const{delegate:r}=dg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=dg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var yP=O(8737);class hv extends pC{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,t),this}requestAsyncId(e,t,r=0){return dg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&dg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,yP.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const pv={now:()=>(pv.delegate||Date).now(),delegate:void 0};class Sl{constructor(e,t=Sl.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Sl.now=pv.now;class gC extends Sl{constructor(e,t=Sl.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const gv=new class mC extends gC{}(class fv extends hv{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),yC=new gC(hv);var ic=O(9468),sc=O(5363);const ch=new u.GfV("7.6.1"),mv="__angularfire_symbol__analyticsIsSupportedValue",yv="__angularfire_symbol__analyticsIsSupported",hg="__angularfire_symbol__remoteConfigIsSupportedValue",_C="__angularfire_symbol__remoteConfigIsSupported",fg="__angularfire_symbol__messagingIsSupportedValue",_v="__angularfire_symbol__messagingIsSupported";function dh(n,e,t){if(e){if(1===e.length)return e[0];const a=e.filter(c=>c.app===t);if(1===a.length)return a[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[yv]||(globalThis[yv]=uC().then(n=>globalThis[mv]=n).catch(()=>globalThis[mv]=!1)),globalThis[_v]||(globalThis[_v]=Q_().then(n=>globalThis[fg]=n).catch(()=>globalThis[fg]=!1)),globalThis[_C]||(globalThis[_C]=nP().then(n=>globalThis[hg]=n).catch(()=>globalThis[hg]=!1));const pg=(n,e)=>{const t=e?[e]:(0,Dt.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};function oc(){}class vC{constructor(e,t=gv){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},t,r)}}class kA{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oc,{},oc,oc)),t.pipe(sr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hh=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new vC(Zone.current)),this.insideAngular=t.run(()=>new vC(Zone.current,yC)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ml(n){return xl().ngZone.run(()=>n())}function wv(n){return xl(),function wC(n){return function(t){return(t=t.lift(new kA(n.ngZone))).pipe((0,ic.R)(n.outsideAngular),(0,sc.Q)(n.insideAngular))}}(xl())(n)}const bC=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ml(()=>n.apply(void 0,r))},Qr=(n,e)=>function(){let t;const r=arguments;for(let a=0;a<arguments.length;a++)"function"==typeof r[a]&&(e&&(t||(t=Ml(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oc,{},oc,oc)))),r[a]=bC(r[a],t));const i=function FA(n){return xl().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Kr.y){const a=xl();return i.pipe((0,ic.R)(a.outsideAngular),(0,sc.Q)(a.insideAngular))}return Ml(()=>i)}return i instanceof Kr.y?i.pipe(wv):i instanceof Promise?Ml(()=>new Promise((a,c)=>i.then(f=>Ml(()=>a(f)),f=>Ml(()=>c(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Ml(()=>i)};class wa{constructor(e){return e}}class mg{constructor(){return(0,Dt.getApps)()}}const bv=new u.OlP("angularfire2._apps"),LA={provide:wa,useFactory:function EP(n){return n&&1===n.length?n[0]:new wa((0,Dt.getApp)())},deps:[[new u.FiY,bv]]},VA={provide:mg,deps:[[new u.FiY,bv]]};function UA(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new wa(r)}}let BA=(()=>{class n{constructor(t){(0,Dt.registerVersion)("angularfire",ch.full,"core"),(0,Dt.registerVersion)("angularfire",ch.full,"app"),(0,Dt.registerVersion)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[LA,VA]}),n})();function fh(n,...e){return{ngModule:BA,providers:[{provide:bv,useFactory:UA(n),multi:!0,deps:[u.R0b,u.zs3,hh,...e]}]}}const $A=Qr(Dt.initializeApp,!0),Ev=new Map,IC={activated:!1,tokenObservers:[]},_g={initialized:!1,enabled:!1};function yn(n){return Ev.get(n)||Object.assign({},IC)}function vg(){return _g}const wg="https://content-firebaseappcheck.googleapis.com/v1",DC="exchangeDebugToken",bg={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class AC{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,X.Z)(function*(){t.stop();try{t.pending=new _t.BH,yield function Tv(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new _t.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const xr=new _t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Av(n){if(!yn(n).activated)throw xr.create("use-before-activation",{appName:n.name})}function ac(n,e){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,X.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const T=yield i.getHeartbeatsHeader();T&&(r["X-Firebase-Client"]=T)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,a)}catch(T){throw xr.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==c.status)throw xr.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(T){throw xr.create("fetch-parse-error",{originalErrorMessage:T?.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw xr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(m[1]),C=Date.now();return{token:f.token,expireTimeMillis:C+v,issuedAtTimeMillis:C}})).apply(this,arguments)}function xv(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${wg}/projects/${t}/apps/${r}:${DC}?key=${i}`,body:{debug_token:e}}}const zA="firebase-app-check-database",xC=1,lc="firebase-app-check-store";let gh=null;function ZA(n,e){return NC.apply(this,arguments)}function NC(){return(NC=(0,X.Z)(function*(n,e){const r=(yield function RC(){return gh||(gh=new Promise((n,e)=>{try{const t=indexedDB.open(zA,xC);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(xr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(lc,{keyPath:"compositeKey"})}}catch(t){e(xr.create("storage-open",{originalErrorMessage:t?.message}))}}),gh)}()).transaction(lc,"readwrite"),a=r.objectStore(lc).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=m=>{c()},r.onerror=m=>{var v;f(xr.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const yh=new Zi.Yd("@firebase/app-check");function Ig(n,e){return(0,_t.hl)()?function uc(n,e){return ZA(function cc(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{yh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ov(){return vg().enabled}function _h(){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,X.Z)(function*(){const n=vg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Dg={error:"UNKNOWN_ERROR"};function kv(n){return _t.US.encodeString(JSON.stringify(n),!1)}function Fv(n){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,X.Z)(function*(n,e=!1){const t=n.app;Av(t);const r=yn(t);let a,i=r.token;if(i&&!dc(i)&&(r.token=void 0,i=void 0),!i){const m=yield r.cachedTokenPromise;m&&(dc(m)?i=m:yield Ig(t,void 0))}if(!e&&i&&dc(i))return{token:i.token};let f,c=!1;if(Ov()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ac(xv(t,yield _h()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const m=yield r.exchangeTokenPromise;return yield Ig(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield yn(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?yh.warn(m.message):yh.error(m),a=m}return i?a?f=dc(i)?{token:i.token,internalError:a}:YA(a):(f={token:i.token},r.token=i,yield Ig(t,i)):f=YA(a),c&&function KA(n,e){const t=yn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function OC(n){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,X.Z)(function*(n){const e=n.app;Av(e);const{provider:t}=yn(e);if(Ov()){const r=yield _h(),{token:i}=yield ac(xv(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function Lv(n,e){const t=yn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Vv(n){const{app:e}=n,t=yn(e);let r=t.tokenRefresher;r||(r=function Uv(n){const{app:e}=n;return new AC((0,X.Z)(function*(){let r;if(r=yn(e).token?yield Fv(n,!0):yield Fv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=yn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},bg.RETRIAL_MIN_WAIT,bg.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function dc(n){return n.expireTimeMillis-Date.now()>0}function YA(n){return{token:kv(Dg),error:n}}class QA{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=yn(this.app);for(const t of e)Lv(this.app,t.next);return Promise.resolve()}}const iS="app-check-internal";!function GC(){(0,Dt._registerComponent)(new Mi.wA("app-check",n=>function JA(n,e){return new QA(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(iS).initialize()})),(0,Dt._registerComponent)(new Mi.wA(iS,n=>function XA(n){return{getToken:e=>Fv(n,e),getLimitedUseToken:()=>OC(n),addTokenListener:e=>function ba(n,e,t,r){const{app:i}=n,a=yn(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&dc(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),Vv(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Vv(n))}(n,"INTERNAL",e),removeTokenListener:e=>Lv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Dt.registerVersion)("@firebase/app-check","0.8.0")}();class hc{constructor(){return pg("app-check")}}typeof window<"u"&&window;var cS=O(1389);class Hv{constructor(e){return e}}class Pg{constructor(){return pg("auth")}}const ZC=new u.OlP("angularfire2.auth-instances");function fS(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Hv(r)}}const zv={provide:Pg,deps:[[new u.FiY,ZC]]},pS={provide:Hv,useFactory:function ys(n,e){const t=dh("auth",n,e);return t&&new Hv(t)},deps:[[new u.FiY,ZC],wa]};let xP=(()=>{class n{constructor(){(0,Dt.registerVersion)("angularfire",ch.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[pS,zv]}),n})();function Qi(n,...e){return{ngModule:xP,providers:[{provide:ZC,useFactory:fS(n),multi:!0,deps:[u.R0b,u.zs3,hh,mg,[new u.FiY,hc],...e]}]}}const wS=Qr(cS.o,!0);var ze,PS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mi={},Zv=Zv||{},Nt=PS||self;function Ks(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var bh="closure_uid_"+(1e9*Math.random()>>>0),OS=0;function Kv(n,e,t){return n.call.apply(n.bind,arguments)}function Yv(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function cr(n,e,t){return(cr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kv:Yv).apply(null,arguments)}function Qv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Mr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function Nl(){this.s=this.s,this.o=this.o}Nl.prototype.s=!1,Nl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function Wv(n){Object.prototype.hasOwnProperty.call(n,bh)&&n[bh]||(n[bh]=++OS)}(this)},Nl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Jv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Xv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function XC(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Ks(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function Br(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Br.prototype.h=function(){this.defaultPrevented=!0};var kS=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nt.addEventListener("test",()=>{},e),Nt.removeEventListener("test",()=>{},e)}catch{}return n}();function pc(n){return/^[\s\xa0]*$/.test(n)}function Eh(){var n=Nt.navigator;return n&&(n=n.userAgent)?n:""}function _s(n){return-1!=Eh().indexOf(n)}function e0(n){return e0[" "](n),n}e0[" "]=function(){};var nI,n,eI=_s("Opera"),Ca=_s("Trident")||_s("MSIE"),LS=_s("Edge"),Og=LS||Ca,kg=_s("Gecko")&&!(-1!=Eh().toLowerCase().indexOf("webkit")&&!_s("Edge"))&&!(_s("Trident")||_s("MSIE"))&&!_s("Edge"),VS=-1!=Eh().toLowerCase().indexOf("webkit")&&!_s("Edge");function tI(){var n=Nt.document;return n?n.documentMode:void 0}e:{var rI="",t0=(n=Eh(),kg?/rv:([^\);]+)(\)|;)/.exec(n):LS?/Edge\/([\d\.]+)/.exec(n):Ca?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):VS?/WebKit\/(\S+)/.exec(n):eI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(t0&&(rI=t0?t0[1]:""),Ca){var n0=tI();if(null!=n0&&n0>parseFloat(rI)){nI=String(n0);break e}}nI=rI}var ZP=Nt.document&&Ca&&(tI()||parseInt(nI,10))||void 0;function Fg(n,e){if(Br.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(kg){e:{try{e0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:WP[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Fg.$.h.call(this)}}Mr(Fg,Br);var WP={2:"touch",3:"pen",4:"mouse"};Fg.prototype.h=function(){Fg.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ch="closure_listenable_"+(1e6*Math.random()|0),KP=0;function YP(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++KP,this.fa=this.ia=!1}function s0(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function iI(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function BS(n){const e={};for(const t in n)e[t]=n[t];return e}const s="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function o(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<s.length;a++)t=s[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function l(n){this.src=n,this.g={},this.h=0}function d(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=Jv(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(s0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function h(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}l.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=h(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new YP(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var g="closure_lm_"+(1e6*Math.random()|0),_={};function E(n,e,t,r,i){if(r&&r.once)return S(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)E(n,e[a],t,r,i);return null}return t=Qe(t),n&&n[Ch]?n.O(e,t,fc(r)?!!r.capture:!!r,i):I(n,e,t,!1,r,i)}function I(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=fc(i)?!!i.capture:!!i,f=Me(n);if(f||(n[g]=f=new l(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function D(){const e=le;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kS||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(q(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function S(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)S(n,e[a],t,r,i);return null}return t=Qe(t),n&&n[Ch]?n.P(e,t,fc(r)?!!r.capture:!!r,i):I(n,e,t,!0,r,i)}function R(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)R(n,e[a],t,r,i);else r=fc(r)?!!r.capture:!!r,t=Qe(t),n&&n[Ch]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=h(a=n.g[e],t,r,i))&&(s0(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=Me(n))&&(e=n.g[e.toString()],n=-1,e&&(n=h(e,t,r,i)),(t=-1<n?e[n]:null)&&U(t))}function U(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Ch])d(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(q(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Me(e))?(d(t,n),0==t.h&&(t.src=null,e[g]=null)):s0(n)}}}function q(n){return n in _?_[n]:_[n]="on"+n}function le(n,e){if(n.fa)n=!0;else{e=new Fg(e,this);var t=n.listener,r=n.la||n.src;n.ia&&U(n),n=t.call(r,e)}return n}function Me(n){return(n=n[g])instanceof l?n:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qe(n){return"function"==typeof n?n:(n[je]||(n[je]=function(e){return n.handleEvent(e)}),n[je])}function Ze(){Nl.call(this),this.i=new l(this),this.S=this,this.J=null}function ce(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Br(e,n);else if(e instanceof Br)e.target=e.target||n;else{var i=e;o(e=new Br(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=At(c,r,!0,e)&&i}if(i=At(c=e.g=n,r,!0,e)&&i,i=At(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=At(c=e.g=t[a],r,!1,e)&&i}function At(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==t){var f=c.listener,m=c.la||c.src;c.ia&&d(n.i,c),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}Mr(Ze,Nl),Ze.prototype[Ch]=!0,Ze.prototype.removeEventListener=function(n,e,t,r){R(this,n,e,t,r)},Ze.prototype.N=function(){if(Ze.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)s0(t[r]);delete n.g[e],n.h--}}this.J=null},Ze.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ze.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var pn=Nt.JSON.stringify;function JP(){var n=$S;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var XP=new class Un{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new PU,n=>n.reset());class PU{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function OU(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function kU(n){Nt.setTimeout(()=>{throw n},0)}let o0,a0=!1,$S=new class NU{constructor(){this.h=this.g=null}add(e,t){const r=XP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},eO=()=>{const n=Nt.Promise.resolve(void 0);o0=()=>{n.then(FU)}};var FU=()=>{for(var n;n=JP();){try{n.h.call(n.g)}catch(t){kU(t)}var e=XP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}a0=!1};function sI(n,e){Ze.call(this),this.h=n||1,this.g=e||Nt,this.j=cr(this.qb,this),this.l=Date.now()}function jS(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function HS(n,e,t){if("function"==typeof n)t&&(n=cr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=cr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Nt.setTimeout(n,e||0)}function tO(n){n.g=HS(()=>{n.g=null,n.i&&(n.i=!1,tO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mr(sI,Ze),(ze=sI.prototype).ga=!1,ze.T=null,ze.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ce(this,"tick"),this.ga&&(jS(this),this.start()))}},ze.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ze.N=function(){sI.$.N.call(this),jS(this),delete this.g};class LU extends Nl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tO(this)}N(){super.N(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function l0(n){Nl.call(this),this.h=n,this.g={}}Mr(l0,Nl);var nO=[];function rO(n,e,t,r){Array.isArray(t)||(t&&(nO[0]=t.toString()),t=nO);for(var i=0;i<t.length;i++){var a=E(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function iO(n){iI(n.g,function(e,t){this.g.hasOwnProperty(t)&&U(e)},n),n.g={}}function oI(){this.g=!0}function Lg(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $U(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return pn(t)}catch{return e}}(n,t)+(r?" "+r:"")})}l0.prototype.N=function(){l0.$.N.call(this),iO(this)},l0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},oI.prototype.Ea=function(){this.g=!1},oI.prototype.info=function(){};var Ih={},sO=null;function aI(){return sO=sO||new Ze}function oO(n){Br.call(this,Ih.Ta,n)}function u0(n){const e=aI();ce(e,new oO(e))}function aO(n,e){Br.call(this,Ih.STAT_EVENT,n),this.stat=e}function Pi(n){const e=aI();ce(e,new aO(e,n))}function lO(n,e){Br.call(this,Ih.Ua,n),this.size=e}function c0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){n()},e)}Ih.Ta="serverreachability",Mr(oO,Br),Ih.STAT_EVENT="statevent",Mr(aO,Br),Ih.Ua="timingevent",Mr(lO,Br);var lI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},uO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zS(){}function dO(){}zS.prototype.h=null;var ZS,d0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qS(){Br.call(this,"d")}function GS(){Br.call(this,"c")}function uI(){}function h0(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new l0(this),this.P=jU,this.V=new sI(n=Og?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hO}function hO(){this.i=null,this.g="",this.h=!1}Mr(qS,Br),Mr(GS,Br),Mr(uI,zS),uI.prototype.g=function(){return new XMLHttpRequest},uI.prototype.i=function(){return{}},ZS=new uI;var jU=45e3,WS={},cI={};function KS(n,e,t){n.L=1,n.v=pI(Pl(e)),n.s=t,n.S=!0,fO(n,null)}function fO(n,e){n.G=Date.now(),f0(n),n.A=Pl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),CO(t.i,"t",r),n.C=0,t=n.l.J,n.h=new hO,n.g=ZO(n.l,t?e:null,!n.s),0<n.O&&(n.M=new LU(cr(n.Pa,n,n.g),n.O)),rO(n.U,n.g,"readystatechange",n.nb),e=n.I?BS(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),u0(),function VU(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),m=0;m<f.length;m++){var v=f[m].split("=");if(1<v.length){var C=v[0];v=v[1];var T=C.split("_");c=2<=T.length&&"type"==T[1]?c+(C+"=")+v+"&":c+(C+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function pO(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function gO(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=HU(n,t),i==cI){4==e&&(n.o=4,Pi(14),r=!1),Lg(n.j,n.m,null,"[Incomplete Response]");break}if(i==WS){n.o=4,Pi(15),Lg(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Lg(n.j,n.m,i,null),YS(n,i)}pO(n)&&i!=cI&&i!=WS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Pi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),rx(e),e.M=!0,Pi(11))):(Lg(n.j,n.m,t,"[Invalid Chunked Response]"),Th(n),p0(n))}function HU(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?cI:(t=Number(e.substring(t,r)),isNaN(t)?WS:(r+=1)+t>e.length?cI:(e=e.slice(r,r+t),n.C=r+t,e))}function f0(n){n.Y=Date.now()+n.P,mO(n,n.P)}function mO(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=c0(cr(n.lb,n),e)}function dI(n){n.B&&(Nt.clearTimeout(n.B),n.B=null)}function p0(n){0==n.l.H||n.J||HO(n.l,n)}function Th(n){dI(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,jS(n.V),iO(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function YS(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||QS(t.i,n)))if(!n.K&&QS(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;wI(t),_I(t)}nx(t),Pi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=c0(cr(t.ib,t),6e3));if(1>=DO(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ah(t,11)}else if((n.K||t.g==n)&&wI(t),!pc(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.K=v[1],t.pa=v[2];const C=v[3];null!=C&&(t.ra=C,t.l.info("VER="+t.ra));const T=v[4];null!=T&&(t.Ga=T,t.l.info("SVER="+t.Ga));const M=v[5];null!=M&&"number"==typeof M&&0<M&&(t.L=r=1.5*M,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const N=n.g;if(N){const L=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L){var a=r.i;a.g||-1==L.indexOf("spdy")&&-1==L.indexOf("quic")&&-1==L.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(JS(a,a.h),a.h=null))}if(r.F){const z=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(r.Da=z,Sn(r.I,r.F,z))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=GO(r,r.J?r.pa:null,r.Y),c.K){AO(r.i,c);var f=c,m=r.L;m&&f.setTimeout(m),f.B&&(dI(f),f0(f)),r.g=c}else $O(r);0<t.j.length&&vI(t)}else"stop"!=v[0]&&"close"!=v[0]||Ah(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Ah(t,7):tx(t):"noop"!=v[0]&&t.h&&t.h.Aa(v),t.A=0)}u0()}catch{}}function yO(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ks(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function qU(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ks(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function zU(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ks(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(ze=h0.prototype).setTimeout=function(n){this.P=n},ze.nb=function(n){n=n.target;const e=this.M;e&&3==Ia(n)?e.l():this.Pa(n)},ze.Pa=function(n){try{if(n==this.g)e:{const C=Ia(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||Og||this.g&&(this.h.h||this.g.ja()||kO(this.g)))){this.J||4!=C||7==e||u0(),dI(this);var t=this.g.da();this.ca=t;t:if(pO(this)){var r=kO(this.g);n="";var i=r.length,a=4==Ia(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Th(this),p0(this);var c="";break t}this.h.i=new Nt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function UU(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pc(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Pi(12),Th(this),p0(this);break e}Lg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,YS(this,t)}this.S?(gO(this,C,c),Og&&this.i&&3==C&&(rO(this.U,this.V,"tick",this.mb),this.V.start())):(Lg(this.j,this.m,c,null),YS(this,c)),4==C&&Th(this),this.i&&!this.J&&(4==C?HO(this.l,this):(this.i=!1,f0(this)))}else(function u5(n){const e={};n=(n.g&&2<=Ia(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(pc(n[r]))continue;var t=OU(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function QP(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Pi(12)):(this.o=0,Pi(13)),Th(this),p0(this)}}}catch{}},ze.mb=function(){if(this.g){var n=Ia(this.g),e=this.g.ja();this.C<e.length&&(dI(this),gO(this,n,e),this.i&&4!=n&&f0(this))}},ze.cancel=function(){this.J=!0,Th(this)},ze.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function BU(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(u0(),Pi(17)),Th(this),this.o=2,p0(this)):mO(this,this.Y-n)};var _O=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Dh){this.h=n.h,hI(this,n.j),this.s=n.s,this.g=n.g,fI(this,n.m),this.l=n.l;var e=n.i,t=new y0;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),vO(this,t),this.o=n.o}else n&&(e=String(n).match(_O))?(this.h=!1,hI(this,e[1]||"",!0),this.s=g0(e[2]||""),this.g=g0(e[3]||"",!0),fI(this,e[4]),this.l=g0(e[5]||"",!0),vO(this,e[6]||"",!0),this.o=g0(e[7]||"")):(this.h=!1,this.i=new y0(null,this.h))}function Pl(n){return new Dh(n)}function hI(n,e,t){n.j=t?g0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function fI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function vO(n,e,t){e instanceof y0?(n.i=e,function JU(n,e){e&&!n.j&&(gc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(bO(this,r),CO(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=m0(e,YU)),n.i=new y0(e,n.h))}function Sn(n,e,t){n.i.set(e,t)}function pI(n){return Sn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function g0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function m0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ZU),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ZU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Dh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(m0(e,wO,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(m0(e,wO,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(m0(t,"/"==t.charAt(0)?KU:WU,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",m0(t,QU)),n.join("")};var wO=/[#\/\?@]/g,WU=/[#\?:]/g,KU=/[#\?]/g,YU=/[#\?@]/g,QU=/#/g;function y0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function gc(n){n.g||(n.g=new Map,n.h=0,n.i&&function GU(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function bO(n,e){gc(n),e=Vg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function EO(n,e){return gc(n),e=Vg(n,e),n.g.has(e)}function CO(n,e,t){bO(n,e),0<t.length&&(n.i=null,n.g.set(Vg(n,e),Xv(t)),n.h+=t.length)}function Vg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function IO(n){this.l=n||e5,n=Nt.PerformanceNavigationTiming?0<(n=Nt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nt.g&&Nt.g.Ka&&Nt.g.Ka()&&Nt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ze=y0.prototype).add=function(n,e){gc(this),this.i=null,n=Vg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ze.forEach=function(n,e){gc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ze.ta=function(){gc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},ze.Z=function(n){gc(this);let e=[];if("string"==typeof n)EO(this,n)&&(e=e.concat(this.g.get(Vg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ze.set=function(n,e){return gc(this),this.i=null,EO(this,n=Vg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ze.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var e5=10;function TO(n){return!!n.h||!!n.g&&n.g.size>=n.j}function DO(n){return n.h?1:n.g?n.g.size:0}function QS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function JS(n,e){n.g?n.g.add(e):n.h=e}function AO(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function SO(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Xv(n.i)}IO.prototype.cancel=function(){if(this.i=SO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var t5=class{stringify(n){return Nt.JSON.stringify(n,void 0)}parse(n){return Nt.JSON.parse(n,void 0)}};function n5(){this.g=new t5}function r5(n,e,t){const r=t||"";try{yO(n,function(i,a){let c=i;fc(i)&&(c=pn(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function gI(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function _0(n){this.l=n.fc||null,this.j=n.ob||!1}function mI(n,e){Ze.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=XS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mr(_0,zS),_0.prototype.g=function(){return new mI(this.l,this.j)},_0.prototype.i=function(n){return function(){return n}}({}),Mr(mI,Ze);var XS=0;function xO(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function v0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,w0(n)}function w0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ze=mI.prototype).open=function(n,e){if(this.readyState!=XS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,w0(this)},ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Nt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,v0(this)),this.readyState=XS},ze.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,w0(this)),this.g&&(this.readyState=3,w0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Nt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xO(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ze.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?v0(this):w0(this),3==this.readyState&&xO(this)}},ze.Za=function(n){this.g&&(this.response=this.responseText=n,v0(this))},ze.Ya=function(n){this.g&&(this.response=n,v0(this))},ze.ka=function(){this.g&&v0(this)},ze.setRequestHeader=function(n,e){this.v.append(n,e)},ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(mI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var s5=Nt.JSON.parse;function Qn(n){Ze.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=MO,this.L=this.M=!1}Mr(Qn,Ze);var MO="",o5=/^https?$/i,a5=["POST","PUT"];function RO(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,NO(n),yI(n)}function NO(n){n.F||(n.F=!0,ce(n,"complete"),ce(n,"error"))}function PO(n){if(n.h&&typeof Zv<"u"&&(!n.C[1]||4!=Ia(n)||2!=n.da()))if(n.v&&4==Ia(n))HS(n.La,0,n);else if(ce(n,"readystatechange"),4==Ia(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(_O)[1]||null;!i&&Nt.self&&Nt.self.location&&(i=Nt.self.location.protocol.slice(0,-1)),r=!o5.test(i?i.toLowerCase():"")}t=r}if(t)ce(n,"complete"),ce(n,"success");else{n.m=6;try{var a=2<Ia(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",NO(n)}}finally{yI(n)}}}function yI(n,e){if(n.g){OO(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||ce(n,"ready");try{t.onreadystatechange=r}catch{}}}function OO(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Nt.clearTimeout(n.A),n.A=null)}function Ia(n){return n.g?n.g.readyState:0}function kO(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case MO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function FO(n){let e="";return iI(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ex(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=FO(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Sn(n,e,t))}function b0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function LO(n){this.Ga=0,this.j=[],this.l=new oI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=b0("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=b0("baseRetryDelayMs",5e3,n),this.hb=b0("retryDelaySeedMs",1e4,n),this.eb=b0("forwardChannelMaxRetries",2,n),this.xa=b0("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new IO(n&&n.concurrentRequestLimit),this.Ja=new n5,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function tx(n){if(VO(n),3==n.H){var e=n.W++,t=Pl(n.I);if(Sn(t,"SID",n.K),Sn(t,"RID",e),Sn(t,"TYPE","terminate"),E0(n,t),(e=new h0(n,n.l,e)).L=2,e.v=pI(Pl(t)),t=!1,Nt.navigator&&Nt.navigator.sendBeacon)try{t=Nt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Nt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ZO(e.l,null),e.g.ha(e.v)),e.G=Date.now(),f0(e)}qO(n)}function _I(n){n.g&&(rx(n),n.g.cancel(),n.g=null)}function VO(n){_I(n),n.u&&(Nt.clearTimeout(n.u),n.u=null),wI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nt.clearTimeout(n.m),n.m=null)}function vI(n){if(!TO(n.i)&&!n.m){n.m=!0;var e=n.Na;o0||eO(),a0||(o0(),a0=!0),$S.add(e,n),n.C=0}}function UO(n,e){var t;t=e?e.m:n.W++;const r=Pl(n.I);Sn(r,"SID",n.K),Sn(r,"RID",t),Sn(r,"AID",n.V),E0(n,r),n.o&&n.s&&ex(r,n.o,n.s),t=new h0(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=BO(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),JS(n.i,t),KS(t,r,e)}function E0(n,e){n.na&&iI(n.na,function(t,r){Sn(e,r,t)}),n.h&&yO({},function(t,r){Sn(e,r,t)})}function BO(n,e,t){t=Math.min(n.j.length,t);var r=n.h?cr(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let m=0;m<t;m++){let v=i[m].g;const C=i[m].map;if(v-=a,0>v)a=Math.max(0,i[m].g-100),f=!1;else try{r5(C,c,"req"+v+"_")}catch{r&&r(C)}}if(f){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function $O(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;o0||eO(),a0||(o0(),a0=!0),$S.add(e,n),n.A=0}}function nx(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=c0(cr(n.Ma,n),zO(n,n.A)),n.A++,0))}function rx(n){null!=n.B&&(Nt.clearTimeout(n.B),n.B=null)}function jO(n){n.g=new h0(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Pl(n.wa);Sn(e,"RID","rpc"),Sn(e,"SID",n.K),Sn(e,"AID",n.V),Sn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Sn(e,"TO",n.qa),Sn(e,"TYPE","xmlhttp"),E0(n,e),n.o&&n.s&&ex(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=pI(Pl(e)),t.s=null,t.S=!0,fO(t,n)}function wI(n){null!=n.v&&(Nt.clearTimeout(n.v),n.v=null)}function HO(n,e){var t=null;if(n.g==e){wI(n),rx(n),n.g=null;var r=2}else{if(!QS(n.i,e))return;t=e.F,AO(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;ce(r=aI(),new lO(r,t)),vI(n)}else $O(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function c5(n,e){return!(DO(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=c0(cr(n.Na,n,e),zO(n,n.C)),n.C++,0)))}(n,e)||2==r&&nx(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ah(n,5);break;case 4:Ah(n,10);break;case 3:Ah(n,6);break;default:Ah(n,2)}}function zO(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ah(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=cr(n.pb,n);t||(t=new Dh("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||hI(t,"https"),pI(t)),function i5(n,e){const t=new oI;if(Nt.Image){const r=new Image;r.onload=Qv(gI,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Qv(gI,t,r,"TestLoadImage: error",!1,e),r.onabort=Qv(gI,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Qv(gI,t,r,"TestLoadImage: timeout",!1,e),Nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Pi(2);n.H=0,n.h&&n.h.za(e),qO(n),VO(n)}function qO(n){if(n.H=0,n.ma=[],n.h){const e=SO(n.i);(0!=e.length||0!=n.j.length)&&(XC(n.ma,e),XC(n.ma,n.j),n.i.i.length=0,Xv(n.j),n.j.length=0),n.h.ya()}}function GO(n,e,t){var r=t instanceof Dh?Pl(t):new Dh(t);if(""!=r.g)e&&(r.g=e+"."+r.g),fI(r,r.m);else{var i=Nt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Dh(null);r&&hI(a,r),e&&(a.g=e),i&&fI(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Sn(r,t,e),Sn(r,"VER",n.ra),E0(n,r),r}function ZO(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qn(t&&n.Ha&&!n.va?new _0({ob:!0}):n.va)).Oa(n.J),e}function WO(){}function bI(){if(Ca&&!(10<=Number(ZP)))throw Error("Environmental error: no available transport.")}function vs(n,e){Ze.call(this),this.g=new LO(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!pc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pc(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ug(this)}function KO(n){qS.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function YO(){GS.call(this),this.status=1}function Ug(n){this.g=n}function Ao(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ix(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],c=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;c=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(c<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=t+((c=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=a+((c=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function un(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(ze=Qn.prototype).Oa=function(n){this.M=n},ze.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ZS.g(),this.C=function cO(n){return n.h||(n.h=n.i())}(this.u?this.u:ZS),this.g.onreadystatechange=cr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void RO(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Nt.FormData&&n instanceof Nt.FormData,!(0<=Jv(a5,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{OO(this),0<this.B&&((this.L=function l5(n){return Ca&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cr(this.ua,this)):this.A=HS(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){RO(this,a)}},ze.ua=function(){typeof Zv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ce(this,"timeout"),this.abort(8))},ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ce(this,"complete"),ce(this,"abort"),yI(this))},ze.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yI(this,!0)),Qn.$.N.call(this)},ze.La=function(){this.s||(this.G||this.v||this.l?PO(this):this.kb())},ze.kb=function(){PO(this)},ze.isActive=function(){return!!this.g},ze.da=function(){try{return 2<Ia(this)?this.g.status:-1}catch{return-1}},ze.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ze.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),s5(e)}},ze.Ia=function(){return this.m},ze.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ze=LO.prototype).ra=8,ze.H=1,ze.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new h0(this,this.l,n);let a=this.s;if(this.U&&(a?(a=BS(a),o(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=BO(this,i,e),Sn(t=Pl(this.I),"RID",n),Sn(t,"CVER",22),this.F&&Sn(t,"X-HTTP-Session-Id",this.F),E0(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(FO(a)))+"&"+e:this.o&&ex(t,this.o,a)),JS(this.i,i),this.bb&&Sn(t,"TYPE","init"),this.P?(Sn(t,"$req",e),Sn(t,"SID","null"),i.aa=!0,KS(i,t,null)):KS(i,t,e),this.H=2}}else 3==this.H&&(n?UO(this,n):0==this.j.length||TO(this.i)||UO(this))},ze.Ma=function(){if(this.u=null,jO(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=c0(cr(this.jb,this),n)}},ze.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pi(10),_I(this),jO(this))},ze.ib=function(){null!=this.v&&(this.v=null,_I(this),nx(this),Pi(19))},ze.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Pi(2)):(this.l.info("Failed to ping google.com"),Pi(1))},ze.isActive=function(){return!!this.h&&this.h.isActive(this)},(ze=WO.prototype).Ba=function(){},ze.Aa=function(){},ze.za=function(){},ze.ya=function(){},ze.isActive=function(){return!0},ze.Va=function(){},bI.prototype.g=function(n,e){return new vs(n,e)},Mr(vs,Ze),vs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Pi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=GO(n,null,n.Y),vI(n)},vs.prototype.close=function(){tx(this.g)},vs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=pn(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&vI(e)},vs.prototype.N=function(){this.g.h=null,delete this.j,tx(this.g),delete this.g,vs.$.N.call(this)},Mr(KO,qS),Mr(YO,GS),Mr(Ug,WO),Ug.prototype.Ba=function(){ce(this.g,"a")},Ug.prototype.Aa=function(n){ce(this.g,new KO(n))},Ug.prototype.za=function(n){ce(this.g,new YO)},Ug.prototype.ya=function(){ce(this.g,"b")},Mr(Ao,function d5(){this.blockSize=-1}),Ao.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ao.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)ix(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){ix(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){ix(this,r),i=0;break}}this.h=i,this.i+=e},Ao.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var h5={};function sx(n){return-128<=n&&128>n?function FS(n,e){var t=h5;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new un([0|e],0>e?-1:0)}):new un([0|n],0>n?-1:0)}function Ta(n){if(isNaN(n)||!isFinite(n))return Bg;if(0>n)return Xr(Ta(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=ox;return new un(e,0)}var ox=4294967296,Bg=sx(0),ax=sx(1),JO=sx(16777216);function Ol(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ys(n){return-1==n.h}function Xr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new un(t,~n.h).add(ax)}function EI(n,e){return n.add(Xr(e))}function CI(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function C0(n,e){this.g=n,this.h=e}function II(n,e){if(Ol(e))throw Error("division by zero");if(Ol(n))return new C0(Bg,Bg);if(Ys(n))return e=II(Xr(n),e),new C0(Xr(e.g),Xr(e.h));if(Ys(e))return e=II(n,Xr(e)),new C0(Xr(e.g),e.h);if(30<n.g.length){if(Ys(n)||Ys(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ax,r=e;0>=r.X(n);)t=XO(t),r=XO(r);var i=$g(t,1),a=$g(r,1);for(r=$g(r,2),t=$g(t,2);!Ol(r);){var c=a.add(r);0>=c.X(n)&&(i=i.add(t),a=c),r=$g(r,1),t=$g(t,1)}return e=EI(n,i.R(e)),new C0(i,e)}for(i=Bg;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(a=Ta(t)).R(e);Ys(c)||0<c.X(n);)c=(a=Ta(t-=r)).R(e);Ol(a)&&(a=ax),i=i.add(a),n=EI(n,c)}return new C0(i,n)}function XO(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new un(t,n.h)}function $g(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new un(i,n.h)}(ze=un.prototype).ea=function(){if(Ys(this))return-Xr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:ox+r)*e,e*=ox}return n},ze.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ol(this))return"0";if(Ys(this))return"-"+Xr(this).toString(n);for(var e=Ta(Math.pow(n,6)),t=this,r="";;){var i=II(t,e).g,a=((0<(t=EI(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ol(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},ze.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ze.X=function(n){return Ys(n=EI(this,n))?-1:Ol(n)?0:1},ze.abs=function(){return Ys(this)?Xr(this):this},ze.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),c=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(a&=65535)}return new un(t,-2147483648&t[t.length-1]?-1:0)},ze.R=function(n){if(Ol(this)||Ol(n))return Bg;if(Ys(this))return Ys(n)?Xr(this).R(Xr(n)):Xr(Xr(this).R(n));if(Ys(n))return Xr(this.R(Xr(n)));if(0>this.X(JO)&&0>n.X(JO))return Ta(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,c=65535&this.D(r),f=n.D(i)>>>16,m=65535&n.D(i);t[2*r+2*i]+=c*m,CI(t,2*r+2*i),t[2*r+2*i+1]+=a*m,CI(t,2*r+2*i+1),t[2*r+2*i+1]+=c*f,CI(t,2*r+2*i+1),t[2*r+2*i+2]+=a*f,CI(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new un(t,0)},ze.gb=function(n){return II(this,n).h},ze.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new un(t,this.h&n.h)},ze.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new un(t,this.h|n.h)},ze.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new un(t,this.h^n.h)},bI.prototype.createWebChannel=bI.prototype.g,vs.prototype.send=vs.prototype.u,vs.prototype.open=vs.prototype.m,vs.prototype.close=vs.prototype.close,lI.NO_ERROR=0,lI.TIMEOUT=8,lI.HTTP_ERROR=6,uO.COMPLETE="complete",dO.EventType=d0,d0.OPEN="a",d0.CLOSE="b",d0.ERROR="c",d0.MESSAGE="d",Ze.prototype.listen=Ze.prototype.O,Qn.prototype.listenOnce=Qn.prototype.P,Qn.prototype.getLastError=Qn.prototype.Sa,Qn.prototype.getLastErrorCode=Qn.prototype.Ia,Qn.prototype.getStatus=Qn.prototype.da,Qn.prototype.getResponseJson=Qn.prototype.Wa,Qn.prototype.getResponseText=Qn.prototype.ja,Qn.prototype.send=Qn.prototype.ha,Qn.prototype.setWithCredentials=Qn.prototype.Oa,Ao.prototype.digest=Ao.prototype.l,Ao.prototype.reset=Ao.prototype.reset,Ao.prototype.update=Ao.prototype.j,un.prototype.add=un.prototype.add,un.prototype.multiply=un.prototype.R,un.prototype.modulo=un.prototype.gb,un.prototype.compare=un.prototype.X,un.prototype.toNumber=un.prototype.ea,un.prototype.toString=un.prototype.toString,un.prototype.getBits=un.prototype.D,un.fromNumber=Ta,un.fromString=function QO(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Xr(QO(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ta(Math.pow(e,8)),r=Bg,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+a),e);8>a?(a=Ta(Math.pow(e,a)),r=r.R(a).add(Ta(c))):r=(r=r.R(t)).add(Ta(c))}return r};var f5=mi.createWebChannelTransport=function(){return new bI},p5=mi.getStatEventTarget=function(){return aI()},lx=mi.ErrorCode=lI,g5=mi.EventType=uO,m5=mi.Event=Ih,ek=mi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},y5=mi.FetchXmlHttpFactory=_0,TI=mi.WebChannel=dO,_5=mi.XhrIo=Qn,v5=mi.Md5=Ao,jg=mi.Integer=un;const tk="@firebase/firestore";class $r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");let Hg="9.22.2";const mc=new Zi.Yd("@firebase/firestore");function ux(){return mc.logLevel}function Ee(n,...e){if(mc.logLevel<=Zi.in.DEBUG){const t=e.map(cx);mc.debug(`Firestore (${Hg}): ${n}`,...t)}}function dr(n,...e){if(mc.logLevel<=Zi.in.ERROR){const t=e.map(cx);mc.error(`Firestore (${Hg}): ${n}`,...t)}}function So(n,...e){if(mc.logLevel<=Zi.in.WARN){const t=e.map(cx);mc.warn(`Firestore (${Hg}): ${n}`,...t)}}function cx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Xe(n="Unexpected state"){const e=`FIRESTORE (${Hg}) INTERNAL ASSERTION FAILED: `+n;throw dr(e),new Error(e)}function lt(n,e){n||Xe()}function qe(n,e){return n}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends _t.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($r.UNAUTHENTICATED))}shutdown(){}}class b5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class E5{constructor(e){this.t=e,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let c=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Rr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=c;e.enqueueRetryable((0,X.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},m=v=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Rr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt("string"==typeof r.accessToken),new nk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new $r(e)}}class C5{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=$r.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class I5{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new C5(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T5{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.T;return this.T=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt("string"==typeof t.token),this.T=t.token,new rk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function D5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ik{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=D5(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Ot(n,e){return n<e?-1:n>e?1:0}function zg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Bn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bn.fromMillis(Date.now())}static fromDate(e){return Bn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Bn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dt(e)}static min(){return new dt(new Bn(0,0))}static max(){return new dt(new Bn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class I0{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xe(),void 0===r?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===I0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof I0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jt extends I0{construct(e,t,r){return new Jt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Jt(t)}static emptyPath(){return new Jt([])}}const A5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends I0{construct(e,t,r){return new hr(e,t,r)}static isValidIdentifier(e){return A5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new ye(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new ye(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new ye(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new ye(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(t)}static emptyPath(){return new hr([])}}class He{constructor(e){this.path=e}static fromPath(e){return new He(Jt.fromString(e))}static fromName(e){return new He(Jt.fromString(e).popFirst(5))}static empty(){return new He(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Jt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Jt(e.slice()))}}function ak(n){return new ws(n.readTime,n.key,-1)}class ws{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ws(dt.min(),He.empty(),-1)}static max(){return new ws(dt.max(),He.empty(),-1)}}function hx(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:Ot(n.largestBatchId,e.largestBatchId))}const lk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function yc(n){return fx.apply(this,arguments)}function fx(){return fx=(0,X.Z)(function*(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==lk)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}),fx.apply(this,arguments)}class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,r)=>{t(e)})}static reject(e){return new K((t,r)=>{r(e)})}static waitFor(e){return new K((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},m=>r(m))}),c=!0,a===i&&t()})}static or(e){let t=K.resolve(!1);for(const r of e)t=t.next(i=>i?K.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new K((r,i)=>{const a=e.length,c=new Array(a);let f=0;for(let m=0;m<a;m++){const v=m;t(e[v]).next(C=>{c[v]=C,++f,f===a&&r(c)},C=>i(C))}})}static doWhile(e,t){return new K((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}function _c(n){return"IndexedDbTransactionError"===n.name}let bs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function A0(n){return null==n}function S0(n){return 0===n&&1/n==-1/0}function yk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _k(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Cn{constructor(e,t){this.comparator=e,this.root=t||ei.EMPTY}insert(e,t){return new Cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new MI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new MI(this.root,e,this.comparator,!1)}getReverseIterator(){return new MI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new MI(this.root,e,this.comparator,!0)}}class MI{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ei{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??ei.RED,this.left=i??ei.EMPTY,this.right=a??ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ei(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ei.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1,ei.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ei(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vk(this.data.getIterator())}getIteratorFrom(e){return new vk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xn(this.comparator);return t.data=e,t}}class vk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ji{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new Ji([])}unionWith(e){let t=new xn(hr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ji(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class wk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wk("Invalid base64 string: "+i):i}}(e);return new Nr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const X5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wc(n){if(lt(!!n),"string"==typeof n){let e=0;const t=X5.exec(n);if(lt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jn(n.seconds),nanos:Jn(n.nanos)}}function Jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function kl(n){return"string"==typeof n?Nr.fromBase64String(n):Nr.fromUint8Array(n)}function RI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function NI(n){const e=n.mapValue.fields.__previous_value__;return RI(e)?NI(e):e}function x0(n){const e=wc(n.mapValue.fields.__local_write_time__.timestampValue);return new Bn(e.seconds,e.nanos)}class e4{constructor(e,t,r,i,a,c,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=v}}class Mh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mh&&e.projectId===this.projectId&&e.database===this.database}}const bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ec(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?RI(n)?4:Ik(n)?9007199254740991:10:Xe()}function Aa(n,e){if(n===e)return!0;const t=Ec(n);if(t!==Ec(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return x0(n).isEqual(x0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=wc(r.timestampValue),c=wc(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,kl(n.bytesValue).isEqual(kl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Jn(r.geoPointValue.latitude)===Jn(i.geoPointValue.latitude)&&Jn(r.geoPointValue.longitude)===Jn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Jn(r.integerValue)===Jn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Jn(r.doubleValue),c=Jn(i.doubleValue);return a===c?S0(a)===S0(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return zg(n.arrayValue.values||[],e.arrayValue.values||[],Aa);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(yk(a)!==yk(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!Aa(a[f],c[f])))return!1;return!0}(n,e);default:return Xe()}var i}function M0(n,e){return void 0!==(n.values||[]).find(t=>Aa(t,e))}function Cc(n,e){if(n===e)return 0;const t=Ec(n),r=Ec(e);if(t!==r)return Ot(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Jn(i.integerValue||i.doubleValue),f=Jn(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return bk(n.timestampValue,e.timestampValue);case 4:return bk(x0(n),x0(e));case 5:return Ot(n.stringValue,e.stringValue);case 6:return function(i,a){const c=kl(i),f=kl(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let m=0;m<c.length&&m<f.length;m++){const v=Ot(c[m],f[m]);if(0!==v)return v}return Ot(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Ot(Jn(i.latitude),Jn(a.latitude));return 0!==c?c:Ot(Jn(i.longitude),Jn(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let m=0;m<c.length&&m<f.length;++m){const v=Cc(c[m],f[m]);if(v)return v}return Ot(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===bc.mapValue&&a===bc.mapValue)return 0;if(i===bc.mapValue)return 1;if(a===bc.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),m=a.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let C=0;C<f.length&&C<v.length;++C){const T=Ot(f[C],v[C]);if(0!==T)return T;const M=Cc(c[f[C]],m[v[C]]);if(0!==M)return M}return Ot(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function bk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ot(n,e);const t=wc(n),r=wc(e),i=Ot(t.seconds,r.seconds);return 0!==i?i:Ot(t.nanos,r.nanos)}function Gg(n){return mx(n)}function mx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=wc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?kl(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=mx(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${mx(r.fields[f])}`;return a+"}"}(n.mapValue):Xe();var e}function yx(n){return!!n&&"integerValue"in n}function R0(n){return!!n&&"arrayValue"in n}function Ek(n){return!!n&&"nullValue"in n}function Ck(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kI(n){return!!n&&"mapValue"in n}function N0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=N0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=N0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ik(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=N0(t)}setAll(e){let t=hr.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=N0(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());kI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){vc(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ti(N0(this.value))}}function Ak(n){const e=[];return vc(n.fields,(t,r)=>{const i=new hr([t]);if(kI(r)){const a=Ak(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new Ji(e)}class Mn{constructor(e,t,r,i,a,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Mn(e,0,dt.min(),dt.min(),dt.min(),ti.empty(),0)}static newFoundDocument(e,t,r,i){return new Mn(e,1,t,dt.min(),r,i,0)}static newNoDocument(e,t){return new Mn(e,2,t,dt.min(),dt.min(),ti.empty(),0)}static newUnknownDocument(e,t){return new Mn(e,3,t,dt.min(),dt.min(),ti.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ic{constructor(e,t){this.position=e,this.inclusive=t}}function Sk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?He.comparator(He.fromName(c.referenceValue),t.key):Cc(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function xk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Aa(n.position[t],e.position[t]))return!1;return!0}class Zg{constructor(e,t="asc"){this.field=e,this.dir=t}}function r4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Mk{}class Zt extends Mk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new i4(e,t,r):"array-contains"===t?new a4(e,r):"in"===t?new Fk(e,r):"not-in"===t?new l4(e,r):"array-contains-any"===t?new u4(e,r):new Zt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new s4(e,r):new o4(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Cc(t,this.value)):null!==t&&Ec(this.value)===Ec(t)&&this.matchesComparison(Cc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class cn extends Mk{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new cn(e,t)}matches(e){return Wg(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Wg(n){return"and"===n.op}function vx(n){return function Rk(n){for(const e of n.filters)if(e instanceof cn)return!1;return!0}(n)&&Wg(n)}function wx(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+Gg(n.value);if(vx(n))return n.filters.map(e=>wx(e)).join(",");{const e=n.filters.map(t=>wx(t)).join(",");return`${n.op}(${e})`}}function Nk(n,e){return n instanceof Zt?(t=n,(r=e)instanceof Zt&&t.op===r.op&&t.field.isEqual(r.field)&&Aa(t.value,r.value)):n instanceof cn?function(t,r){return r instanceof cn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,c)=>i&&Nk(a,r.filters[c]),!0)}(n,e):void Xe();var t,r}function Ok(n){return n instanceof Zt?`${(e=n).field.canonicalString()} ${e.op} ${Gg(e.value)}`:n instanceof cn?function(e){return e.op.toString()+" {"+e.getFilters().map(Ok).join(" ,")+"}"}(n):"Filter";var e}class i4 extends Zt{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.matchesComparison(t)}}class s4 extends Zt{constructor(e,t){super(e,"in",t),this.keys=kk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class o4 extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=kk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class a4 extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return R0(t)&&M0(t.arrayValue,this.value)}}class Fk extends Zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&M0(this.value.arrayValue,t)}}class l4 extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(M0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!M0(this.value.arrayValue,t)}}class u4 extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!R0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>M0(this.value.arrayValue,r))}}class c4{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.dt=null}}function bx(n,e=null,t=[],r=[],i=null,a=null,c=null){return new c4(n,e,t,r,i,a,c)}function Nh(n){const e=qe(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>wx(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),A0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gg(r)).join(",")),e.dt=t}return e.dt}function P0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!r4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Nk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xk(n.startAt,e.startAt)&&xk(n.endAt,e.endAt)}function FI(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Fl{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=m,this.wt=null,this._t=null}}function Kg(n){return new Fl(n)}function Bk(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ph(n){const e=qe(n);if(null===e.wt){e.wt=[];const t=function VI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function Ex(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Zg(t)),e.wt.push(new Zg(hr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Zg(hr.keyField(),a))}}}return e.wt}function Oi(n){const e=qe(n);if(!e._t)if("F"===e.limitType)e._t=bx(e.path,e.collectionGroup,Ph(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Ph(e))t.push(new Zg(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Ic(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ic(e.startAt.position,e.startAt.inclusive):null;e._t=bx(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function UI(n,e,t){return new Fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function O0(n,e){return P0(Oi(n),Oi(e))&&n.limitType===e.limitType}function $k(n){return`${Nh(Oi(n))}|lt:${n.limitType}`}function Tx(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>Ok(r)).join(", ")}]`),A0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gg(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gg(r)).join(",")),`Target(${t})`}(Oi(n))}; limitType=${n.limitType})`}function k0(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):He.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Ph(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=Sk(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,Ph(t),r)||t.endAt&&!function(i,a,c){const f=Sk(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,Ph(t),r)));var t,r}function Hk(n){return(e,t)=>{let r=!1;for(const i of Ph(n)){const a=d4(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function d4(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),m=c.data.field(i);return null!==f&&null!==m?Cc(f,m):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}class Ll{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vc(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return _k(this.inner)}size(){return this.innerSize}}const h4=new Cn(He.comparator);function Xi(){return h4}const zk=new Cn(He.comparator);function F0(...n){let e=zk;for(const t of n)e=e.insert(t.key,t);return e}function qk(n){let e=zk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Sa(){return L0()}function Gk(){return L0()}function L0(){return new Ll(n=>n.toString(),(n,e)=>n.isEqual(e))}const f4=new Cn(He.comparator),p4=new xn(He.comparator);function Vt(...n){let e=p4;for(const t of n)e=e.add(t);return e}const g4=new xn(Ot);function Zk(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:S0(e)?"-0":e}}function Wk(n){return{integerValue:""+n}}function Kk(n,e){return function ck(n){return"number"==typeof n&&Number.isInteger(n)&&!S0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Wk(e):Zk(n,e)}class BI{constructor(){this._=void 0}}function m4(n,e,t){return n instanceof Yg?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&RI(i)&&(i=NI(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Oh?Qk(n,e):n instanceof kh?Jk(n,e):function(r,i){const a=Yk(r,i),c=Xk(a)+Xk(r.gt);return yx(a)&&yx(r.gt)?Wk(c):Zk(r.serializer,c)}(n,e)}function y4(n,e,t){return n instanceof Oh?Qk(n,e):n instanceof kh?Jk(n,e):t}function Yk(n,e){return n instanceof Qg?yx(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Yg extends BI{}class Oh extends BI{constructor(e){super(),this.elements=e}}function Qk(n,e){const t=e2(e);for(const r of n.elements)t.some(i=>Aa(i,r))||t.push(r);return{arrayValue:{values:t}}}class kh extends BI{constructor(e){super(),this.elements=e}}function Jk(n,e){let t=e2(e);for(const r of n.elements)t=t.filter(i=>!Aa(i,r));return{arrayValue:{values:t}}}class Qg extends BI{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Xk(n){return Jn(n.integerValue||n.doubleValue)}function e2(n){return R0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class V0{constructor(e,t){this.field=e,this.transform=t}}class v4{constructor(e,t){this.version=e,this.transformResults=t}}class Pn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $I(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class jI{}function t2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Xg(n.key,Pn.none()):new Jg(n.key,n.data,Pn.none());{const t=n.data,r=ti.empty();let i=new xn(hr.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new Vl(n.key,r,new Ji(i.toArray()),Pn.none())}}function w4(n,e,t){n instanceof Jg?function(r,i,a){const c=r.value.clone(),f=i2(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Vl?function(r,i,a){if(!$I(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=i2(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(r2(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function U0(n,e,t,r){return n instanceof Jg?function(i,a,c,f){if(!$I(i.precondition,a))return c;const m=i.value.clone(),v=s2(i.fieldTransforms,f,a);return m.setAll(v),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Vl?function(i,a,c,f){if(!$I(i.precondition,a))return c;const m=s2(i.fieldTransforms,f,a),v=a.data;return v.setAll(r2(i)),v.setAll(m),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(C=>C.field))}(n,e,t,r):(c=t,$I(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function b4(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=Yk(r.transform,i||null);null!=a&&(null===t&&(t=ti.empty()),t.set(r.field,a))}return t||null}function n2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&zg(t,r,(i,a)=>function _4(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Oh&&r instanceof Oh||t instanceof kh&&r instanceof kh?zg(t.elements,r.elements,Aa):t instanceof Qg&&r instanceof Qg?Aa(t.gt,r.gt):t instanceof Yg&&r instanceof Yg);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Jg extends jI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vl extends jI{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function r2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function i2(n,e,t){const r=new Map;lt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,y4(c,f,t[i]))}return r}function s2(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,m4(a,c,e))}return r}class Xg extends jI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ax extends jI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Sx{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&w4(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=U0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=U0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Gk();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=t.has(i.key)?null:f;const m=t2(c,f);null!==m&&r.set(i.key,m),c.isValidDocument()||c.convertToNoDocument(dt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Vt())}isEqual(e){return this.batchId===e.batchId&&zg(this.mutations,e.mutations,(t,r)=>n2(t,r))&&zg(this.baseMutations,e.baseMutations,(t,r)=>n2(t,r))}}class xx{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){lt(e.mutations.length===r.length);let i=f4;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new xx(e,t,r,i)}}class Mx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class C4{constructor(e,t){this.count=e,this.unchangedNames=t}}var wr,Xt;function a2(n){if(void 0===n)return dr("GRPC error has no .code"),ee.UNKNOWN;switch(n){case wr.OK:return ee.OK;case wr.CANCELLED:return ee.CANCELLED;case wr.UNKNOWN:return ee.UNKNOWN;case wr.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case wr.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case wr.INTERNAL:return ee.INTERNAL;case wr.UNAVAILABLE:return ee.UNAVAILABLE;case wr.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case wr.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case wr.NOT_FOUND:return ee.NOT_FOUND;case wr.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case wr.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case wr.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case wr.ABORTED:return ee.ABORTED;case wr.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case wr.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case wr.DATA_LOSS:return ee.DATA_LOSS;default:return Xe()}}(Xt=wr||(wr={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";class Rx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return HI}static getOrCreateInstance(){return null===HI&&(HI=new Rx),HI}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let HI=null;const I4=new jg([4294967295,4294967295],0);function u2(n){const e=function l2(){return new TextEncoder}().encode(n),t=new v5;return t.update(e),new Uint8Array(t.digest())}function c2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new jg([t,r],0),new jg([i,a],0)]}class Nx{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new B0(`Invalid padding: ${t}`);if(r<0)throw new B0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new B0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new B0(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=jg.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(jg.fromNumber(r)));return 1===i.compare(I4)&&(i=new jg([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=u2(e),[r,i]=c2(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,i,a);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Nx(a,i,t);return r.forEach(f=>c.insert(f)),c}insert(e){if(0===this.It)return;const t=u2(e),[r,i]=c2(t);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,i,a);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class B0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,j0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $0(dt.min(),i,new Cn(Ot),Xi(),Vt())}}class j0{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new j0(r,t,Vt(),Vt(),Vt())}}class zI{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class d2{constructor(e,t){this.targetId=e,this.Vt=t}}class h2{constructor(e,t,r=Nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class f2{constructor(){this.St=0,this.Dt=g2(),this.Ct=Nr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Vt(),t=Vt(),r=Vt();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new j0(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=g2()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class T4{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Xi(),this.zt=p2(),this.Wt=new Cn(Ot)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const c=a.target;if(FI(c))if(0===i){const f=new He(c.path);this.Yt(r,f,Mn.newNoDocument(f,dt.min()))}else lt(1===i);else{const f=this.ie(r);if(f!==i){const m=this.re(e,f);0!==m&&(this.ee(r),this.Wt=this.Wt.insert(r,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Rx.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,C,T){var M,N,L,z,G,pe;const Re={localCacheCount:C,existenceFilterCount:T.count},ke=T.unchangedNames;return ke&&(Re.bloomFilter={applied:0===v,hashCount:null!==(M=ke?.hashCount)&&void 0!==M?M:0,bitmapLength:null!==(z=null===(L=null===(N=ke?.bits)||void 0===N?void 0:N.bitmap)||void 0===L?void 0:L.length)&&void 0!==z?z:0,padding:null!==(pe=null===(G=ke?.bits)||void 0===G?void 0:G.padding)&&void 0!==pe?pe:0}),Re}(m,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:c=0},hashCount:f=0}=r;let m,v;try{m=kl(a).toUint8Array()}catch(C){if(C instanceof wk)return So("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{v=new Nx(m,c,f)}catch(C){return So(C instanceof B0?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===v.It?1:i!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const c=this.Gt.ue(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,c)=>{const f=this.se(c);if(f){if(a.current&&FI(f.target)){const m=new He(f.target.path);null!==this.jt.get(m)||this.ae(c,m)||this.Yt(c,m,Mn.newNoDocument(m,e))}a.Mt&&(t.set(c,a.Ot()),a.Ft())}});let r=Vt();this.zt.forEach((a,c)=>{let f=!0;c.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,c)=>c.setReadTime(e));const i=new $0(e,t,this.Wt,this.jt,r);return this.jt=Xi(),this.zt=p2(),this.Wt=new Cn(Ot),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new f2,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new xn(Ot),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new f2),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function p2(){return new Cn(He.comparator)}function g2(){return new Cn(He.comparator)}const D4={asc:"ASCENDING",desc:"DESCENDING"},A4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S4={and:"AND",or:"OR"};class x4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Px(n,e){return n.useProto3Json||A0(e)?e:{value:e}}function em(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m2(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function M4(n,e){return em(n,e.toTimestamp())}function fr(n){return lt(!!n),dt.fromTimestamp(function(e){const t=wc(e);return new Bn(t.seconds,t.nanos)}(n))}function Ox(n,e){return(t=n,new Jt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function y2(n){const e=Jt.fromString(n);return lt(D2(e)),e}function H0(n,e){return Ox(n.databaseId,e.path)}function xa(n,e){const t=y2(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(v2(t))}function kx(n,e){return Ox(n.databaseId,e)}function z0(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function v2(n){return lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function w2(n,e,t){return{name:H0(n,e),fields:t.value.mapValue.fields}}function E2(n,e){return{documents:[kx(n,e.path)]}}function Lx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=kx(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=kx(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(m){if(0!==m.length)return T2(cn.create(m,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(m){if(0!==m.length)return m.map(v=>{return{field:Tc((C=v).field),direction:k4(C.dir)};var C})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=Px(n,e.limit);var f,m;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function C2(n){let e=function _2(n){const e=y2(n);return 4===e.length?Jt.emptyPath():v2(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){lt(1===r);const C=t.from[0];C.allDescendants?i=C.collectionId:e=e.child(C.collectionId)}let a=[];t.where&&(a=function(C){const T=I2(C);return T instanceof cn&&vx(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(C=>{return new Zg(tm((T=C).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let f=null;t.limit&&(f=function(C){let T;return T="object"==typeof C?C.value:C,A0(T)?null:T}(t.limit));let m=null;var C;t.startAt&&(m=new Ic((C=t.startAt).values||[],!!C.before));let v=null;return t.endAt&&(v=function(C){return new Ic(C.values||[],!C.before)}(t.endAt)),function Uk(n,e,t,r,i,a,c,f){return new Fl(n,e,t,r,i,a,c,f)}(e,i,c,a,f,"F",m,v)}function I2(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=tm(e.unaryFilter.field);return Zt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=tm(e.unaryFilter.field);return Zt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=tm(e.unaryFilter.field);return Zt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=tm(e.unaryFilter.field);return Zt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}(n):void 0!==n.fieldFilter?Zt.create(tm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return cn.create(e.compositeFilter.filters.map(t=>I2(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Xe()}}(e.compositeFilter.op))}(n):Xe();var e}function k4(n){return D4[n]}function F4(n){return A4[n]}function L4(n){return S4[n]}function Tc(n){return{fieldPath:n.canonicalString()}}function tm(n){return hr.fromServerFormat(n.fieldPath)}function T2(n){return n instanceof Zt?function(e){if("=="===e.op){if(Ck(e.value))return{unaryFilter:{field:Tc(e.field),op:"IS_NAN"}};if(Ek(e.value))return{unaryFilter:{field:Tc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ck(e.value))return{unaryFilter:{field:Tc(e.field),op:"IS_NOT_NAN"}};if(Ek(e.value))return{unaryFilter:{field:Tc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tc(e.field),op:F4(e.op),value:e.value}}}(n):n instanceof cn?function(e){const t=e.getFilters().map(r=>T2(r));return 1===t.length?t[0]:{compositeFilter:{op:L4(e.op),filters:t}}}(n):Xe()}function V4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function D2(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ul{constructor(e,t,r,i,a=dt.min(),c=dt.min(),f=Nr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ul(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class A2{constructor(e){this.fe=e}}function Vx(n){const e=C2({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?UI(e,e.limit,"L"):e}class Uh{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Jn(e.integerValue));else if("doubleValue"in e){const r=Jn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),S0(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(kl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?Ik(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Xe()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),He.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Uh.Ve=new Uh;class Z4{constructor(){this.rn=new zx}addToCollectionParentIndex(e,t){return this.rn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(ws.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class zx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new xn(Jt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xn(Jt.comparator)).toArray()}}new Uint8Array(0);class _i{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _i(e,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(41943040,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);class $h{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new $h(0)}static Mn(){return new $h(-1)}}class X4{constructor(){this.changes=new Ll(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class n6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class X2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&U0(r.mutation,i,Ji.empty(),Bn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Vt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Vt()){const i=Sa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=F0();return a.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Sa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Vt()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let a=Xi();const c=L0(),f=L0();return t.forEach((m,v)=>{const C=r.get(v.key);i.has(v.key)&&(void 0===C||C.mutation instanceof Vl)?a=a.insert(v.key,v):void 0!==C?(c.set(v.key,C.mutation.getFieldMask()),U0(C.mutation,v,C.mutation.getFieldMask(),Bn.now())):c.set(v.key,Ji.empty())}),this.recalculateAndSaveOverlays(e,a).next(m=>(m.forEach((v,C)=>c.set(v,C)),t.forEach((v,C)=>{var T;return f.set(v,new n6(C,null!==(T=c.get(v))&&void 0!==T?T:null))}),f))}recalculateAndSaveOverlays(e,t){const r=L0();let i=new Cn((c,f)=>c-f),a=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let C=r.get(m)||Ji.empty();C=f.applyToLocalView(v,C),r.set(m,C);const T=(i.get(f.batchId)||Vt()).add(m);i=i.insert(f.batchId,T)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),v=m.key,C=m.value,T=Gk();C.forEach(M=>{if(!a.has(M)){const N=t2(t.get(M),r.get(M));null!==N&&T.set(M,N),a=a.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,T))}return K.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return He.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Cx(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):K.resolve(Sa());let f=-1,m=a;return c.next(v=>K.forEach(v,(C,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),a.get(C)?K.resolve():this.remoteDocumentCache.getEntry(e,C).next(M=>{m=m.insert(C,M)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,m,v,Vt())).next(C=>({batchId:f,changes:qk(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new He(t)).next(r=>{let i=F0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=F0();return this.indexManager.getCollectionParents(e,i).next(c=>K.forEach(c,f=>{const m=(v=t,C=f.child(i),new Fl(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.getDocumentsMatchingCollectionQuery(e,m,r).next(v=>{v.forEach((C,T)=>{a=a.insert(C,T)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,m)=>{const v=m.getKey();null===a.get(v)&&(a=a.insert(v,Mn.newInvalidDocument(v)))});let c=F0();return a.forEach((f,m)=>{const v=i.get(f);void 0!==v&&U0(v.mutation,m,Ji.empty(),Bn.now()),k0(t,m)&&(c=c.insert(f,m))}),c})}}class r6{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return K.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:fr(r.createTime)}),K.resolve()}getNamedQuery(e,t){return K.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:Vx(r.bundledQuery),readTime:fr(r.readTime)}),K.resolve();var r}}class i6{constructor(){this.overlays=new Cn(He.comparator),this.ls=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Sa();return K.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),K.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){const i=Sa(),a=t.length+1,c=new He(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&m.largestBatchId>r&&i.set(m.getKey(),m)}return K.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Cn((v,C)=>v-C);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let C=a.get(v.largestBatchId);null===C&&(C=Sa(),a=a.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const f=Sa(),m=a.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,C)=>f.set(v,C)),!(f.size()>=i)););return K.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Mx(t,r));let a=this.ls.get(t);void 0===a&&(a=Vt(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class qx{constructor(){this.fs=new xn(Hr.ds),this.ws=new xn(Hr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Hr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Hr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new He(new Jt([])),r=new Hr(t,e),i=new Hr(t,e+1),a=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),a.push(c.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new He(new Jt([])),r=new Hr(t,e),i=new Hr(t,e+1);let a=Vt();return this.ws.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Hr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Hr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return He.comparator(e.key,t.key)||Ot(e.As,t.As)}static _s(e,t){return Ot(e.As,t.As)||He.comparator(e.key,t.key)}}class s6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new xn(Hr.ds)}checkEmpty(e){return K.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const c=new Sx(a,t,r,i);this.mutationQueue.push(c);for(const f of i)this.Rs=this.Rs.add(new Hr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return K.resolve(c)}lookupMutationBatch(e,t){return K.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Hr(t,0),i=new Hr(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],c=>{const f=this.Ps(c.As);a.push(f)}),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xn(Ot);return t.forEach(i=>{const a=new Hr(i,0),c=new Hr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,c],f=>{r=r.add(f.As)})}),K.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;He.isDocumentKey(a)||(a=a.child(""));const c=new Hr(new He(a),0);let f=new xn(Ot);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(m.As)),!0)},c),K.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){lt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return K.forEach(t.mutations,i=>{const a=new Hr(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Hr(t,0),i=this.Rs.firstAfterOrEqual(r);return K.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return K.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class o6{constructor(e){this.Ds=e,this.docs=new Cn(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(t))}getEntries(e,t){let r=Xi();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Mn.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Xi();const c=t.path,f=new He(c.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:v,value:{document:C}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||hx(ak(C),r)<=0||(i.has(C.key)||k0(t,C))&&(a=a.insert(C.key,C.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Xe()}Cs(e,t){return K.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new a6(this)}getSize(e){return K.resolve(this.size)}}class a6 extends X4{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),K.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class l6{constructor(e){this.persistence=e,this.xs=new Ll(t=>Nh(t),P0),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new qx,this.targetCount=0,this.Ms=$h.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),K.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new $h(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Fn(t),K.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),K.waitFor(a).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),K.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),K.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),K.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this.ks.containsKey(t))}}class Gx{constructor(e,t){this.$s={},this.overlays={},this.Os=new bs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new l6(this),this.indexManager=new Z4,this.remoteDocumentCache=new o6(r=>this.referenceDelegate.Ls(r)),this.serializer=new A2(t),this.qs=new r6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new i6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new s6(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new u6(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return K.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class u6 extends M5{constructor(e){super(),this.currentSequenceNumber=e}}class XI{constructor(e){this.persistence=e,this.Qs=new qx,this.js=null}static zs(e){return new XI(e)}get Ws(){if(this.js)return this.js;throw Xe()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),K.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Ws,r=>{const i=He.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,dt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return K.or([()=>K.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Yx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Vt(),i=Vt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Yx(e,t.fromCache,r,i)}}class tF{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(Bk(t))return K.resolve(null);let r=Oi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=UI(t,null,"F"),r=Oi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Vt(...a);return this.Ui.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(m=>{const v=this.ji(t,f);return this.zi(t,v,c,m.readTime)?this.Ki(e,UI(t,null,"F")):this.Wi(e,v,t,m)}))})))}Gi(e,t,r,i){return Bk(t)||i.isEqual(dt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const c=this.ji(t,a);return this.zi(t,c,r,i)?this.Qi(e,t):(ux()<=Zi.in.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tx(t)),this.Wi(e,c,t,function ok(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=dt.fromTimestamp(1e9===r?new Bn(t+1,0):new Bn(t,r));return new ws(i,He.empty(),e)}(i,-1)))})}ji(e,t){let r=new xn(Hk(e));return t.forEach((i,a)=>{k0(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return ux()<=Zi.in.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Tx(t)),this.Ui.getDocumentsMatchingQuery(e,t,ws.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class d6{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Cn(Ot),this.Yi=new Ll(a=>Nh(a),P0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X2(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function rF(n,e){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,X.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let m=Vt();for(const v of i){c.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}for(const v of a){f.push(v.batchId);for(const C of v.mutations)m=m.add(C.key)}return t.localDocuments.getDocuments(r,m).next(v=>({er:v,removedBatchIds:c,addedBatchIds:f}))})})}),Qx.apply(this,arguments)}function iF(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function p6(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sm(n,e,t){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,X.Z)(function*(n,e,t){const r=qe(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!_c(c))throw c;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),Jx.apply(this,arguments)}function nT(n,e,t){const r=qe(n);let i=dt.min(),a=Vt();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,m,v){const C=qe(f),T=C.Yi.get(v);return void 0!==T?K.resolve(C.Ji.get(T)):C.Bs.getTargetData(m,v)}(r,c,Oi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,f.targetId).next(m=>{a=m})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:dt.min(),t?a:Vt())).next(f=>(function lF(n,e,t){let r=n.Xi.get(e)||dt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}(r,function jk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),f),{documents:f,ir:a})))}class rM{constructor(){this.activeTargetIds=function Dx(){return g4}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dF{constructor(){this.Hr=new rM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new rM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class y6{Yr(e){}shutdown(){}}class hF{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let sT=null;function sM(){return null===sT?sT=268435456+Math.round(2147483648*Math.random()):sT++,"0x"+sT.toString(16)}const _6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v6{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const vi="WebChannelConnection";class w6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const c=sM(),f=this.To(e,t);Ee("RestConnection",`Sending RPC '${e}' ${c}:`,f,r);const m={};return this.Eo(m,i,a),this.Ao(e,f,m,r).then(v=>(Ee("RestConnection",`Received RPC '${e}' ${c}: `,v),v),v=>{throw So("RestConnection",`RPC '${e}' ${c} failed with error: `,v,"url: ",f,"request:",r),v})}vo(e,t,r,i,a,c){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${_6[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=sM();return new Promise((c,f)=>{const m=new _5;m.setWithCredentials(!0),m.listenOnce(g5.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case lx.NO_ERROR:const C=m.getResponseJson();Ee(vi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(C)),c(C);break;case lx.TIMEOUT:Ee(vi,`RPC '${e}' ${a} timed out`),f(new ye(ee.DEADLINE_EXCEEDED,"Request time out"));break;case lx.HTTP_ERROR:const T=m.getStatus();if(Ee(vi,`RPC '${e}' ${a} failed with status:`,T,"response text:",m.getResponseText()),T>0){let M=m.getResponseJson();Array.isArray(M)&&(M=M[0]);const N=M?.error;if(N&&N.status&&N.message){const L=function(z){const G=z.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(G)>=0?G:ee.UNKNOWN}(N.status);f(new ye(L,N.message))}else f(new ye(ee.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ye(ee.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Ee(vi,`RPC '${e}' ${a} completed.`)}});const v=JSON.stringify(i);Ee(vi,`RPC '${e}' ${a} sending request:`,i),m.send(t,"POST",v,r,15)})}Ro(e,t,r){const i=sM(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=f5(),f=p5(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new y5({})),this.Eo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const C=a.join("");Ee(vi,`Creating RPC '${e}' stream ${i}: ${C}`,m);const T=c.createWebChannel(C,m);let M=!1,N=!1;const L=new v6({ro:G=>{N?Ee(vi,`Not sending because RPC '${e}' stream ${i} is closed:`,G):(M||(Ee(vi,`Opening RPC '${e}' stream ${i} transport.`),T.open(),M=!0),Ee(vi,`RPC '${e}' stream ${i} sending:`,G),T.send(G))},oo:()=>T.close()}),z=(G,pe,Re)=>{G.listen(pe,ke=>{try{Re(ke)}catch($e){setTimeout(()=>{throw $e},0)}})};return z(T,TI.EventType.OPEN,()=>{N||Ee(vi,`RPC '${e}' stream ${i} transport opened.`)}),z(T,TI.EventType.CLOSE,()=>{N||(N=!0,Ee(vi,`RPC '${e}' stream ${i} transport closed`),L.wo())}),z(T,TI.EventType.ERROR,G=>{N||(N=!0,So(vi,`RPC '${e}' stream ${i} transport errored:`,G),L.wo(new ye(ee.UNAVAILABLE,"The operation could not be completed")))}),z(T,TI.EventType.MESSAGE,G=>{var pe;if(!N){const Re=G.data[0];lt(!!Re);const $e=Re.error||(null===(pe=Re[0])||void 0===pe?void 0:pe.error);if($e){Ee(vi,`RPC '${e}' stream ${i} received error:`,$e);const It=$e.status;let Tt=function(jn){const bi=wr[jn];if(void 0!==bi)return a2(bi)}(It),en=$e.message;void 0===Tt&&(Tt=ee.INTERNAL,en="Unknown error status: "+It+" with message "+$e.message),N=!0,L.wo(new ye(Tt,en)),T.close()}else Ee(vi,`RPC '${e}' stream ${i} received:`,Re),L._o(Re)}}),z(f,m5.STAT_EVENT,G=>{G.stat===ek.PROXY?Ee(vi,`RPC '${e}' stream ${i} detected buffering proxy`):G.stat===ek.NOPROXY&&Ee(vi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{L.fo()},0),L}}function oT(){return typeof document<"u"?document:null}function ew(n){return new x4(n,!0)}class oM{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class pF{constructor(e,t,r,i,a,c,f,m){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new oM(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,X.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,X.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,X.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ee.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new ye(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,X.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class b6 extends pF{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function N4(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:Xe(),i=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(lt(void 0===v||"string"==typeof v),Nr.fromBase64String(v||"")):(lt(void 0===v||v instanceof Uint8Array),Nr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const v=void 0===m.code?ee.UNKNOWN:a2(m.code);return new ye(v,m.message||"")}(c);t=new h2(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=xa(n,r.document.name),a=fr(r.document.updateTime),c=r.document.createTime?fr(r.document.createTime):dt.min(),f=new ti({mapValue:{fields:r.document.fields}}),m=Mn.newFoundDocument(i,a,c,f);t=new zI(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=xa(n,r.document),a=r.readTime?fr(r.readTime):dt.min(),c=Mn.newNoDocument(i,a);t=new zI([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=xa(n,r.document);t=new zI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,{count:i=0,unchangedNames:a}=r,c=new C4(i,a);t=new d2(r.targetId,c)}}var m;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return dt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?dt.min():a.readTime?fr(a.readTime):dt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=z0(this.serializer),t.addTarget=function(i,a){let c;const f=a.target;if(c=FI(f)?{documents:E2(i,f)}:{query:Lx(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=m2(i,a.resumeToken);const m=Px(i,a.expectedCount);null!==m&&(c.expectedCount=m)}else if(a.snapshotVersion.compareTo(dt.min())>0){c.readTime=em(i,a.snapshotVersion.toTimestamp());const m=Px(i,a.expectedCount);null!==m&&(c.expectedCount=m)}return c}(this.serializer,e);const r=function O4(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=z0(this.serializer),t.removeTarget=e,this.Wo(t)}}class E6 extends pF{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function P4(n,e){return n&&n.length>0?(lt(void 0!==e),n.map(t=>function(r,i){let a=fr(r.updateTime?r.updateTime:i);return a.isEqual(dt.min())&&(a=fr(i)),new v4(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.cu(r,t)}return lt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=z0(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function q0(n,e){let t;if(e instanceof Jg)t={update:w2(n,e.key,e.value)};else if(e instanceof Xg)t={delete:H0(n,e.key)};else if(e instanceof Vl)t={update:w2(n,e.key,e.data),updateMask:V4(e.fieldMask)};else{if(!(e instanceof Ax))return Xe();t={verify:H0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof Yg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Oh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof kh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qg)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:M4(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Xe()),t;var i}(this.serializer,r))};this.Wo(t)}}class C6 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new ye(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ye(ee.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(ee.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class T6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(dr(t),this.mu=!1):Ee("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class D6{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,X.Z)(function*(){var m;xc(c)&&(Ee("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,X.Z)(function*(v){const C=qe(v);C.vu.add(4),yield om(C),C.bu.set("Unknown"),C.vu.delete(4),yield tw(C)}),function(v){return m.apply(this,arguments)})(c))}))}),this.bu=new T6(r,i)}}function tw(n){return lM.apply(this,arguments)}function lM(){return lM=(0,X.Z)(function*(n){if(xc(n))for(const e of n.Ru)yield e(!0)}),lM.apply(this,arguments)}function om(n){return uM.apply(this,arguments)}function uM(){return uM=(0,X.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),uM.apply(this,arguments)}function aT(n,e){const t=qe(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),hM(t)?dM(t):lm(t).Ko()&&cM(t,e))}function nw(n,e){const t=qe(n),r=lm(t);t.Au.delete(e),r.Ko()&&gF(t,e),0===t.Au.size&&(r.Ko()?r.jo():xc(t)&&t.bu.set("Unknown"))}function cM(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}lm(n).su(e)}function gF(n,e){n.Vu.qt(e),lm(n).iu(e)}function dM(n){n.Vu=new T4({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),lm(n).start(),n.bu.gu()}function hM(n){return xc(n)&&!lm(n).Uo()&&n.Au.size>0}function xc(n){return 0===qe(n).vu.size}function mF(n){n.Vu=void 0}function A6(n){return fM.apply(this,arguments)}function fM(){return fM=(0,X.Z)(function*(n){n.Au.forEach((e,t)=>{cM(n,e)})}),fM.apply(this,arguments)}function S6(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,X.Z)(function*(n,e){mF(n),hM(n)?(n.bu.Iu(e),dM(n)):n.bu.set("Unknown")}),pM.apply(this,arguments)}function x6(n,e,t){return gM.apply(this,arguments)}function gM(){return gM=(0,X.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof h2&&2===e.state&&e.cause)try{yield(r=(0,X.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lT(n,r)}else if(e instanceof zI?n.Vu.Ht(e):e instanceof d2?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(dt.min()))try{const r=yield iF(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.Vu.ce(a);return c.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.Au.get(m);v&&i.Au.set(m,v.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach((f,m)=>{const v=i.Au.get(f);if(!v)return;i.Au.set(f,v.withResumeToken(Nr.EMPTY_BYTE_STRING,v.snapshotVersion)),gF(i,f);const C=new Ul(v.target,f,m,v.sequenceNumber);cM(i,C)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ee("RemoteStore","Failed to raise snapshot:",r),yield lT(n,r)}var r}),gM.apply(this,arguments)}function lT(n,e,t){return mM.apply(this,arguments)}function mM(){return mM=(0,X.Z)(function*(n,e,t){if(!_c(e))throw e;n.vu.add(1),yield om(n),n.bu.set("Offline"),t||(t=()=>iF(n.localStore)),n.asyncQueue.enqueueRetryable((0,X.Z)(function*(){Ee("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield tw(n)}))}),mM.apply(this,arguments)}function yF(n,e){return e().catch(t=>lT(n,t,e))}function am(n){return yM.apply(this,arguments)}function yM(){return yM=(0,X.Z)(function*(n){const e=qe(n),t=Mc(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;M6(e);)try{const i=yield p6(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,R6(e,i)}catch(i){yield lT(e,i)}_F(e)&&vF(e)}),yM.apply(this,arguments)}function M6(n){return xc(n)&&n.Eu.length<10}function R6(n,e){n.Eu.push(e);const t=Mc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function _F(n){return xc(n)&&!Mc(n).Uo()&&n.Eu.length>0}function vF(n){Mc(n).start()}function N6(n){return _M.apply(this,arguments)}function _M(){return _M=(0,X.Z)(function*(n){Mc(n).hu()}),_M.apply(this,arguments)}function P6(n){return vM.apply(this,arguments)}function vM(){return vM=(0,X.Z)(function*(n){const e=Mc(n);for(const t of n.Eu)e.uu(t.mutations)}),vM.apply(this,arguments)}function O6(n,e,t){return wM.apply(this,arguments)}function wM(){return wM=(0,X.Z)(function*(n,e,t){const r=n.Eu.shift(),i=xx.from(r,e,t);yield yF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield am(n)}),wM.apply(this,arguments)}function k6(n,e){return bM.apply(this,arguments)}function bM(){return bM=(0,X.Z)(function*(n,e){var t;e&&Mc(n).ou&&(yield(t=(0,X.Z)(function*(r,i){if(function o2(n){switch(n){default:return Xe();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}(a=i.code)&&a!==ee.ABORTED){const c=r.Eu.shift();Mc(r).Qo(),yield yF(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield am(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),_F(n)&&vF(n)}),bM.apply(this,arguments)}function wF(n,e){return EM.apply(this,arguments)}function EM(){return EM=(0,X.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const r=xc(t);t.vu.add(3),yield om(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield tw(t)}),EM.apply(this,arguments)}function IM(){return IM=(0,X.Z)(function*(n,e){const t=qe(n);e?(t.vu.delete(2),yield tw(t)):e||(t.vu.add(2),yield om(t),t.bu.set("Unknown"))}),IM.apply(this,arguments)}function lm(n){return n.Su||(n.Su=function(e,t,r){const i=qe(e);return i.fu(),new b6(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:A6.bind(null,n),ao:S6.bind(null,n),nu:x6.bind(null,n)}),n.Ru.push(function(){var e=(0,X.Z)(function*(t){t?(n.Su.Qo(),hM(n)?dM(n):n.bu.set("Unknown")):(yield n.Su.stop(),mF(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Mc(n){return n.Du||(n.Du=function(e,t,r){const i=qe(e);return i.fu(),new E6(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:N6.bind(null,n),ao:k6.bind(null,n),au:P6.bind(null,n),cu:O6.bind(null,n)}),n.Ru.push(function(){var e=(0,X.Z)(function*(t){t?(n.Du.Qo(),yield am(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ee("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class TM{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new TM(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ye(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function um(n,e){if(dr("AsyncQueue",`${e}: ${n}`),_c(n))return new ye(ee.UNAVAILABLE,`${e}: ${n}`);throw n}class cm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=F0(),this.sortedSet=new Cn(this.comparator)}static emptySet(e){return new cm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new cm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class bF{constructor(){this.Cu=new Cn(He.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Xe():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class dm{constructor(e,t,r,i,a,c,f,m,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new dm(e,t,cm.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&O0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class F6{constructor(){this.Nu=void 0,this.listeners=[]}}class L6{constructor(){this.queries=new Ll(e=>$k(e),O0),this.onlineState="Unknown",this.ku=new Set}}function AM(){return AM=(0,X.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new F6),i)try{a.Nu=yield t.onListen(r)}catch(c){const f=um(c,`Initialization of query '${Tx(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&MM(t)}),AM.apply(this,arguments)}function xM(){return xM=(0,X.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),xM.apply(this,arguments)}function V6(n,e){const t=qe(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.$u(i)&&(r=!0);c.Nu=i}}r&&MM(t)}function U6(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function MM(n){n.ku.forEach(e=>{e.next()})}class RM{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new dm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=dm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class IF{constructor(e){this.key=e}}class TF{constructor(e){this.key=e}}class DF{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Vt(),this.mutatedKeys=Vt(),this.tc=Hk(e),this.ec=new cm(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new bF,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((C,T)=>{const M=i.get(C),N=k0(this.query,T)?T:null,L=!!M&&this.mutatedKeys.has(M.key),z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let G=!1;M&&N?M.data.isEqual(N.data)?L!==z&&(r.track({type:3,doc:N}),G=!0):this.rc(M,N)||(r.track({type:2,doc:N}),G=!0,(m&&this.tc(N,m)>0||v&&this.tc(N,v)<0)&&(f=!0)):!M&&N?(r.track({type:0,doc:N}),G=!0):M&&!N&&(r.track({type:1,doc:M}),G=!0,(m||v)&&(f=!0)),G&&(N?(c=c.add(N),a=z?a.add(C):a.delete(C)):(c=c.delete(C),a=a.delete(C)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const C="F"===this.query.limitType?c.last():c.first();c=c.delete(C.key),a=a.delete(C.key),r.track({type:1,doc:C})}return{ec:c,ic:r,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((v,C)=>function(T,M){const N=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return N(T)-N(M)}(v.type,C.type)||this.tc(v.doc,C.doc)),this.oc(r);const c=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,m=f!==this.Xu;return this.Xu=f,0!==a.length||m?{snapshot:new dm(this.query,e.ec,i,a,e.mutatedKeys,0===f,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new bF,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Vt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new TF(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new IF(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Vt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return dm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class j6{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class H6{constructor(e){this.key=e,this.fc=!1}}class z6{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Ll(f=>$k(f),O0),this._c=new Map,this.mc=new Set,this.gc=new Cn(He.comparator),this.yc=new Map,this.Ic=new qx,this.Tc={},this.Ec=new Map,this.Ac=$h.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function q6(n,e){return NM.apply(this,arguments)}function NM(){return NM=(0,X.Z)(function*(n,e){const t=function tR(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W6.bind(null,e),e.dc.nu=V6.bind(null,e.eventManager),e.dc.Pc=U6.bind(null,e.eventManager),e}(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const c=yield function im(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,K.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new Ul(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,Oi(e)),f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield function PM(n,e,t,r,i){return OM.apply(this,arguments)}(t,e,r,"current"===f,c.resumeToken),t.isPrimaryClient&&aT(t.remoteStore,c)}return i}),NM.apply(this,arguments)}function OM(){return OM=(0,X.Z)(function*(n,e,t,r,i){n.Rc=(T,M,N)=>{return(L=(0,X.Z)(function*(z,G,pe,Re){let ke=G.view.sc(pe);ke.zi&&(ke=yield nT(z.localStore,G.query,!1).then(({documents:Tt})=>G.view.sc(Tt,ke)));const $e=Re&&Re.targetChanges.get(G.targetId),It=G.view.applyChanges(ke,z.isPrimaryClient,$e);return zM(z,G.targetId,It.cc),It.snapshot}),function(z,G,pe,Re){return L.apply(this,arguments)})(n,T,M,N);var L};const a=yield nT(n.localStore,e,!0),c=new DF(e,a.ir),f=c.sc(a.documents),m=j0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=c.applyChanges(f,n.isPrimaryClient,m);zM(n,t,v.cc);const C=new j6(e,t,c);return n.wc.set(e,C),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),OM.apply(this,arguments)}function G6(n,e){return kM.apply(this,arguments)}function kM(){return kM=(0,X.Z)(function*(n,e){const t=qe(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!O0(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield sm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),nw(t.remoteStore,r.targetId),hm(t,r.targetId)}).catch(yc))):(hm(t,r.targetId),yield sm(t.localStore,r.targetId,!0))}),kM.apply(this,arguments)}function FM(){return FM=(0,X.Z)(function*(n,e,t){const r=function nR(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y6.bind(null,e),e}(n);try{const i=yield function(a,c){const f=qe(a),m=Bn.now(),v=c.reduce((M,N)=>M.add(N.key),Vt());let C,T;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>{let N=Xi(),L=Vt();return f.Zi.getEntries(M,v).next(z=>{N=z,N.forEach((G,pe)=>{pe.isValidDocument()||(L=L.add(G))})}).next(()=>f.localDocuments.getOverlayedDocuments(M,N)).next(z=>{C=z;const G=[];for(const pe of c){const Re=b4(pe,C.get(pe.key).overlayedDocument);null!=Re&&G.push(new Vl(pe.key,Re,Ak(Re.value.mapValue),Pn.exists(!0)))}return f.mutationQueue.addMutationBatch(M,m,G,c)}).next(z=>{T=z;const G=z.applyToLocalDocumentSet(C,L);return f.documentOverlayCache.saveOverlays(M,z.batchId,G)})}).then(()=>({batchId:T.batchId,changes:qk(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let m=a.Tc[a.currentUser.toKey()];m||(m=new Cn(Ot)),m=m.insert(c,f),a.Tc[a.currentUser.toKey()]=m}(r,i.batchId,t),yield Bl(r,i.changes),yield am(r.remoteStore)}catch(i){const a=um(i,"Failed to persist write");t.reject(a)}}),FM.apply(this,arguments)}function AF(n,e){return LM.apply(this,arguments)}function LM(){return LM=(0,X.Z)(function*(n,e){const t=qe(n);try{const r=yield function f6(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((C,T)=>{const M=i.get(T);if(!M)return;f.push(t.Bs.removeMatchingKeys(a,C.removedDocuments,T).next(()=>t.Bs.addMatchingKeys(a,C.addedDocuments,T)));let N=M.withSequenceNumber(a.currentSequenceNumber);var L,z,G;null!==e.targetMismatches.get(T)?N=N.withResumeToken(Nr.EMPTY_BYTE_STRING,dt.min()).withLastLimboFreeSnapshotVersion(dt.min()):C.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(C.resumeToken,r)),i=i.insert(T,N),z=N,G=C,(0===(L=M).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8||G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,N))});let m=Xi(),v=Vt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,C))}),f.push(function sF(n,e,t){let r=Vt(),i=Vt();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=Xi();return t.forEach((f,m)=>{const v=a.get(f);m.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(dt.min())?(e.removeEntry(f,m.readTime),c=c.insert(f,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),c=c.insert(f,m)):Ee("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",m.version)}),{nr:c,sr:i}})}(a,c,e.documentUpdates).next(C=>{m=C.nr,v=C.sr})),!r.isEqual(dt.min())){const C=t.Bs.getLastRemoteSnapshotVersion(a).next(T=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(C)}return K.waitFor(f).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,m,v)).next(()=>m)}).then(a=>(t.Ji=i,a))}(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.yc.get(a);c&&(lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?lt(c.fc):i.removedDocuments.size>0&&(lt(c.fc),c.fc=!1))}),yield Bl(t,r,e)}catch(r){yield yc(r)}}),LM.apply(this,arguments)}function SF(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,c)=>{const f=c.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=qe(a);f.onlineState=c;let m=!1;f.queries.forEach((v,C)=>{for(const T of C.listeners)T.Mu(c)&&(m=!0)}),m&&MM(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function W6(n,e,t){return VM.apply(this,arguments)}function VM(){return VM=(0,X.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let c=new Cn(He.comparator);c=c.insert(a,Mn.newNoDocument(a,dt.min()));const f=Vt().add(a),m=new $0(dt.min(),new Map,new Cn(Ot),c,f);yield AF(r,m),r.gc=r.gc.remove(a),r.yc.delete(e),qM(r)}else yield sm(r.localStore,e,!1).then(()=>hm(r,e,t)).catch(yc)}),VM.apply(this,arguments)}function K6(n,e){return UM.apply(this,arguments)}function UM(){return UM=(0,X.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield function h6(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,f,m,v){const C=m.batch,T=C.keys();let M=K.resolve();return T.forEach(N=>{M=M.next(()=>v.getEntry(f,N)).next(L=>{const z=m.docVersions.get(N);lt(null!==z),L.version.compareTo(z)<0&&(C.applyToRemoteDocument(L,m),L.isValidDocument()&&(L.setReadTime(m.commitVersion),v.addEntry(L)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(f,C))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Vt();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(f=f.add(c.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);HM(t,r,null),jM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Bl(t,i)}catch(i){yield yc(i)}}),UM.apply(this,arguments)}function Y6(n,e,t){return BM.apply(this,arguments)}function BM(){return BM=(0,X.Z)(function*(n,e,t){const r=qe(n);try{const i=yield function(a,c){const f=qe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,c).next(C=>(lt(null!==C),v=C.keys(),f.mutationQueue.removeMutationBatch(m,C))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);HM(r,e,t),jM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Bl(r,i)}catch(i){yield yc(i)}}),BM.apply(this,arguments)}function jM(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function HM(n,e,t){const r=qe(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function hm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||xF(n,r)})}function xF(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(nw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),qM(n))}function zM(n,e,t){for(const r of t)r instanceof IF?(n.Ic.addReference(r.key,e),J6(n,r)):r instanceof TF?(Ee("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||xF(n,r.key)):Xe()}function J6(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ee("SyncEngine","New document in limbo: "+t),n.mc.add(r),qM(n))}function qM(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new He(Jt.fromString(e)),r=n.Ac.next();n.yc.set(r,new H6(t)),n.gc=n.gc.insert(t,r),aT(n.remoteStore,new Ul(Oi(Kg(t.path)),r,"TargetPurposeLimboResolution",bs.ct))}}function Bl(n,e,t){return GM.apply(this,arguments)}function GM(){return GM=(0,X.Z)(function*(n,e,t){const r=qe(n),i=[],a=[],c=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,m)=>{c.push(r.Rc(m,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const C=Yx.Li(m.targetId,v);a.push(C)}}))}),yield Promise.all(c),r.dc.nu(i),yield(f=(0,X.Z)(function*(m,v){const C=qe(m);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>K.forEach(v,M=>K.forEach(M.Fi,N=>C.persistence.referenceDelegate.addReference(T,M.targetId,N)).next(()=>K.forEach(M.Bi,N=>C.persistence.referenceDelegate.removeReference(T,M.targetId,N)))))}catch(T){if(!_c(T))throw T;Ee("LocalStore","Failed to update sequence numbers: "+T)}for(const T of v){const M=T.targetId;if(!T.fromCache){const N=C.Ji.get(M),z=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);C.Ji=C.Ji.insert(M,z)}}}),function(m,v){return f.apply(this,arguments)})(r.localStore,a))}),GM.apply(this,arguments)}function X6(n,e){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,X.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const r=yield rF(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(f=>{f.reject(new ye(ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bl(t,r.er)}var i}),ZM.apply(this,arguments)}function eB(n,e){const t=qe(n),r=t.yc.get(e);if(r&&r.fc)return Vt().add(r.key);{let i=Vt();const a=t._c.get(e);if(!a)return i;for(const c of a){const f=t.wc.get(c);i=i.unionWith(f.view.nc)}return i}}class uT{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,X.Z)(function*(){t.serializer=ew(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function nF(n,e,t,r){return new d6(n,e,t,r)}(this.persistence,new tF,e.initialUser,this.serializer)}createPersistence(e){return new Gx(XI.zs,this.serializer)}createSharedClientState(e){return new dF}terminate(){var e=this;return(0,X.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fm{initialize(e,t){var r=this;return(0,X.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>SF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=X6.bind(null,r.syncEngine),yield function CM(n,e){return IM.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new L6}createDatastore(e){const t=ew(e.databaseInfo.databaseId),r=new w6(e.databaseInfo);return new C6(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>SF(this.syncEngine,f,0),c=hF.D()?new hF:new y6,new D6(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,m,v){const C=new z6(r,i,a,c,f,m);return v&&(C.vc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,X.Z)(function*(t){const r=qe(t);Ee("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield om(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class cT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fB{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=$r.UNAUTHENTICATED,this.clientId=ik.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,X.Z)(function*(f){Ee("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ee("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,X.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ye(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=um(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function dT(n,e){return rR.apply(this,arguments)}function rR(){return rR=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,X.Z)(function*(a){r.isEqual(a)||(yield rF(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),rR.apply(this,arguments)}function iR(n,e){return sR.apply(this,arguments)}function sR(){return sR=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function oR(n){return aR.apply(this,arguments)}(n);Ee("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>wF(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>wF(e.remoteStore,a)),n._onlineComponents=e}),sR.apply(this,arguments)}function aR(){return aR=(0,X.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function kF(n){return"FirebaseError"===n.name?n.code===ee.FAILED_PRECONDITION||n.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;So("Error using user provided cache. Falling back to memory cache: "+t),yield dT(n,new uT)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),yield dT(n,new uT);return n._offlineComponents}),aR.apply(this,arguments)}function hT(n){return lR.apply(this,arguments)}function lR(){return lR=(0,X.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield iR(n,n._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),yield iR(n,new fm))),n._onlineComponents}),lR.apply(this,arguments)}function pm(n){return cR.apply(this,arguments)}function cR(){return cR=(0,X.Z)(function*(n){const e=yield hT(n),t=e.eventManager;return t.onListen=q6.bind(null,e.syncEngine),t.onUnlisten=G6.bind(null,e.syncEngine),t}),cR.apply(this,arguments)}function $F(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const jF=new Map;function dR(n,e,t){if(!t)throw new ye(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HF(n){if(!He.isDocumentKey(n))throw new ye(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zF(n){if(He.isDocumentKey(n))throw new ye(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xe()}function Qt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pT(n);throw new ye(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class GF{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ye(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ye(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function EB(n,e,t,r){if(!0===e&&!0===r)throw new ye(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=$F(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new ye(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ye(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ye(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ye(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ye(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new w5;switch(t.type){case"firstParty":return new I5(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ye(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jF.get(e);t&&(Ee("ComponentProvider","Removing Datastore"),jF.delete(e),t.terminate())}(this),Promise.resolve()}}class pr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pr(this.firestore,e,this._key)}}class ni{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ni(this.firestore,e,this._query)}}class Ma extends ni{constructor(e,t,r){super(e,t,Kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pr(this.firestore,null,new He(e))}withConverter(e){return new Ma(this.firestore,e,this._path)}}function IB(n,e,...t){if(n=(0,_t.m9)(n),dR("collection","path",e),n instanceof rw){const r=Jt.fromString(e,...t);return zF(r),new Ma(n,null,r)}{if(!(n instanceof pr||n instanceof Ma))throw new ye(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return zF(r),new Ma(n.firestore,null,r)}}function ZF(n,e,...t){if(n=(0,_t.m9)(n),1===arguments.length&&(e=ik.A()),dR("doc","path",e),n instanceof rw){const r=Jt.fromString(e,...t);return HF(r),new pr(n,null,new He(r))}{if(!(n instanceof pr||n instanceof Ma))throw new ye(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return HF(r),new pr(n.firestore,n instanceof Ma?n.converter:null,new He(r))}}class TB{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new oM(this,"async_queue_retry"),this.Xc=()=>{const t=oT();t&&Ee("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=oT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=oT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Rr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,X.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!_c(t))throw t;Ee("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,dr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=TM.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&Xe()}verifyOperationInProgress(){}sa(){var e=this;return(0,X.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function hR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class Rn extends rw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new TB,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||KF(this),this._firestoreClient.terminate()}}function AB(n,e){const t="object"==typeof n?n:(0,Dt.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Dt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,_t.P0)("firestore");a&&function CB(n,e,t,r={}){var i;const a=(n=Qt(n,rw))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==c&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=$r.MOCK_USER;else{f=(0,_t.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ye(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new $r(v)}n._authCredentials=new b5(new nk(f,m))}}(i,...a)}return i}function br(n){return n._firestoreClient||KF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function KF(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new e4(n._databaseId,f,n._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,$F(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;n._firestoreClient=new fB(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Hh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hh(Nr.fromBase64String(e))}catch(t){throw new ye(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hh(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gm{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ye(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gT{constructor(e){this._methodName=e}}class fR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}const xB=/^__.*__$/;class MB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Vl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jg(e,this.data,t,this.fieldTransforms)}}class JF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Vl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class mT{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new mT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return _T(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(XF(this.ca)&&xB.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class RB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ew(e)}ya(e,t,r,i=!1){return new mT({ca:e,methodName:t,ga:r,path:hr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mm(n){const e=n._freezeSettings(),t=ew(n._databaseId);return new RB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pR(n,e,t,r,i,a={}){const c=n.ya(a.merge||a.mergeFields?2:0,e,t,i);mR("Data must be an object, but it was:",c,r);const f=iL(r,c);let m,v;if(a.merge)m=new Ji(c.fieldMask),v=c.fieldTransforms;else if(a.mergeFields){const C=[];for(const T of a.mergeFields){const M=ow(e,T,t);if(!c.contains(M))throw new ye(ee.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);oL(C,M)||C.push(M)}m=new Ji(C),v=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,v=c.fieldTransforms;return new MB(new ti(f),m,v)}class sw extends gT{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sw}}class gR extends gT{_toFieldTransform(e){return new V0(e.path,new Yg)}isEqual(e){return e instanceof gR}}function zh(n,e){if(sL(n=(0,_t.m9)(n)))return mR("Unsupported field value:",e,n),iL(n,e);if(n instanceof gT)return function(t,r){if(!XF(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=zh(c,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,_t.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Kk(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Bn.fromDate(t);return{timestampValue:em(r.serializer,i)}}if(t instanceof Bn){const i=new Bn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:em(r.serializer,i)}}if(t instanceof fR)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Hh)return{bytesValue:m2(r.serializer,t._byteString)};if(t instanceof pr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ox(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${pT(t)}`)}(n,e)}function iL(n,e){const t={};return _k(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vc(n,(r,i)=>{const a=zh(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function sL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Bn||n instanceof fR||n instanceof Hh||n instanceof pr||n instanceof gT)}function mR(n,e,t){if(!sL(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=pT(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function ow(n,e,t){if((e=(0,_t.m9)(e))instanceof gm)return e._internalPath;if("string"==typeof e)return yT(n,e);throw _T("Field path arguments must be of type string or ",n,!1,void 0,t)}const kB=new RegExp("[~\\*/\\[\\]]");function yT(n,e,t){if(e.search(kB)>=0)throw _T(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gm(...e.split("."))._internalPath}catch{throw _T(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _T(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||c)&&(m+=" (found",a&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new ye(ee.INVALID_ARGUMENT,f+n+m)}function oL(n,e){return n.some(t=>t.isEqual(e))}class yR{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new pr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new FB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class FB extends yR{data(){return super.data()}}function vT(n,e){return"string"==typeof e?yT(n,e):e instanceof gm?e._internalPath:e._delegate._internalPath}class VB{convertValue(e,t="none"){switch(Ec(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return vc(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new fR(Jn(e.latitude),Jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=NI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(x0(e));default:return null}}convertTimestamp(e){const t=wc(e);return new Bn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Jt.fromString(e);lt(D2(r));const i=new Mh(r.get(1),r.get(3)),a=new He(r.popFirst(5));return i.isEqual(t)||dr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class qh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _m extends yR{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new CT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class CT extends _m{data(e={}){return super.data(e)}}class vm{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new qh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new CT(this._firestore,this._userDataWriter,r.key,r,new qh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new CT(r._firestore,r._userDataWriter,c.doc.key,c.doc,new qh(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new CT(r._firestore,r._userDataWriter,c.doc.key,c.doc,new qh(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,v=-1;return 0!==c.type&&(m=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),v=a.indexOf(c.doc.key)),{type:BB(c.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function BB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}class Rc extends VB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hh(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pr(this.firestore,null,t)}}function $B(n,e,t){n=Qt(n,pr);const r=Qt(n.firestore,Rn),i=function vR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e,t);return lw(r,[pR(mm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Pn.none())])}function jB(n,e,t,...r){n=Qt(n,pr);const i=Qt(n.firestore,Rn),a=mm(i);let c;return c="string"==typeof(e=(0,_t.m9)(e))||e instanceof gm?function nL(n,e,t,r,i,a){const c=n.ya(1,e,t),f=[ow(e,r,t)],m=[i];if(a.length%2!=0)throw new ye(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<a.length;M+=2)f.push(ow(e,a[M])),m.push(a[M+1]);const v=[],C=ti.empty();for(let M=f.length-1;M>=0;--M)if(!oL(v,f[M])){const N=f[M];let L=m[M];L=(0,_t.m9)(L);const z=c.da(N);if(L instanceof sw)v.push(N);else{const G=zh(L,z);null!=G&&(v.push(N),C.set(N,G))}}const T=new Ji(v);return new JF(C,T,c.fieldTransforms)}(a,"updateDoc",n._key,e,t,r):function tL(n,e,t,r){const i=n.ya(1,e,t);mR("Data must be an object, but it was:",i,r);const a=[],c=ti.empty();vc(r,(m,v)=>{const C=yT(e,m,t);v=(0,_t.m9)(v);const T=i.da(C);if(v instanceof sw)a.push(C);else{const M=zh(v,T);null!=M&&(a.push(C),c.set(C,M))}});const f=new Ji(a);return new JF(c,f,i.fieldTransforms)}(a,"updateDoc",n._key,e),lw(i,[c.toMutation(n._key,Pn.exists(!0))])}function lw(n,e){return function(t,r){const i=new Rr;return t.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function Z6(n,e,t){return FM.apply(this,arguments)}(yield function uR(n){return hT(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(br(n),e)}function t$(){return new gR("serverTimestamp")}!function(n,e=!0){Hg=Dt.SDK_VERSION,(0,Dt._registerComponent)(new Mi.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),c=new Rn(new E5(t.getProvider("auth-internal")),new T5(t.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ye(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mh(f.options.projectId,m)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Dt.registerVersion)(tk,"3.12.2",n),(0,Dt.registerVersion)(tk,"3.12.2","esm2017")}();var n$={includeMetadataChanges:!1};function bR(n,e){return void 0===e&&(e=n$),new Kr.y(function(t){var r=function HB(n,...e){var t,r,i;n=(0,_t.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||hR(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(hR(e[c])){const T=e[c];e[c]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[c+1]=null===(r=T.error)||void 0===r?void 0:r.bind(T),e[c+2]=null===(i=T.complete)||void 0===i?void 0:i.bind(T)}let m,v,C;if(n instanceof pr)v=Qt(n.firestore,Rn),C=Kg(n._key.path),m={next:T=>{e[c]&&e[c](function wR(n,e,t){const r=t.docs.get(e._key),i=new Rc(n);return new _m(n,i,e._key,r,new qh(t.hasPendingWrites,t.fromCache),e.converter)}(v,n,T))},error:e[c+1],complete:e[c+2]};else{const T=Qt(n,ni);v=Qt(T.firestore,Rn),C=T._query;const M=new Rc(v);m={next:N=>{e[c]&&e[c](new vm(v,M,T,N))},error:e[c+1],complete:e[c+2]},function aL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ye(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(T,M,N,L){const z=new cT(L),G=new RM(M,z,N);return T.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function DM(n,e){return AM.apply(this,arguments)}(yield pm(T),G)})),()=>{z.Dc(),T.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function SM(n,e){return xM.apply(this,arguments)}(yield pm(T),G)}))}}(br(v),C,f,m)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function i$(n,e){return void 0===e&&(e={}),function r$(n){return bR(n,{includeMetadataChanges:!0})}(n).pipe((0,Ct.U)(function(t){return gL(t,e)}))}function gL(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}function c$(n,e){return void 0===e&&(e={}),function u$(n){return bR(n,{includeMetadataChanges:!0}).pipe((0,Ct.U)(function(e){return e.docs}))}(n).pipe((0,Ct.U)(function(t){return t.map(function(r){return gL(r,e)})}))}class uw{constructor(e){return e}}const vL="firestore",IR=new u.OlP("angularfire2.firestore-instances");function f$(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new uw(r)}}const p$={provide:class d${constructor(){return pg(vL)}},deps:[[new u.FiY,IR]]},g$={provide:uw,useFactory:function h$(n,e){const t=dh(vL,n,e);return t&&new uw(t)},deps:[[new u.FiY,IR],wa]};let m$=(()=>{class n{constructor(){(0,Dt.registerVersion)("angularfire",ch.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[g$,p$]}),n})();function y$(n,...e){return{ngModule:m$,providers:[{provide:IR,useFactory:f$(n),multi:!0,deps:[u.R0b,u.zs3,hh,mg,[new u.FiY,Pg],[new u.FiY,hc],...e]}]}}const _$=Qr(c$,!0),wL=Qr(i$,!0),v$=Qr(IB,!0),TT=Qr(ZF,!0),w$=Qr(AB,!0),TR=Qr(t$,!0),DR=Qr($B,!0),bL=Qr(jB,!0);var b$=O(6451);class E$ extends Wn.x{constructor(e=1/0,t=1/0,r=pv){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let m=1;m<r.length&&r[m]<=c;m+=2)f=m;f&&r.splice(0,f+1)}}}var C$=O(3099);function EL(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,C$.B)({connector:()=>new E$(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function CL(n,e){return(0,_u.m)(e)?En(()=>n,e):En(()=>n)}var Gh=O(2011);O(9260);const T$=new u.OlP("angularfire2.auth.use-emulator"),D$=new u.OlP("angularfire2.auth.settings"),A$=new u.OlP("angularfire2.auth.tenant-id"),S$=new u.OlP("angularfire2.auth.langugage-code"),x$=new u.OlP("angularfire2.auth.use-device-language"),M$=new u.OlP("angularfire.auth.persistence");let IL=(()=>{class n{constructor(t,r,i,a,c,f,m,v,C,T,M,N){const L=new Wn.x,z=et(void 0).pipe((0,sc.Q)(c.outsideAngular),En(()=>a.runOutsideAngular(()=>O.e(568).then(O.bind(O,9568)))),(0,Ct.U)(()=>(0,Gh.on)(t,a,r)),(0,Ct.U)(G=>((n,e,t,r,i,a,c,f)=>(0,Gh.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),c)for(const[v,C]of Object.entries(c))m.settings[v]=C;return f&&m.setPersistence(f),m},[t,r,i,a,c,f]))(G,a,f,v,C,T,m,M)),EL({bufferSize:1,refCount:!1}));if(function Ha(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{z.pipe(as()).subscribe();const pe=z.pipe(En($e=>$e.getRedirectResult().then(It=>It,()=>null)),wv,EL({bufferSize:1,refCount:!1})),Re=z.pipe(En($e=>new Kr.y(It=>({unsubscribe:a.runOutsideAngular(()=>$e.onAuthStateChanged(Tt=>It.next(Tt),Tt=>It.error(Tt),()=>It.complete()))})))),ke=z.pipe(En($e=>new Kr.y(It=>({unsubscribe:a.runOutsideAngular(()=>$e.onIdTokenChanged(Tt=>It.next(Tt),Tt=>It.error(Tt),()=>It.complete()))}))));this.authState=pe.pipe(CL(Re),(0,ic.R)(c.outsideAngular),(0,sc.Q)(c.insideAngular)),this.user=pe.pipe(CL(ke),(0,ic.R)(c.outsideAngular),(0,sc.Q)(c.insideAngular)),this.idToken=this.user.pipe(En($e=>$e?(0,ln.D)($e.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(En($e=>$e?(0,ln.D)($e.getIdTokenResult()):et(null))),this.credential=(0,b$.T)(pe,L,this.authState.pipe(Hi($e=>!$e))).pipe((0,Ct.U)($e=>$e?.user?$e:null),(0,ic.R)(c.outsideAngular),(0,sc.Q)(c.insideAngular))}return(0,Gh.pX)(this,z,a,{spy:{apply:(G,pe,Re)=>{(G.startsWith("signIn")||G.startsWith("createUser"))&&Re.then(ke=>L.next(ke))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gh.Dh),u.LFG(Gh.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(hh),u.LFG(T$,8),u.LFG(D$,8),u.LFG(A$,8),u.LFG(S$,8),u.LFG(x$,8),u.LFG(M$,8),u.LFG(hc,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class TL{}class N${}const $l="*";function P$(n,e){return{type:7,name:n,definitions:e,options:{}}}function DL(n,e=null){return{type:4,styles:e,timings:n}}function AL(n,e=null){return{type:2,steps:n,options:e}}function cw(n){return{type:6,styles:n,offset:null}}function AR(n,e,t){return{type:0,name:n,styles:e,options:t}}function SL(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function xL(n){Promise.resolve().then(n)}class dw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){xL(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ML{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?xL(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const SR="!",RL=["toast-component",""];function O$(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.remove())}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function k$(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("[",t.duplicatesCount+1,"]")}}function F$(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,k$,2,1,"ng-container",4),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.titleClass),u.uIk("aria-label",t.title),u.xp6(1),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("ngIf",t.duplicatesCount)}}function L$(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.Q6J("innerHTML",t.message,u.oJD)}}function V$(n,e){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.uIk("aria-label",t.message),u.xp6(1),u.hij(" ",t.message," ")}}function U$(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Udp("width",t.width+"%")}}class G${constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Z${attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class W${constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Wn.x,this._activate=new Wn.x,this._manualClose=new Wn.x,this._resetTimeout=new Wn.x,this._countDuplicate=new Wn.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class DT{constructor(e,t,r,i,a,c){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=a,this.toastRef=c,this._onTap=new Wn.x,this._onAction=new Wn.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const PL=new u.OlP("ToastConfig");class K$ extends Z${constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Y$=(()=>{class n{constructor(){this._document=(0,u.f3M)(se)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Q${constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let J$=(()=>{class n{constructor(){this._overlayContainer=(0,u.f3M)(Y$),this._componentFactoryResolver=(0,u.f3M)(u._Vd),this._appRef=(0,u.f3M)(u.z2F),this._document=(0,u.f3M)(se),this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new K$(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Q$(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xR=(()=>{class n{constructor(t,r,i,a,c){this.overlay=r,this._injector=i,this.sanitizer=a,this.ngZone=c,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},a=""){return this._preBuildNotification(a,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,a){const{includeTitleDuplicates:c}=this.toastrConfig;for(const f of this.toasts)if((!c||c&&f.title===t)&&f.message===r)return f.toastRef.onDuplicate(i,a),f;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,a)):this._buildNotification(t,r,i,a)}_buildNotification(t,r,i,a){if(!a.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=r;let f=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(f=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const m=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let v=r;r&&a.enableHtml&&(v=this.sanitizer.sanitize(u.q3G.HTML,r));const C=new W$(m),T=new DT(this.index,a,v,i,t,C),N=u.zs3.create({providers:[{provide:DT,useValue:T}],parent:this._injector}),L=new G$(a.toastComponent,N),z=m.attach(L,a.newestOnTop);C.componentInstance=z.instance;const G={toastId:this.index,title:i||"",message:r||"",toastRef:C,onShown:C.afterActivate(),onHidden:C.afterClosed(),onTap:T.onTap(),onAction:T.onAction(),portal:z};return f||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{G.toastRef.activate()})),this.toasts.push(G),G}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(PL),u.LFG(J$),u.LFG(u.zs3),u.LFG(dd),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OL=(()=>{class n{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xR),u.Y36(DT),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(u.d8E("@flyInOut",r.state),u.Tol(r.toastClasses),u.Udp("display",r.displayStyle))},standalone:!0,features:[u.jDz],attrs:RL,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(u.YNc(0,O$,3,0,"button",0),u.YNc(1,F$,3,5,"div",1),u.YNc(2,L$,1,3,"div",2),u.YNc(3,V$,2,4,"div",3),u.YNc(4,U$,2,2,"div",4)),2&t&&(u.Q6J("ngIf",r.options.closeButton),u.xp6(1),u.Q6J("ngIf",r.title),u.xp6(1),u.Q6J("ngIf",r.message&&r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.message&&!r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.options.progressBar))},dependencies:[Lr],encapsulation:2,data:{animation:[P$("flyInOut",[AR("inactive",cw({opacity:0})),AR("active",cw({opacity:1})),AR("removed",cw({opacity:0})),SL("inactive => active",DL("{{ easeTime }}ms {{ easing }}")),SL("active => removed",DL("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const X$={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:OL},ej=(n={})=>(0,u.MR2)([{provide:PL,useValue:{default:X$,config:n}}]);let tj=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[ej(t)]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[OL]}),n})(),wm=(()=>{class n{constructor(t){this.toastr=t}showSuccess(t,r="",i=4e3){this.toastr.success(r,t,{timeOut:i})}showWarning(t,r="",i=4e3){this.toastr.warning(r,t,{timeOut:i})}showError(t,r="",i=4e3){this.toastr.error(r,t,{timeOut:i})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(xR))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hw=(()=>{class n{constructor(t,r,i){this.authentication=t,this.firestore=r,this.toast=i,this.userData={},this.userData=this.authentication.authState.pipe(En(a=>{if(a){const c=TT(this.firestore,`users/${a.uid}`);return wL(c,{idField:"uid"})}return et(null)}))}register({email:t,password:r,name:i,lastName:a,dni:c,edad:f,obraSocial:m,especialidad:v,perfil:C,habilitado:T,imgPerfil:M,imgSecundaria:N}){var L=this;return(0,X.Z)(function*(){try{const z=yield L.authentication.createUserWithEmailAndPassword(t,r);if(console.info("credential: ",z),null!=z.user){const G=z.user?.uid,pe=TT(L.firestore,`users/${G}`);yield z.user.sendEmailVerification().then((0,X.Z)(function*(){return console.log("email enviado"),yield L.logout(),"paciente"==C?DR(pe,{uid:G,email:t,name:i,lastName:a,dni:c,edad:f,obraSocial:m,perfil:C,imgPerfil:M,imgSecundaria:N,createdAt:TR()}):"especialista"==C?DR(pe,{uid:G,email:t,name:i,lastName:a,dni:c,edad:f,especialidad:v,perfil:C,habilitado:T,imgPerfil:M,createdAt:TR()}):"administrador"==C?DR(pe,{uid:G,email:t,name:i,lastName:a,dni:c,edad:f,perfil:C,habilitado:T,imgPerfil:M,createdAt:TR()}):null})).catch(Re=>{throw L.toast.showError("Ocurri\xf3 un problema"),console.log("err email",Re),new Error(Re)})}}catch(z){throw console.log("err: "+z),new Error(z)}})()}login({email:t,password:r}){var i=this;return(0,X.Z)(function*(){try{return yield i.authentication.signInWithEmailAndPassword(t,r)}catch(a){throw console.log("err login",a),new Error(a)}})()}logout(){return this.authentication.signOut()}getUser(){return this.authentication.authState}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(IL),u.LFG(uw),u.LFG(wm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",53),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onClickSidebar("seleccion"))}),u.TgZ(1,"a",54),u._UZ(2,"i",55),u.TgZ(3,"span",48),u._uU(4,"Seleccion Usuarios"),u.qZA()()()}if(2&n){const t=u.oxw();u.xp6(1),u.Q6J("routerLink","/seleccion-usuarios")("ngClass","seleccion"==t.selectedOpt?"clicked":"")}}function rj(n,e){1&n&&(u.TgZ(0,"li")(1,"a",62),u._UZ(2,"i",63),u.TgZ(3,"span",64),u._uU(4,"Registro"),u.qZA()()()),2&n&&(u.xp6(1),u.Q6J("routerLink","/registro"))}function ij(n,e){1&n&&(u.TgZ(0,"li")(1,"a",62),u._UZ(2,"i",65),u.TgZ(3,"span",66),u._uU(4,"Login"),u.qZA()()()),2&n&&(u.xp6(1),u.Q6J("routerLink","/login"))}function sj(n,e){1&n&&(u.TgZ(0,"li")(1,"a",62),u._UZ(2,"i",67),u.TgZ(3,"span",66),u._uU(4,"Mi Perfil"),u.qZA()()()),2&n&&(u.xp6(1),u.Q6J("routerLink","/login"))}function oj(n,e){1&n&&u._UZ(0,"hr",68)}function aj(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li")(1,"a",69),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2);return u.KtG(i.logout())}),u._UZ(2,"i",70),u.TgZ(3,"span",64),u._uU(4,"Logout"),u.qZA()()()}}function lj(n,e){if(1&n&&(u.TgZ(0,"div",56)(1,"a",57),u._UZ(2,"i",58),u.TgZ(3,"span",48)(4,"strong"),u._uU(5),u.qZA()()(),u.TgZ(6,"ul",59),u.YNc(7,rj,5,1,"li",60),u.YNc(8,ij,5,1,"li",60),u.YNc(9,sj,5,1,"li",60),u.TgZ(10,"li"),u.YNc(11,oj,1,0,"hr",61),u.qZA(),u.YNc(12,aj,5,0,"li",60),u.qZA()()),2&n){const t=u.oxw();u.xp6(5),u.Oqu(t.acceso),u.xp6(2),u.Q6J("ngIf",!t.user),u.xp6(1),u.Q6J("ngIf",!t.user),u.xp6(1),u.Q6J("ngIf",t.user),u.xp6(2),u.Q6J("ngIf",t.user),u.xp6(1),u.Q6J("ngIf",t.user)}}function uj(n,e){1&n&&u._UZ(0,"span",71)}let AT=(()=>{class n{constructor(t,r,i){this.router=t,this.auth=r,this.toast=i,this.selectedOpt="",this.user={},this.userLogged=!1,this.acceso="",this.loading=!1}ngOnInit(){this.loading=!0,this.subscription=this.auth.userData.subscribe(t=>{t?(this.user=t,this.userLogged=!0,this.loading=!1,this.acceso=this.user.name):(this.user=null,this.loading=!1,this.acceso="Acceso")})}ngOnDestroy(){this.subscription.unsubscribe()}redirectToLogin(){this.router.navigateByUrl("/login")}logout(){this.loading=!0,setTimeout(()=>{const t=this.user.name;this.userLogged=!1,this.user=null,this.acceso="Acceso",this.auth.logout(),this.loading=!1,this.toast.showSuccess("La sesi\xf3n fue cerrada",`Hasta luego, ${t}.`),this.router.navigateByUrl("/login")},1e3)}onClickSidebar(t){"home"==t?(this.selectedOpt="home",this.router.navigateByUrl("")):"seleccion"==t&&(this.selectedOpt="seleccion")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Yn),u.Y36(hw),u.Y36(wm))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],inputs:{selectedOpt:"selectedOpt"},decls:61,vars:4,consts:[["xmlns","http://www.w3.org/2000/svg",2,"display","none"],["id","bootstrap","viewBox","0 0 118 94"],["fill-rule","evenodd","clip-rule","evenodd","d","M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z"],["id","home","viewBox","0 0 16 16"],["d","M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"],["id","speedometer2","viewBox","0 0 16 16"],["d","M8 4a.5.5 0 0 1 .5.5V6a.5.5 0 0 1-1 0V4.5A.5.5 0 0 1 8 4zM3.732 5.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 10a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 10zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 9.31a.91.91 0 1 0 1.302 1.258l3.434-4.297a.389.389 0 0 0-.029-.518z"],["fill-rule","evenodd","d","M0 10a8 8 0 1 1 15.547 2.661c-.442 1.253-1.845 1.602-2.932 1.25C11.309 13.488 9.475 13 8 13c-1.474 0-3.31.488-4.615.911-1.087.352-2.49.003-2.932-1.25A7.988 7.988 0 0 1 0 10zm8-7a7 7 0 0 0-6.603 9.329c.203.575.923.876 1.68.63C4.397 12.533 6.358 12 8 12s3.604.532 4.923.96c.757.245 1.477-.056 1.68-.631A7 7 0 0 0 8 3z"],["id","table","viewBox","0 0 16 16"],["d","M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"],["id","people-circle","viewBox","0 0 16 16"],["d","M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"],["fill-rule","evenodd","d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"],["id","grid","viewBox","0 0 16 16"],["d","M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"],["id","collection","viewBox","0 0 16 16"],["d","M2.5 3.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm2-2a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM0 13a1.5 1.5 0 0 0 1.5 1.5h13A1.5 1.5 0 0 0 16 13V6a1.5 1.5 0 0 0-1.5-1.5h-13A1.5 1.5 0 0 0 0 6v7zm1.5.5A.5.5 0 0 1 1 13V6a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-13z"],["id","calendar3","viewBox","0 0 16 16"],["d","M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z"],["d","M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"],["id","chat-quote-fill","viewBox","0 0 16 16"],["d","M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM7.194 6.766a1.688 1.688 0 0 0-.227-.272 1.467 1.467 0 0 0-.469-.324l-.008-.004A1.785 1.785 0 0 0 5.734 6C4.776 6 4 6.746 4 7.667c0 .92.776 1.666 1.734 1.666.343 0 .662-.095.931-.26-.137.389-.39.804-.81 1.22a.405.405 0 0 0 .011.59c.173.16.447.155.614-.01 1.334-1.329 1.37-2.758.941-3.706a2.461 2.461 0 0 0-.227-.4zM11 9.073c-.136.389-.39.804-.81 1.22a.405.405 0 0 0 .012.59c.172.16.446.155.613-.01 1.334-1.329 1.37-2.758.942-3.706a2.466 2.466 0 0 0-.228-.4 1.686 1.686 0 0 0-.227-.273 1.466 1.466 0 0 0-.469-.324l-.008-.004A1.785 1.785 0 0 0 10.07 6c-.957 0-1.734.746-1.734 1.667 0 .92.777 1.666 1.734 1.666.343 0 .662-.095.931-.26z"],["id","cpu-fill","viewBox","0 0 16 16"],["d","M6.5 6a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z"],["d","M5.5.5a.5.5 0 0 0-1 0V2A2.5 2.5 0 0 0 2 4.5H.5a.5.5 0 0 0 0 1H2v1H.5a.5.5 0 0 0 0 1H2v1H.5a.5.5 0 0 0 0 1H2v1H.5a.5.5 0 0 0 0 1H2A2.5 2.5 0 0 0 4.5 14v1.5a.5.5 0 0 0 1 0V14h1v1.5a.5.5 0 0 0 1 0V14h1v1.5a.5.5 0 0 0 1 0V14h1v1.5a.5.5 0 0 0 1 0V14a2.5 2.5 0 0 0 2.5-2.5h1.5a.5.5 0 0 0 0-1H14v-1h1.5a.5.5 0 0 0 0-1H14v-1h1.5a.5.5 0 0 0 0-1H14v-1h1.5a.5.5 0 0 0 0-1H14A2.5 2.5 0 0 0 11.5 2V.5a.5.5 0 0 0-1 0V2h-1V.5a.5.5 0 0 0-1 0V2h-1V.5a.5.5 0 0 0-1 0V2h-1V.5zm1 4.5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3A1.5 1.5 0 0 1 6.5 5z"],["id","gear-fill","viewBox","0 0 16 16"],["d","M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"],["id","speedometer","viewBox","0 0 16 16"],["d","M8 2a.5.5 0 0 1 .5.5V4a.5.5 0 0 1-1 0V2.5A.5.5 0 0 1 8 2zM3.732 3.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 8a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 7.31A.91.91 0 1 0 8.85 8.569l3.434-4.297a.389.389 0 0 0-.029-.518z"],["fill-rule","evenodd","d","M6.664 15.889A8 8 0 1 1 9.336.11a8 8 0 0 1-2.672 15.78zm-4.665-4.283A11.945 11.945 0 0 1 8 10c2.186 0 4.236.585 6.001 1.606a7 7 0 1 0-12.002 0z"],["id","toggles2","viewBox","0 0 16 16"],["d","M9.465 10H12a2 2 0 1 1 0 4H9.465c.34-.588.535-1.271.535-2 0-.729-.195-1.412-.535-2z"],["d","M6 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 1a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm.535-10a3.975 3.975 0 0 1-.409-1H4a1 1 0 0 1 0-2h2.126c.091-.355.23-.69.41-1H4a2 2 0 1 0 0 4h2.535z"],["d","M14 4a4 4 0 1 1-8 0 4 4 0 0 1 8 0z"],["id","tools","viewBox","0 0 16 16"],["d","M1 0L0 1l2.2 3.081a1 1 0 0 0 .815.419h.07a1 1 0 0 1 .708.293l2.675 2.675-2.617 2.654A3.003 3.003 0 0 0 0 13a3 3 0 1 0 5.878-.851l2.654-2.617.968.968-.305.914a1 1 0 0 0 .242 1.023l3.356 3.356a1 1 0 0 0 1.414 0l1.586-1.586a1 1 0 0 0 0-1.414l-3.356-3.356a1 1 0 0 0-1.023-.242L10.5 9.5l-.96-.96 2.68-2.643A3.005 3.005 0 0 0 16 3c0-.269-.035-.53-.102-.777l-2.14 2.141L12 4l-.364-1.757L13.777.102a3 3 0 0 0-3.675 3.68L7.462 6.46 4.793 3.793a1 1 0 0 1-.293-.707v-.071a1 1 0 0 0-.419-.814L1 0zm9.646 10.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708zM3 11l.471.242.529.026.287.445.445.287.026.529L5 13l-.242.471-.026.529-.445.287-.287.445-.529.026L3 15l-.471-.242L2 14.732l-.287-.445L1.268 14l-.026-.529L1 13l.242-.471.026-.529.445-.287.287-.445.529-.026L3 11z"],["id","chevron-right","viewBox","0 0 16 16"],["fill-rule","evenodd","d","M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"],["id","geo-fill","viewBox","0 0 16 16"],["fill-rule","evenodd","d","M4 4a4 4 0 1 1 4.5 3.969V13.5a.5.5 0 0 1-1 0V7.97A4 4 0 0 1 4 3.999zm2.493 8.574a.5.5 0 0 1-.411.575c-.712.118-1.28.295-1.655.493a1.319 1.319 0 0 0-.37.265.301.301 0 0 0-.057.09V14l.002.008a.147.147 0 0 0 .016.033.617.617 0 0 0 .145.15c.165.13.435.27.813.395.751.25 1.82.414 3.024.414s2.273-.163 3.024-.414c.378-.126.648-.265.813-.395a.619.619 0 0 0 .146-.15.148.148 0 0 0 .015-.033L12 14v-.004a.301.301 0 0 0-.057-.09 1.318 1.318 0 0 0-.37-.264c-.376-.198-.943-.375-1.655-.493a.5.5 0 1 1 .164-.986c.77.127 1.452.328 1.957.594C12.5 13 13 13.4 13 14c0 .426-.26.752-.544.977-.29.228-.68.413-1.116.558-.878.293-2.059.465-3.34.465-1.281 0-2.462-.172-3.34-.465-.436-.145-.826-.33-1.116-.558C3.26 14.752 3 14.426 3 14c0-.599.5-1 .961-1.243.505-.266 1.187-.467 1.957-.594a.5.5 0 0 1 .575.411z"],[1,"d-flex","flex-column","flex-shrink-0","p-3","text-white","bg-dark",2,"width","234px"],["href","/",1,"d-flex","align-items-center","mb-3","mb-md-0","me-md-auto","text-white","text-decoration-none"],[1,"fa-sharp","fa-solid","fa-laptop-medical","fa-2xl"],[1,"fs-4",2,"margin-left","0.5em"],[1,"nav","nav-pills","flex-column","mb-auto"],[1,"nav-item","opt-sidebar",3,"click"],["aria-current","page",1,"nav-link","text-white",3,"ngClass"],[1,"fa-solid","fa-house"],[2,"margin-left","0.5em"],["class","nav item opt-sidebar",3,"click",4,"ngIf"],["class","dropdown",4,"ngIf"],["class","loader",4,"ngIf"],[1,"b-example-divider"],[1,"nav","item","opt-sidebar",3,"click"],[1,"nav-link","text-white",3,"routerLink","ngClass"],[1,"fa-solid","fa-users"],[1,"dropdown"],["id","dropdownUser1","data-bs-toggle","dropdown","aria-expanded","false",1,"d-flex","align-items-center","text-white","text-decoration-none","dropdown-toggle"],[1,"fa-solid","fa-user"],["aria-labelledby","dropdownUser1",1,"dropdown-menu","dropdown-menu-dark","text-small","shadow"],[4,"ngIf"],["class","dropdown-divider",4,"ngIf"],[1,"dropdown-item",3,"routerLink"],[1,"fa-solid","fa-user-plus"],[2,"margin-left","0.45em"],[1,"fa-solid","fa-key"],[2,"margin-left","0.7em"],[1,"fa-solid","fa-address-card"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"fa-solid","fa-right-from-bracket"],[1,"loader"]],template:function(t,r){1&t&&(u.TgZ(0,"body"),u.O4$(),u.TgZ(1,"svg",0)(2,"symbol",1)(3,"title"),u._uU(4,"Clinica"),u.qZA(),u._UZ(5,"path",2),u.qZA(),u.TgZ(6,"symbol",3),u._UZ(7,"path",4),u.qZA(),u.TgZ(8,"symbol",5),u._UZ(9,"path",6)(10,"path",7),u.qZA(),u.TgZ(11,"symbol",8),u._UZ(12,"path",9),u.qZA(),u.TgZ(13,"symbol",10),u._UZ(14,"path",11)(15,"path",12),u.qZA(),u.TgZ(16,"symbol",13),u._UZ(17,"path",14),u.qZA(),u.TgZ(18,"symbol",15),u._UZ(19,"path",16),u.qZA(),u.TgZ(20,"symbol",17),u._UZ(21,"path",18)(22,"path",19),u.qZA(),u.TgZ(23,"symbol",20),u._UZ(24,"path",21),u.qZA(),u.TgZ(25,"symbol",22),u._UZ(26,"path",23)(27,"path",24),u.qZA(),u.TgZ(28,"symbol",25),u._UZ(29,"path",26),u.qZA(),u.TgZ(30,"symbol",27),u._UZ(31,"path",28)(32,"path",29),u.qZA(),u.TgZ(33,"symbol",30),u._UZ(34,"path",31)(35,"path",32)(36,"path",33),u.qZA(),u.TgZ(37,"symbol",34),u._UZ(38,"path",35),u.qZA(),u.TgZ(39,"symbol",36),u._UZ(40,"path",37),u.qZA(),u.TgZ(41,"symbol",38),u._UZ(42,"path",39),u.qZA()(),u.kcU(),u.TgZ(43,"main")(44,"div",40)(45,"a",41),u._UZ(46,"i",42),u.TgZ(47,"span",43),u._uU(48,"Dacal Health"),u.qZA()(),u._UZ(49,"hr"),u.TgZ(50,"ul",44)(51,"li",45),u.NdJ("click",function(){return r.onClickSidebar("home")}),u.TgZ(52,"a",46),u._UZ(53,"i",47),u.TgZ(54,"span",48),u._uU(55,"Home"),u.qZA()()(),u.YNc(56,nj,5,2,"li",49),u.qZA(),u._UZ(57,"hr"),u.YNc(58,lj,13,6,"div",50),u.YNc(59,uj,1,0,"span",51),u.qZA(),u._UZ(60,"div",52),u.qZA()()),2&t&&(u.xp6(52),u.Q6J("ngClass","home"==r.selectedOpt?"clicked":""),u.xp6(4),u.Q6J("ngIf",r.user&&"administrador"==r.user.perfil&&!r.loading),u.xp6(2),u.Q6J("ngIf",!r.loading),u.xp6(1),u.Q6J("ngIf",r.loading))},dependencies:[St,Lr,bo],styles:["body[_ngcontent-%COMP%]{min-height:100vh;min-height:-webkit-fill-available;position:fixed}html[_ngcontent-%COMP%]{height:-webkit-fill-available}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}main[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;height:100vh;height:-webkit-fill-available;max-height:100vh;overflow-x:auto;overflow-y:hidden}.b-example-divider[_ngcontent-%COMP%]{flex-shrink:0;width:.2rem;height:100vh;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000,inset 0 .125em .5em #0000}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;pointer-events:none;fill:currentColor}.dropdown-toggle[_ngcontent-%COMP%]{outline:0}.nav-flush[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-radius:0}.btn-toggle[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .5rem;font-weight:600;color:#000000a6;background-color:transparent;border:0}.btn-toggle[_ngcontent-%COMP%]:hover, .btn-toggle[_ngcontent-%COMP%]:focus{color:#000000d9;background-color:#d2f4ea}.btn-toggle[_ngcontent-%COMP%]:before{width:1.25em;line-height:0;content:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='rgba%280,0,0,.5%29' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M5 14l6-6-6-6'/%3e%3c/svg%3e\");transition:transform .35s ease;transform-origin:.5em 50%}.btn-toggle[aria-expanded=true][_ngcontent-%COMP%]{color:#000000d9}.btn-toggle[aria-expanded=true][_ngcontent-%COMP%]:before{transform:rotate(90deg)}.btn-toggle-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-flex;padding:.1875rem .5rem;margin-top:.125rem;margin-left:1.25rem;text-decoration:none}.btn-toggle-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .btn-toggle-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{background-color:#d2f4ea}.scrollarea[_ngcontent-%COMP%]{overflow-y:auto}.fw-semibold[_ngcontent-%COMP%]{font-weight:600}.lh-tight[_ngcontent-%COMP%]{line-height:1.25}.opt-sidebar[_ngcontent-%COMP%]:hover, .clicked[_ngcontent-%COMP%]{background-color:#1abae2;transform:scale(1.05)}.loader[_ngcontent-%COMP%]{width:24px;height:24px;border:5px solid #FFF;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();const cj=function(){return{width:"6.5rem"}};let dj=(()=>{class n{constructor(t){this.router=t,this.icon="assets/img/doc.png"}onClickRegister(){this.router.navigateByUrl("/registro")}onClickLogin(){this.router.navigateByUrl("/login")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Yn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-bienvenida"]],decls:28,vars:4,consts:[[1,"row"],[1,"col-3"],[3,"selectedOpt"],[1,"col-9"],[1,"container"],[1,"card","col-9","offset-1","scale-up-top",2,"height","450px","margin-left","1em"],["alt","ico",1,"card-img-top","mt-2",3,"src","ngStyle"],[1,"card-body"],[1,"card-title"],[1,"card-text",2,"font-size","20px"],[1,"card-text"],[1,"row",2,"margin-top","4em"],[1,"col-6"],["role","button",1,"button-33",3,"click"],[1,"fa-solid","fa-user-plus"],[1,"fa-solid","fa-key"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"app-navbar",2),u.qZA(),u.TgZ(3,"div",3)(4,"div",4)(5,"div",0)(6,"div",5),u._UZ(7,"img",6),u.TgZ(8,"div",7)(9,"h2",8),u._uU(10,"Clinica OnLine"),u.qZA(),u.TgZ(11,"p",9),u._uU(12," Te damos la bienvenida a la Clinica OnLine: "),u.TgZ(13,"strong"),u._uU(14,"Dacal Health"),u.qZA()(),u.TgZ(15,"p",10),u._uU(16," TP 2 Laboratorio IV UTN-FRA "),u.qZA(),u.TgZ(17,"p",10),u._uU(18," Por favor, inicie sesi\xf3n para continuar. "),u.qZA(),u.TgZ(19,"div",11)(20,"div",12)(21,"button",13),u.NdJ("click",function(){return r.onClickRegister()}),u._UZ(22,"i",14),u._uU(23," REGISTRO "),u.qZA()(),u.TgZ(24,"div",12)(25,"button",13),u.NdJ("click",function(){return r.onClickLogin()}),u._UZ(26,"i",15),u._uU(27," LOGIN "),u.qZA()()()()()()()()()),2&t&&(u.xp6(2),u.Q6J("selectedOpt","home"),u.xp6(5),u.Q6J("src",r.icon,u.LSH)("ngStyle",u.DdM(3,cj)))},dependencies:[Ti,AT],styles:[".card[_ngcontent-%COMP%]{text-align:center;background:#ebf4f5;background:linear-gradient(to right,#ebf4f5,#b5c6e0);opacity:.95;border-radius:.75rem;border-style:groove;box-shadow:10px 5px 5px #1558a5cc;color:#000;margin-top:2em}h2[_ngcontent-%COMP%]{font-family:Rubik,serif;font-size:48px;text-shadow:5px 2px 2px #849fc7}@keyframes _ngcontent-%COMP%_scale-up-top{0%{transform:scale(.5);transform-origin:50% 0%}to{transform:scale(1);transform-origin:50% 0%}}.scale-up-top[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-up-top .4s cubic-bezier(.39,.575,.565,1) both}.card-img-top[_ngcontent-%COMP%]{display:block;width:60%;margin:auto;opacity:1}.link[_ngcontent-%COMP%]{color:#e7e5e5;font-size:24px}.button-33[_ngcontent-%COMP%]{background-color:#1abae2;border-radius:10px;box-shadow:#1f0a7c33 0 -25px 18px -14px inset,#1f0a7c33 0 1px 2px,#1f0a7c33 0 2px 4px,#1f0a7c33 0 4px 8px,#1f0a7c33 0 8px 16px,#1f0a7c33 0 16px 32px;color:#000;cursor:pointer;display:inline-block;font-family:CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;padding:7px 20px;text-align:center;text-decoration:none;transition:all .25s;border:0;font-size:18px;font-weight:450;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-33[_ngcontent-%COMP%]:hover{box-shadow:#0d21d159 0 -25px 18px -14px inset,#0d21d159 0 1px 2px,#0d21d159 0 2px 4px,#0d21d159 0 4px 8px,#0d21d159 0 8px 16px,#0d21d159 0 16px 32px;transform:scale(1.05) rotate(-1deg)}"]}),n})();const kL="firebasestorage.googleapis.com",FL="storageBucket";class $n extends _t.ZR{constructor(e,t,r=0){super(MR(e),`Firebase Storage: ${t} (${MR(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,$n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return MR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var In=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(In||(In={})),In))();function MR(n){return"storage/"+n}function RR(){return new $n(In.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function NR(n){return new $n(In.INVALID_ARGUMENT,n)}function BL(){return new $n(In.APP_DELETED,"The Firebase app was deleted.")}function fw(n,e){return new $n(In.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function pw(n){throw new $n(In.INTERNAL_ERROR,"Internal error: "+n)}class ki{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ki.makeFromUrl(e,t)}catch{return new ki(e,"")}if(""===r.path)return r;throw function bj(n){return new $n(In.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function v($e){$e.path_=decodeURIComponent($e.path)}const T=t.replace(/[.]/g,"\\."),ke=[{regex:f,indices:{bucket:1,path:3},postModify:function a($e){"/"===$e.path.charAt($e.path.length-1)&&($e.path_=$e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${T}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===kL?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let $e=0;$e<ke.length;$e++){const It=ke[$e],Tt=It.regex.exec(e);if(Tt){let jn=Tt[It.indices.path];jn||(jn=""),r=new ki(Tt[It.indices.bucket],jn),It.postModify(r);break}}if(null==r)throw function wj(n){return new $n(In.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class Aj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ST(n){return"string"==typeof n||n instanceof String}function $L(n){return PR()&&n instanceof Blob}function PR(){return typeof Blob<"u"&&!(0,_t.UG)()}function OR(n,e,t,r){if(r<e)throw NR(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw NR(`Invalid value for '${n}'. Expected ${t} or less.`)}function jl(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function jL(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Nc=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Nc||(Nc={})),Nc))();class Pj{constructor(e,t,r,i,a,c,f,m,v,C,T,M=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=C,this.connectionFactory_=T,this.retry=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,L)=>{this.resolve_=N,this.reject_=L,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,c=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());!function Mj(n){return void 0!==n}(m)?a():a(m)}catch(m){c(m)}else if(null!==f){const m=RR();m.serverResponse=f.getErrorText(),c(this.errorCallback_?this.errorCallback_(f,m):m)}else c(i.canceled?this.appDelete_?BL():function VL(){return new $n(In.CANCELED,"User canceled the upload/download.")}():function LL(){return new $n(In.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new xT(!1,null,!0)):this.backoffId_=function Sj(n,e,t){let r=1,i=null,a=null,c=!1,f=0;function m(){return 2===f}let v=!1;function C(...G){v||(v=!0,e.apply(null,G))}function T(G){i=setTimeout(()=>{i=null,n(N,m())},G)}function M(){a&&clearTimeout(a)}function N(G,...pe){if(v)return void M();if(G)return M(),void C.call(null,G,...pe);if(m()||c)return M(),void C.call(null,G,...pe);let ke;r<64&&(r*=2),1===f?(f=2,ke=0):ke=1e3*(r+Math.random()),T(ke)}let L=!1;function z(G){L||(L=!0,M(),!v&&(null!==i?(G||(f=2),clearTimeout(i),T(0)):G||(f=1)))}return T(0),a=setTimeout(()=>{c=!0,z(!0)},t),z}((r,i)=>{if(i)return void r(!1,new xT(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const c=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const f=a.getErrorCode()===Nc.NO_ERROR,m=a.getStatus();if(!f||function HL(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}(m,this.additionalRetryCodes_)&&this.retry){const C=a.getErrorCode()===Nc.ABORT;return void r(!1,new xT(!1,null,C))}const v=-1!==this.successCodes_.indexOf(m);r(!0,new xT(v,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function xj(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class xT{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Bj(...n){const e=function Uj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(PR())return new Blob(n);throw new $n(In.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Mo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kR{constructor(e,t){this.data=e,this.contentType=t||null}}function qL(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function GL(n,e){switch(n){case Mo.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw fw(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Mo.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw fw(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function jj(n){if(typeof atob>"u")throw function Tj(n){return new $n(In.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:fw(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class ZL{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw fw(Mo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function Gj(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Hl{constructor(e,t){let r=0,i="";$L(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if($L(this.data_)){const i=function $j(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Hl(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Hl(r,!0)}}static getBlob(...e){if(PR()){const t=e.map(r=>r instanceof Hl?r.data_:r);return new Hl(Bj.apply(null,t))}{const t=e.map(c=>ST(c)?function zL(n,e){switch(n){case Mo.RAW:return new kR(qL(e));case Mo.BASE64:case Mo.BASE64URL:return new kR(GL(n,e));case Mo.DATA_URL:return new kR(function zj(n){const e=new ZL(n);return e.base64?GL(Mo.BASE64,e.rest):function Hj(n){let e;try{e=decodeURIComponent(n)}catch{throw fw(Mo.DATA_URL,"Malformed data URL.")}return qL(e)}(e.rest)}(e),function qj(n){return new ZL(n).contentType}(e))}throw RR()}(Mo.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)i[a++]=c[f]}),new Hl(i,!0)}}uploadData(){return this.data_}}function FR(n){let e;try{e=JSON.parse(n)}catch{return null}return function Nj(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function WL(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Kj(n,e){return e}class Fi{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Kj}}let MT=null;function gw(){if(MT)return MT;const n=[];n.push(new Fi("bucket")),n.push(new Fi("generation")),n.push(new Fi("metageneration")),n.push(new Fi("name","fullPath",!0));const t=new Fi("name");t.xform=function e(a,c){return function Yj(n){return!ST(n)||n.length<2?n:WL(n)}(c)},n.push(t);const i=new Fi("size");return i.xform=function r(a,c){return void 0!==c?Number(c):c},n.push(i),n.push(new Fi("timeCreated")),n.push(new Fi("updated")),n.push(new Fi("md5Hash",null,!0)),n.push(new Fi("cacheControl",null,!0)),n.push(new Fi("contentDisposition",null,!0)),n.push(new Fi("contentEncoding",null,!0)),n.push(new Fi("contentLanguage",null,!0)),n.push(new Fi("contentType",null,!0)),n.push(new Fi("metadata","customMetadata",!0)),MT=n,MT}function KL(n,e,t){const r=FR(e);return null===r?null:function Jj(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const c=t[a];r[c.local]=c.xform(r,e[c.server])}return function Qj(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new ki(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}class Ra{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Na(n){if(!n)throw RR()}function bm(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function _j(){return new $n(In.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function yj(){return new $n(In.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function mj(n){return new $n(In.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function vj(n){return new $n(In.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function tV(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},m=function f(){let ke="";for(let $e=0;$e<2;$e++)ke+=Math.random().toString().slice(2);return ke}();c["Content-Type"]="multipart/related; boundary="+m;const v=function eV(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function lH(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),C=function LR(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}(v,t),N=Hl.getBlob("--"+m+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+m+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+m+"--");if(null===N)throw function UL(){return new $n(In.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const L={name:v.fullPath},z=jl(a,n.host,n._protocol),pe=n.maxUploadRetryTime,Re=new Ra(z,"POST",function RT(n,e){return function t(r,i){const a=KL(n,i,e);return Na(null!==a),a}}(n,t),pe);return Re.urlParams=L,Re.headers=c,Re.body=N.uploadData(),Re.errorHandler=bm(e),Re}let rV=null;class fH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Nc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Nc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Nc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw pw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class pH extends fH{initXhr(){this.xhr_.responseType="text"}}function Ro(){return rV?rV():new pH}class Zh{constructor(e,t){this._service=e,this._location=t instanceof ki?t:ki.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Zh(e,t)}get root(){const e=new ki(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WL(this._location.path)}get storage(){return this._service}get parent(){const e=function Zj(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ki(this._location.bucket,e);return new Zh(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function Dj(n){return new $n(In.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function AH(n){n._throwIfRoot("getDownloadURL");const e=function sH(n,e,t){const i=jl(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,f=new Ra(i,"GET",function rH(n,e){return function t(r,i){const a=KL(n,i,e);return Na(null!==a),function Xj(n,e,t,r){const i=FR(e);if(null===i||!ST(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const c=encodeURIComponent;return a.split(",").map(v=>{const T=n.fullPath;return jl("/b/"+c(n.bucket)+"/o/"+c(T),t,r)+jL({alt:"media",token:v})})[0]}(a,i,n.host,n._protocol)}}(n,t),c);return f.errorHandler=function mw(n){const e=bm(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function gj(n){return new $n(In.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}(e),f}(n.storage,n._location,gw());return n.storage.makeRequestWithTokens(e,Ro).then(t=>{if(null===t)throw function Ij(){return new $n(In.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function lV(n,e){if(n instanceof $R){const t=n;if(null==t._bucket)throw function Ej(){return new $n(In.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+FL+"' property when initializing the app?")}();const r=new Zh(t,t._bucket);return null!=e?lV(r,e):r}return void 0!==e?function aV(n,e){const t=function Wj(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ki(n._location.bucket,t);return new Zh(n.storage,r)}(n,e):n}function uV(n,e){const t=e?.[FL];return null==t?null:ki.makeFromBucketSpec(t,n)}class $R{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=kL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ki.makeFromBucketSpec(i,this._host):uV(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ki.makeFromBucketSpec(this._url,e):uV(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){OR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){OR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,X.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,X.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zh(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new Aj(BL());{const c=function Vj(n,e,t,r,i,a,c=!0){const f=jL(n.urlParams),m=n.url+f,v=Object.assign({},n.headers);return function Fj(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function Oj(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function kj(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,a),function Lj(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new Pj(m,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,X.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const cV="@firebase/storage",hV="storage";function PH(n,e,t){return function iV(n,e,t){n._throwIfRoot("uploadBytes");const r=tV(n.storage,n._location,gw(),new Hl(e,!0),t);return n.storage.makeRequestWithTokens(r,Ro).then(i=>({metadata:i,ref:n}))}(n=(0,_t.m9)(n),e,t)}function OH(n){return AH(n=(0,_t.m9)(n))}function kH(n,e){return function RH(n,e){if(e&&function xH(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof $R)return function MH(n,e){return new Zh(n,e)}(n,e);throw NR("To use ref(service, url), the first argument must be a Storage instance.")}return lV(n,e)}(n=(0,_t.m9)(n),e)}function FH(n=(0,Dt.getApp)(),e){n=(0,_t.m9)(n);const r=(0,Dt._getProvider)(n,hV).getImmediate({identifier:e}),i=(0,_t.P0)("storage");return i&&function LH(n,e,t,r={}){!function NH(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,_t.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function VH(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new $R(t,r,i,e,Dt.SDK_VERSION)}!function UH(){(0,Dt._registerComponent)(new Mi.wA(hV,VH,"PUBLIC").setMultipleInstances(!0)),(0,Dt.registerVersion)(cV,"0.11.2",""),(0,Dt.registerVersion)(cV,"0.11.2","esm2017")}();class jR{constructor(e){return e}}const fV="storage",HR=new u.OlP("angularfire2.storage-instances");function jH(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new jR(r)}}const HH={provide:class BH{constructor(){return pg(fV)}},deps:[[new u.FiY,HR]]},zH={provide:jR,useFactory:function $H(n,e){const t=dh(fV,n,e);return t&&new jR(t)},deps:[[new u.FiY,HR],wa]};let qH=(()=>{class n{constructor(){(0,Dt.registerVersion)("angularfire",ch.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[zH,HH]}),n})();function GH(n,...e){return{ngModule:qH,providers:[{provide:HR,useFactory:jH(n),multi:!0,deps:[u.R0b,u.zs3,hh,mg,[new u.FiY,Pg],[new u.FiY,hc],...e]}]}}const zR=Qr(OH,!0),PT=Qr(FH,!0),Cm=Qr(kH,!0),qR=Qr(PH,!0);let pV=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Wh=(()=>{class n extends pV{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const No=new u.OlP("NgValueAccessor"),KH={provide:No,useExisting:(0,u.Gpc)(()=>Kh),multi:!0},QH=new u.OlP("CompositionEventMode");let Kh=(()=>{class n extends pV{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function YH(){const n=te()?te().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(QH,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([KH]),u.qOj]}),n})();const JH=!1;function Pc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function mV(n){return null!=n&&"number"==typeof n.length}const wi=new u.OlP("NgValidators"),Oc=new u.OlP("NgAsyncValidators"),XH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gt{static min(e){return function yV(n){return e=>{if(Pc(e.value)||Pc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function _V(n){return e=>{if(Pc(e.value)||Pc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return vV(e)}static requiredTrue(e){return function wV(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function bV(n){return Pc(n.value)||XH.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function EV(n){return e=>Pc(e.value)||!mV(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function CV(n){return e=>mV(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function IV(n){if(!n)return OT;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Pc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return MV(e)}static composeAsync(e){return RV(e)}}function vV(n){return Pc(n.value)?{required:!0}:null}function OT(n){return null}function TV(n){return null!=n}function DV(n){const e=(0,u.QGY)(n)?(0,ln.D)(n):n;if(JH&&!(0,u.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new u.vHH(-1101,t)}return e}function AV(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function SV(n,e){return e.map(t=>t(n))}function xV(n){return n.map(e=>function ez(n){return!n.validate}(e)?e:t=>e.validate(t))}function MV(n){if(!n)return null;const e=n.filter(TV);return 0==e.length?null:function(t){return AV(SV(t,e))}}function GR(n){return null!=n?MV(xV(n)):null}function RV(n){if(!n)return null;const e=n.filter(TV);return 0==e.length?null:function(t){return function ZH(...n){const e=(0,Ai.jO)(n),{args:t,keys:r}=gu(n),i=new Kr.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let m=c,v=c;for(let C=0;C<c;C++){let T=!1;(0,yu.Xf)(t[C]).subscribe((0,_r.x)(a,M=>{T||(T=!0,v--),f[C]=M},()=>m--,void 0,()=>{(!m||!T)&&(v||a.next(r?ll(r,f):f),a.complete())}))}});return e?i.pipe(ji(e)):i}(SV(t,e).map(DV)).pipe((0,Ct.U)(AV))}}function ZR(n){return null!=n?RV(xV(n)):null}function NV(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function PV(n){return n._rawValidators}function OV(n){return n._rawAsyncValidators}function WR(n){return n?Array.isArray(n)?n:[n]:[]}function kT(n,e){return Array.isArray(n)?n.includes(e):n===e}function kV(n,e){const t=WR(e);return WR(n).forEach(i=>{kT(t,i)||t.push(i)}),t}function FV(n,e){return WR(e).filter(t=>!kT(n,t))}class LV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=GR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Li extends LV{get formDirective(){return null}get path(){return null}}class kc extends LV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class VV{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let yw=(()=>{class n extends VV{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(kc,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),n})(),_w=(()=>{class n extends VV{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Li,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[u.qOj]}),n})();function UV(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const QR=!1,vw="VALID",LT="INVALID",Im="PENDING",ww="DISABLED";function JR(n){return(VT(n)?n.validators:n)||null}function XR(n,e){return(VT(e)?e.asyncValidators:n)||null}function VT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function BV(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new u.vHH(1e3,QR?function iz(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new u.vHH(1001,QR?function sz(n,e){return`Cannot find form control ${UV(n,e)}`}(e,t):"")}function $V(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new u.vHH(1002,QR?function oz(n,e){return`Must supply a value for form control ${UV(n,e)}`}(e,i):"")})}class UT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vw}get invalid(){return this.status===LT}get pending(){return this.status==Im}get disabled(){return this.status===ww}get enabled(){return this.status!==ww}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FV(e,this._rawAsyncValidators))}hasValidator(e){return kT(this._rawValidators,e)}hasAsyncValidator(e){return kT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Im,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ww,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vw,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vw||this.status===Im)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ww:vw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Im,this._hasOwnPendingAsyncValidator=!0;const t=DV(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?ww:this.errors?LT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Im)?Im:this._anyControlsHaveStatus(LT)?LT:vw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){VT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function az(n){return Array.isArray(n)?GR(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function lz(n){return Array.isArray(n)?ZR(n):n||null}(this._rawAsyncValidators)}}class bw extends UT{constructor(e,t,r){super(JR(t),XR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$V(this,!0,e),Object.keys(e).forEach(r=>{BV(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class jV extends bw{}const Yh=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ew}),Ew="always";function Cw(n,e,t=Ew){eN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function cz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&HV(n,e)})}(n,e),function hz(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function dz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&HV(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function uz(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function $T(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),HT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function jT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eN(n,e){const t=PV(n);null!==e.validator?n.setValidators(NV(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=OV(n);null!==e.asyncValidator?n.setAsyncValidators(NV(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();jT(e._rawValidators,i),jT(e._rawAsyncValidators,i)}function HT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=PV(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=OV(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return jT(e._rawValidators,r),jT(e._rawAsyncValidators,r),t}function HV(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function GV(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ZV(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Tw=class extends UT{constructor(e=null,t,r){super(JR(t),XR(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),VT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ZV(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ZV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Dw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const bz={provide:No,useExisting:(0,u.Gpc)(()=>Aw),multi:!0};let Aw=(()=>{class n extends Wh{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([bz]),u.qOj]}),n})(),JV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const sN=new u.OlP("NgModelWithFormControlWarning"),Dz={provide:Li,useExisting:(0,u.Gpc)(()=>Qh)};let Qh=(()=>{class n extends Li{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(HT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Cw(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){$T(t.control||null,t,!1),function mz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function qV(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&($T(r||null,t),(n=>n instanceof Tw)(i)&&(Cw(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function zV(n,e){eN(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function fz(n,e){return HT(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eN(this.form,this),this._oldForm&&HT(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wi,10),u.Y36(Oc,10),u.Y36(Yh,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Dz]),u.qOj,u.TTD]}),n})();const xz={provide:kc,useExisting:(0,u.Gpc)(()=>Tm)};let Tm=(()=>{class n extends kc{set isDisabled(t){}constructor(t,r,i,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function rN(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Kh?t=a:function gz(n){return Object.getPrototypeOf(n.constructor)===Wh}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){this._added||this._setUpControl(),function nN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function BT(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(Li,13),u.Y36(wi,10),u.Y36(Oc,10),u.Y36(No,10),u.Y36(sN,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([xz]),u.qOj,u.TTD]}),n})(),Jh=(()=>{class n{constructor(){this._validator=OT}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):OT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const Vz={provide:wi,useExisting:(0,u.Gpc)(()=>Dm),multi:!0};let Dm=(()=>{class n extends Jh{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=t=>vV}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([Vz]),u.qOj]}),n})(),p3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[JV]}),n})();class g3 extends UT{constructor(e,t,r){super(JR(t),XR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){$V(this,!1,e),e.forEach((r,i)=>{BV(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function m3(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let zT=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return m3(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new bw(i,a)}record(t,r=null){const i=this._reduceControls(t);return new jV(i,r)}control(t,r,i){let a={};return this.useNonNullable?(m3(r)?a=r:(a.validators=r,a.asyncValidators=i),new Tw(t,{...a,nonNullable:!0})):new Tw(t,r,i)}array(t,r,i){const a=t.map(c=>this._createControl(c));return new g3(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Tw||t instanceof UT?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y3=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Yh,useValue:t.callSetDisabledState??Ew}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[p3]}),n})(),zz=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Yh,useValue:t.callSetDisabledState??Ew}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[p3]}),n})();const qz=new u.OlP("recaptcha-language"),Gz=new u.OlP("recaptcha-base-url"),Zz=new u.OlP("recaptcha-nonce-tag"),Wz=new u.OlP("recaptcha-settings"),Kz=new u.OlP("recaptcha-v3-site-key"),Qz_loadScript=function Yz(n,e,t,r,i){window.ng2recaptchaloaded=()=>{e(grecaptcha)};const a=document.createElement("script");a.innerHTML="",a.src=`${r||"https://www.google.com/recaptcha/api.js"}?render=${n}&onload=ng2recaptchaloaded${t}`,i&&(a.nonce=i),a.async=!0,a.defer=!0,document.head.appendChild(a)};let _3=(()=>{class n{constructor(t,r,i,a,c){this.platformId=t,this.language=r,this.baseUrl=i,this.nonce=a,this.v3SiteKey=c,this.init(),this.ready=is(this.platformId)?n.ready.asObservable():et()}init(){if(!n.ready&&is(this.platformId)){const t=new pi(null);n.ready=t,Qz_loadScript(this.v3SiteKey||"explicit",a=>t.next(a),this.language?"&hl="+this.language:"",this.baseUrl,this.nonce)}}}return n.ready=null,n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi),u.LFG(qz,8),u.LFG(Gz,8),u.LFG(Zz,8),u.LFG(Kz,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Jz=0,qT=(()=>{class n{constructor(t,r,i,a){this.elementRef=t,this.loader=r,this.zone=i,this.id="ngrecaptcha-"+Jz++,this.errorMode="default",this.resolved=new u.vpe,this.error=new u.vpe,this.errored=new u.vpe,a&&(this.siteKey=a.siteKey,this.theme=a.theme,this.type=a.type,this.size=a.size,this.badge=a.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{null!=t&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){"invisible"===this.size&&(null!=this.widget?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){null!=this.widget&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return null!=this.widget?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(t){this.error.emit(t),this.errored.emit(t)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){null!=this.widget&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){const t={badge:this.badge,callback:r=>{this.zone.run(()=>this.captchaResponseCallback(r))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};"handled"===this.errorMode&&(t["error-callback"]=(...r)=>{this.zone.run(()=>this.onError(r))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,t),!0===this.executeRequested&&(this.executeRequested=!1,this.execute())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(_3),u.Y36(u.R0b),u.Y36(Wz,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("id",r.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),v3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Xz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[_3],imports:[v3]}),n})(),cN=(()=>{class n{constructor(t){this.host=t,this.requiresControllerReset=!1}writeValue(t){t?this.host.__unsafe_widgetValue!==t&&!1===Boolean(this.host.__unsafe_widgetValue)&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(t){this.onChange=t,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(t){this.onTouched=t}onResolve(t){this.onChange&&this.onChange(t),this.onTouched&&this.onTouched()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(qT))},n.\u0275dir=u.lG2({type:n,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("resolved",function(a){return r.onResolve(a)})},features:[u._Bn([{multi:!0,provide:No,useExisting:(0,u.Gpc)(()=>n)}])]}),n})(),e9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[y3,v3]}),n})();function t9(n,e){1&n&&(u.TgZ(0,"small",34),u._uU(1," Correo electr\xf3nico es requerido"),u.qZA())}function n9(n,e){1&n&&(u.TgZ(0,"small",34),u._uU(1," Clave es requerida"),u.qZA())}function r9(n,e){1&n&&(u.TgZ(0,"small",34),u._uU(1," Nombre es requerido"),u.qZA())}function i9(n,e){1&n&&(u.TgZ(0,"small",34),u._uU(1," Apellido es requerido"),u.qZA())}function s9(n,e){1&n&&(u.TgZ(0,"small",34),u._uU(1," DNI es requerido. Ingrese s\xf3lo n\xfameros"),u.qZA())}function o9(n,e){1&n&&(u.TgZ(0,"small",34),u._uU(1," Obra Social es requerida"),u.qZA())}function a9(n,e){1&n&&(u.TgZ(0,"small",34),u._uU(1," Edad es requerida"),u.qZA())}function l9(n,e){1&n&&(u.TgZ(0,"small",34),u._uU(1," Imagen de perfil es requerida"),u.qZA())}function u9(n,e){1&n&&(u.TgZ(0,"small",34),u._uU(1," Imagen Secundaria es requerida"),u.qZA())}function c9(n,e){1&n&&u._UZ(0,"span",35)}let w3=(()=>{class n{constructor(t,r,i,a){this.auth=t,this.router=r,this.fb=i,this.toast=a,this.imgPerfil="",this.imgSecundaria="",this.loading=!1}ngOnInit(){this.credentials=this.fb.group({name:["",[gt.required,gt.minLength(2),gt.maxLength(24)]],lastName:["",[gt.required,gt.minLength(2),gt.maxLength(24)]],email:["",[gt.required,gt.email]],password:["",[gt.required,gt.minLength(6)]],dni:["",[gt.required,gt.minLength(8)]],obraSocial:["",[gt.required,gt.minLength(3),gt.maxLength(24)]],edad:["",[gt.required,gt.max(100)]],recaptcha:["",gt.required]})}register(){var t=this;return(0,X.Z)(function*(){if(t.credentials.invalid||""==t.imgPerfil||""==t.imgSecundaria)t.toast.showError("Es requerido cargar dos imagenes","Revise los campos.");else{t.loading=!0;const r={email:t.credentials.get("email")?.value,password:t.credentials.get("password")?.value,name:t.credentials.get("name")?.value,lastName:t.credentials.get("lastName")?.value,dni:t.credentials.get("dni")?.value,obraSocial:t.credentials.get("obraSocial")?.value,edad:t.credentials.get("edad")?.value,imgPerfil:t.imgPerfil,imgSecundaria:t.imgSecundaria,perfil:"paciente"};t.auth.register(r).then(()=>{setTimeout(()=>{t.toast.showSuccess("Registro completado.","Por favor, revise su correo electr\xf3nico para validar su cuenta."),t.loading=!1,t.router.navigateByUrl("",{replaceUrl:!0})},1e3)}).catch(i=>{t.toast.showError("Ocurri\xf3 un problema"),console.log("err",i),t.loading=!1})}})()}uploadImage(t,r){var i=this;return(0,X.Z)(function*(){try{i.loading=!0;const a=t.target.files[0],c="users/img_"+Date.now(),f=PT(),m=Cm(f,c);qR(m,a).then(function(){var v=(0,X.Z)(function*(C){i.loading=!1,console.log("img subida ok!"),yield zR(Cm(f,c)).then(T=>{1===r?i.imgPerfil=T:2===r&&(i.imgSecundaria=T)})});return function(C){return v.apply(this,arguments)}}()).catch(v=>{i.loading=!1,console.log("err img",v)})}catch(a){i.loading=!1,console.log("err img",a)}})()}resolved(t){console.log(`Resolved response token: ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(hw),u.Y36(Yn),u.Y36(zT),u.Y36(wm))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-registro-paciente"]],decls:68,vars:20,consts:[[3,"formGroup"],[1,"row"],[1,"form-group","col-6"],["for","email"],["formControlName","email","type","text","id","email","name","email","placeholder","email@email.com",1,"form-control",3,"ngModel","ngModelChange"],["style","color: rgb(255, 0, 0); font-weight: bold;",4,"ngIf"],["for","password"],["formControlName","password","type","password","id","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-4","mt-1"],["for","name"],["formControlName","name","type","text","id","name","name","name",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["formControlName","lastName","type","lastName","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["for","dni"],["formControlName","dni","type","number","id","dni","name","dni","placeholder","30300300",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-3","mt-1"],["for","obraSocial"],["formControlName","obraSocial","type","text","id","obraSocial","name","obraSocial",1,"form-control",3,"ngModel","ngModelChange"],["for","edad"],["formControlName","edad","type","number","id","edad","name","edad",1,"form-control",3,"ngModel","ngModelChange"],["for","profilePic"],["type","file","id","profilePic",1,"form-control-file",3,"change"],["for","imagenSecundaria"],["type","file","id","imagenSecundaria",1,"form-control-file",3,"change"],[1,"mb-1"],["siteKey","6Le7u9AmAAAAALwcdOkoRKrfZyn1WmolxD7la98R","formControlName","recaptcha","required","",3,"resolved"],[1,"row",2,"margin-top","0"],[1,"col-4"],["role","button",1,"button-33",3,"disabled","click"],[1,"fa-solid","fa-check"],["class","loader mt-0",4,"ngIf"],[3,"routerLink"],["role","button",1,"button-33",2,"background-color","#e24d08"],[1,"fa-solid","fa-xmark"],[2,"color","rgb(255, 0, 0)","font-weight","bold"],[1,"loader","mt-0"]],template:function(t,r){if(1&t&&(u.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),u._uU(4,"Correo electr\xf3nico"),u.qZA(),u.TgZ(5,"input",4),u.NdJ("ngModelChange",function(a){return r.email=a}),u.qZA(),u.YNc(6,t9,2,0,"small",5),u.qZA(),u.TgZ(7,"div",2)(8,"label",6),u._uU(9,"Contrase\xf1a"),u.qZA(),u.TgZ(10,"input",7),u.NdJ("ngModelChange",function(a){return r.password=a}),u.qZA(),u.YNc(11,n9,2,0,"small",5),u._UZ(12,"br"),u.qZA(),u.TgZ(13,"div",8)(14,"label",9),u._uU(15,"Nombre"),u.qZA(),u.TgZ(16,"input",10),u.NdJ("ngModelChange",function(a){return r.name=a}),u.qZA(),u.YNc(17,r9,2,0,"small",5),u.qZA(),u.TgZ(18,"div",8)(19,"label",11),u._uU(20,"Apellido"),u.qZA(),u.TgZ(21,"input",12),u.NdJ("ngModelChange",function(a){return r.lastName=a}),u.qZA(),u.YNc(22,i9,2,0,"small",5),u._UZ(23,"br"),u.qZA(),u.TgZ(24,"div",8)(25,"label",13),u._uU(26,"DNI"),u.qZA(),u.TgZ(27,"input",14),u.NdJ("ngModelChange",function(a){return r.dni=a}),u.qZA(),u.YNc(28,s9,2,0,"small",5),u._UZ(29,"br"),u.qZA(),u.TgZ(30,"div",15)(31,"label",16),u._uU(32,"Obra Social"),u.qZA(),u.TgZ(33,"input",17),u.NdJ("ngModelChange",function(a){return r.obraSocial=a}),u.qZA(),u.YNc(34,o9,2,0,"small",5),u._UZ(35,"br"),u.qZA(),u.TgZ(36,"div",15)(37,"label",18),u._uU(38,"Edad"),u.qZA(),u.TgZ(39,"input",19),u.NdJ("ngModelChange",function(a){return r.edad=a}),u.qZA(),u.YNc(40,a9,2,0,"small",5),u._UZ(41,"br"),u.qZA(),u.TgZ(42,"div",15)(43,"label",20),u._uU(44,"Imagen de Perfil"),u.qZA(),u.TgZ(45,"input",21),u.NdJ("change",function(a){return r.uploadImage(a,1)}),u.qZA(),u.YNc(46,l9,2,0,"small",5),u._UZ(47,"br"),u.qZA(),u.TgZ(48,"div",15)(49,"label",22),u._uU(50,"Imagen Secundaria"),u.qZA(),u.TgZ(51,"input",23),u.NdJ("change",function(a){return r.uploadImage(a,2)}),u.qZA(),u.YNc(52,u9,2,0,"small",5),u._UZ(53,"br"),u.qZA(),u.TgZ(54,"div",24)(55,"re-captcha",25),u.NdJ("resolved",function(a){return r.resolved(a)}),u.qZA()()()(),u.TgZ(56,"div",26)(57,"div",27)(58,"button",28),u.NdJ("click",function(){return r.register()}),u._UZ(59,"i",29),u._uU(60," ACEPTAR "),u.qZA()(),u.TgZ(61,"div",27),u.YNc(62,c9,1,0,"span",30),u.qZA(),u.TgZ(63,"div",27)(64,"a",31)(65,"button",32),u._UZ(66,"i",33),u._uU(67," CANCELAR "),u.qZA()()()()),2&t){let i,a,c,f,m,v,C,T,M;u.Q6J("formGroup",r.credentials),u.xp6(5),u.Q6J("ngModel",r.email),u.xp6(1),u.Q6J("ngIf",(null==(i=r.credentials.get("email"))?null:i.invalid)&&(null==(i=r.credentials.get("email"))?null:i.touched)),u.xp6(4),u.Q6J("ngModel",r.password),u.xp6(1),u.Q6J("ngIf",(null==(a=r.credentials.get("password"))?null:a.invalid)&&(null==(a=r.credentials.get("password"))?null:a.touched)),u.xp6(5),u.Q6J("ngModel",r.name),u.xp6(1),u.Q6J("ngIf",(null==(c=r.credentials.get("name"))?null:c.invalid)&&(null==(c=r.credentials.get("name"))?null:c.touched)),u.xp6(4),u.Q6J("ngModel",r.lastName),u.xp6(1),u.Q6J("ngIf",(null==(f=r.credentials.get("lastName"))?null:f.invalid)&&(null==(f=r.credentials.get("lastName"))?null:f.touched)),u.xp6(5),u.Q6J("ngModel",r.dni),u.xp6(1),u.Q6J("ngIf",(null==(m=r.credentials.get("dni"))?null:m.invalid)&&(null==(m=r.credentials.get("dni"))?null:m.touched)),u.xp6(5),u.Q6J("ngModel",r.obraSocial),u.xp6(1),u.Q6J("ngIf",(null==(v=r.credentials.get("obraSocial"))?null:v.invalid)&&(null==(v=r.credentials.get("obraSocial"))?null:v.touched)),u.xp6(5),u.Q6J("ngModel",r.edad),u.xp6(1),u.Q6J("ngIf",(null==(C=r.credentials.get("edad"))?null:C.invalid)&&(null==(C=r.credentials.get("edad"))?null:C.touched)),u.xp6(6),u.Q6J("ngIf",(null==(T=r.credentials.get("profilePic"))?null:T.invalid)&&(null==(T=r.credentials.get("profilePic"))?null:T.touched)),u.xp6(6),u.Q6J("ngIf",(null==(M=r.credentials.get("imagenSecundaria"))?null:M.invalid)&&(null==(M=r.credentials.get("imagenSecundaria"))?null:M.touched)),u.xp6(6),u.Q6J("disabled",r.credentials.invalid),u.xp6(4),u.Q6J("ngIf",r.loading),u.xp6(2),u.Q6J("routerLink","")}},dependencies:[Lr,bo,Dw,Kh,Aw,yw,_w,Dm,qT,cN,Qh,Tm],styles:[".card[_ngcontent-%COMP%]{text-align:center;background:#ebf4f5;background:linear-gradient(to right,#ebf4f5,#b5c6e0);opacity:.95;border-radius:.75rem;border-style:groove;box-shadow:10px 5px 5px #1558a5cc;color:#000;margin-top:2em}h2[_ngcontent-%COMP%]{font-family:Rubik,serif;font-size:48px;text-shadow:5px 2px 2px #849fc7}@keyframes _ngcontent-%COMP%_scale-up-top{0%{transform:scale(.5);transform-origin:50% 0%}to{transform:scale(1);transform-origin:50% 0%}}.scale-up-top[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-up-top .4s cubic-bezier(.39,.575,.565,1) both}.card-img-top[_ngcontent-%COMP%]{display:block;width:10%;margin:auto;opacity:1}.link[_ngcontent-%COMP%]{color:#e7e5e5;font-size:24px}.button-33[_ngcontent-%COMP%]{background-color:#1abae2;border-radius:10px;box-shadow:#1f0a7c33 0 -25px 18px -14px inset,#1f0a7c33 0 1px 2px,#1f0a7c33 0 2px 4px,#1f0a7c33 0 4px 8px,#1f0a7c33 0 8px 16px,#1f0a7c33 0 16px 32px;color:#000;cursor:pointer;display:inline-block;font-family:CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;padding:7px 20px;text-align:center;text-decoration:none;transition:all .25s;border:0;font-size:18px;font-weight:450;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-33[_ngcontent-%COMP%]:hover{box-shadow:#0d21d159 0 -25px 18px -14px inset,#0d21d159 0 1px 2px,#0d21d159 0 2px 4px,#0d21d159 0 4px 8px,#0d21d159 0 8px 16px,#0d21d159 0 16px 32px;transform:scale(1.05) rotate(-1deg)}.img-btn[_ngcontent-%COMP%]{opacity:1;transition:.5s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden}.img-btn[_ngcontent-%COMP%]:hover{opacity:.8;background-color:#1abae2;border-radius:50px}.clicked[_ngcontent-%COMP%]{opacity:1;background-color:#1abae2;border-radius:50px}.button-33[_ngcontent-%COMP%]:disabled{background-color:#94999bc9;box-shadow:#1c1f352d 0 -25px 18px -14px inset,#1c1f352d 0 1px 2px,#1c1f352d 0 2px 4px,#1c1f352d 0 4px 8px,#1c1f352d 0 8px 16px,#1c1f352d 0 16px 32px}.loader[_ngcontent-%COMP%]{width:30px;height:30px;border:5px solid #1d1c1ce3;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();function d9(n,e){1&n&&(u.TgZ(0,"small",31),u._uU(1," Correo electr\xf3nico es requerido"),u.qZA())}function h9(n,e){1&n&&(u.TgZ(0,"small",31),u._uU(1," Clave es requerida"),u.qZA())}function f9(n,e){1&n&&(u.TgZ(0,"small",31),u._uU(1," Nombre es requerido"),u.qZA())}function p9(n,e){1&n&&(u.TgZ(0,"small",31),u._uU(1," Apellido es requerido"),u.qZA())}function g9(n,e){1&n&&(u.TgZ(0,"small",31),u._uU(1," DNI es requerido. Ingrese s\xf3lo n\xfameros"),u.qZA())}function m9(n,e){1&n&&(u.TgZ(0,"small",31),u._uU(1," Obra Social es requerida"),u.qZA())}function y9(n,e){1&n&&(u.TgZ(0,"small",31),u._uU(1," Edad es requerida"),u.qZA())}function _9(n,e){1&n&&(u.TgZ(0,"small",31),u._uU(1," Imagen de perfil es requerida"),u.qZA())}function v9(n,e){1&n&&u._UZ(0,"span",32)}let b3=(()=>{class n{constructor(t,r,i,a){this.auth=t,this.router=r,this.fb=i,this.toast=a,this.imgPerfil="",this.loading=!1}ngOnInit(){this.credentials=this.fb.group({name:["",[gt.required,gt.minLength(2),gt.maxLength(24)]],lastName:["",[gt.required,gt.minLength(2),gt.maxLength(24)]],email:["",[gt.required,gt.email]],password:["",[gt.required,gt.minLength(6)]],dni:["",[gt.required,gt.minLength(8)]],especialidad:["",[gt.required,gt.minLength(3),gt.maxLength(24)]],edad:["",[gt.required,gt.max(100)]],recaptcha:["",gt.required]})}register(){var t=this;return(0,X.Z)(function*(){if(t.credentials.invalid||""==t.imgPerfil)t.toast.showError("Es requerido cargar una imagen de perfil","Revise los campos.");else{t.loading=!0;const r={email:t.credentials.get("email")?.value,password:t.credentials.get("password")?.value,name:t.credentials.get("name")?.value,lastName:t.credentials.get("lastName")?.value,dni:t.credentials.get("dni")?.value,especialidad:t.credentials.get("especialidad")?.value,edad:t.credentials.get("edad")?.value,perfil:"especialista",imgPerfil:t.imgPerfil,habilitado:!1};t.auth.register(r).then(()=>{setTimeout(()=>{t.toast.showSuccess("Registro completado.","Por favor, revise su correo electr\xf3nico para validar su cuenta y aguarde ser aprobado."),t.loading=!1,t.router.navigateByUrl("",{replaceUrl:!0})},1e3)}).catch(i=>{t.toast.showError("Ocurri\xf3 un problema"),console.log("err",i),t.loading=!1})}})()}uploadImage(t){var r=this;return(0,X.Z)(function*(){try{r.loading=!0;const i=t.target.files[0],a="users/img_"+Date.now(),c=PT(),f=Cm(c,a);qR(f,i).then(function(){var m=(0,X.Z)(function*(v){r.loading=!1,console.log("img subida ok!"),yield zR(Cm(c,a)).then(C=>{r.imgPerfil=C})});return function(v){return m.apply(this,arguments)}}()).catch(m=>{r.loading=!1,console.log("err img",m)})}catch(i){r.loading=!1,console.log("err img",i)}})()}resolved(t){console.log(`Resolved response token: ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(hw),u.Y36(Yn),u.Y36(zT),u.Y36(wm))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-registro-especialista"]],decls:62,vars:19,consts:[[3,"formGroup"],[1,"row"],[1,"form-group","col-6"],["for","email"],["formControlName","email","type","text","id","email","name","email","placeholder","email@email.com",1,"form-control",3,"ngModel","ngModelChange"],["style","color: rgb(255, 0, 0); font-weight: bold;",4,"ngIf"],["for","password"],["formControlName","password","type","password","id","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-4","mt-1"],["for","name"],["formControlName","name","type","text","id","name","name","name",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["formControlName","lastName","type","lastName","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["for","dni"],["formControlName","dni","type","number","id","dni","name","dni","placeholder","30300300",1,"form-control",3,"ngModel","ngModelChange"],["for","especialidad"],["formControlName","especialidad","type","text","id","especialidad","name","especialidad",1,"form-control",3,"ngModel","ngModelChange"],["for","edad"],["formControlName","edad","type","number","id","edad","name","edad",1,"form-control",3,"ngModel","ngModelChange"],["for","profilePic"],["type","file","id","profilePic",1,"form-control-file",3,"change"],[1,"mb-1"],["siteKey","6Le7u9AmAAAAALwcdOkoRKrfZyn1WmolxD7la98R","formControlName","recaptcha","required","",3,"resolved"],[1,"row",2,"margin-top","0"],[1,"col-4"],["role","button",1,"button-33",3,"disabled","click"],[1,"fa-solid","fa-check"],["class","loader mt-0",4,"ngIf"],[3,"routerLink"],["role","button",1,"button-33",2,"background-color","#e24d08"],[1,"fa-solid","fa-xmark"],[2,"color","rgb(255, 0, 0)","font-weight","bold"],[1,"loader","mt-0"]],template:function(t,r){if(1&t&&(u.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),u._uU(4,"Correo electr\xf3nico"),u.qZA(),u.TgZ(5,"input",4),u.NdJ("ngModelChange",function(a){return r.email=a}),u.qZA(),u.YNc(6,d9,2,0,"small",5),u.qZA(),u.TgZ(7,"div",2)(8,"label",6),u._uU(9,"Contrase\xf1a"),u.qZA(),u.TgZ(10,"input",7),u.NdJ("ngModelChange",function(a){return r.password=a}),u.qZA(),u.YNc(11,h9,2,0,"small",5),u._UZ(12,"br"),u.qZA(),u.TgZ(13,"div",8)(14,"label",9),u._uU(15,"Nombre"),u.qZA(),u.TgZ(16,"input",10),u.NdJ("ngModelChange",function(a){return r.name=a}),u.qZA(),u.YNc(17,f9,2,0,"small",5),u.qZA(),u.TgZ(18,"div",8)(19,"label",11),u._uU(20,"Apellido"),u.qZA(),u.TgZ(21,"input",12),u.NdJ("ngModelChange",function(a){return r.lastName=a}),u.qZA(),u.YNc(22,p9,2,0,"small",5),u._UZ(23,"br"),u.qZA(),u.TgZ(24,"div",8)(25,"label",13),u._uU(26,"DNI"),u.qZA(),u.TgZ(27,"input",14),u.NdJ("ngModelChange",function(a){return r.dni=a}),u.qZA(),u.YNc(28,g9,2,0,"small",5),u._UZ(29,"br"),u.qZA(),u.TgZ(30,"div",8)(31,"label",15),u._uU(32,"Especialidad"),u.qZA(),u.TgZ(33,"input",16),u.NdJ("ngModelChange",function(a){return r.especialidad=a}),u.qZA(),u.YNc(34,m9,2,0,"small",5),u._UZ(35,"br"),u.qZA(),u.TgZ(36,"div",8)(37,"label",17),u._uU(38,"Edad"),u.qZA(),u.TgZ(39,"input",18),u.NdJ("ngModelChange",function(a){return r.edad=a}),u.qZA(),u.YNc(40,y9,2,0,"small",5),u._UZ(41,"br"),u.qZA(),u.TgZ(42,"div",8)(43,"label",19),u._uU(44,"Imagen de Perfil"),u.qZA(),u.TgZ(45,"input",20),u.NdJ("change",function(a){return r.uploadImage(a)}),u.qZA(),u.YNc(46,_9,2,0,"small",5),u._UZ(47,"br"),u.qZA(),u.TgZ(48,"div",21)(49,"re-captcha",22),u.NdJ("resolved",function(a){return r.resolved(a)}),u.qZA()()()(),u.TgZ(50,"div",23)(51,"div",24)(52,"button",25),u.NdJ("click",function(){return r.register()}),u._UZ(53,"i",26),u._uU(54," ACEPTAR "),u.qZA()(),u.TgZ(55,"div",24),u.YNc(56,v9,1,0,"span",27),u.qZA(),u.TgZ(57,"div",24)(58,"a",28)(59,"button",29),u._UZ(60,"i",30),u._uU(61," CANCELAR "),u.qZA()()()()),2&t){let i,a,c,f,m,v,C,T;u.Q6J("formGroup",r.credentials),u.xp6(5),u.Q6J("ngModel",r.email),u.xp6(1),u.Q6J("ngIf",(null==(i=r.credentials.get("email"))?null:i.invalid)&&(null==(i=r.credentials.get("email"))?null:i.touched)),u.xp6(4),u.Q6J("ngModel",r.password),u.xp6(1),u.Q6J("ngIf",(null==(a=r.credentials.get("password"))?null:a.invalid)&&(null==(a=r.credentials.get("password"))?null:a.touched)),u.xp6(5),u.Q6J("ngModel",r.name),u.xp6(1),u.Q6J("ngIf",(null==(c=r.credentials.get("name"))?null:c.invalid)&&(null==(c=r.credentials.get("name"))?null:c.touched)),u.xp6(4),u.Q6J("ngModel",r.lastName),u.xp6(1),u.Q6J("ngIf",(null==(f=r.credentials.get("lastName"))?null:f.invalid)&&(null==(f=r.credentials.get("lastName"))?null:f.touched)),u.xp6(5),u.Q6J("ngModel",r.dni),u.xp6(1),u.Q6J("ngIf",(null==(m=r.credentials.get("dni"))?null:m.invalid)&&(null==(m=r.credentials.get("dni"))?null:m.touched)),u.xp6(5),u.Q6J("ngModel",r.especialidad),u.xp6(1),u.Q6J("ngIf",(null==(v=r.credentials.get("especialidad"))?null:v.invalid)&&(null==(v=r.credentials.get("especialidad"))?null:v.touched)),u.xp6(5),u.Q6J("ngModel",r.edad),u.xp6(1),u.Q6J("ngIf",(null==(C=r.credentials.get("edad"))?null:C.invalid)&&(null==(C=r.credentials.get("edad"))?null:C.touched)),u.xp6(6),u.Q6J("ngIf",(null==(T=r.credentials.get("profilePic"))?null:T.invalid)&&(null==(T=r.credentials.get("profilePic"))?null:T.touched)),u.xp6(6),u.Q6J("disabled",r.credentials.invalid),u.xp6(4),u.Q6J("ngIf",r.loading),u.xp6(2),u.Q6J("routerLink","")}},dependencies:[Lr,bo,Dw,Kh,Aw,yw,_w,Dm,qT,cN,Qh,Tm],styles:[".card[_ngcontent-%COMP%]{text-align:center;background:#ebf4f5;background:linear-gradient(to right,#ebf4f5,#b5c6e0);opacity:.95;border-radius:.75rem;border-style:groove;box-shadow:10px 5px 5px #1558a5cc;color:#000;margin-top:2em}h2[_ngcontent-%COMP%]{font-family:Rubik,serif;font-size:48px;text-shadow:5px 2px 2px #849fc7}@keyframes _ngcontent-%COMP%_scale-up-top{0%{transform:scale(.5);transform-origin:50% 0%}to{transform:scale(1);transform-origin:50% 0%}}.scale-up-top[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-up-top .4s cubic-bezier(.39,.575,.565,1) both}.card-img-top[_ngcontent-%COMP%]{display:block;width:10%;margin:auto;opacity:1}.link[_ngcontent-%COMP%]{color:#e7e5e5;font-size:24px}.button-33[_ngcontent-%COMP%]{background-color:#1abae2;border-radius:10px;box-shadow:#1f0a7c33 0 -25px 18px -14px inset,#1f0a7c33 0 1px 2px,#1f0a7c33 0 2px 4px,#1f0a7c33 0 4px 8px,#1f0a7c33 0 8px 16px,#1f0a7c33 0 16px 32px;color:#000;cursor:pointer;display:inline-block;font-family:CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;padding:7px 20px;text-align:center;text-decoration:none;transition:all .25s;border:0;font-size:18px;font-weight:450;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-33[_ngcontent-%COMP%]:hover{box-shadow:#0d21d159 0 -25px 18px -14px inset,#0d21d159 0 1px 2px,#0d21d159 0 2px 4px,#0d21d159 0 4px 8px,#0d21d159 0 8px 16px,#0d21d159 0 16px 32px;transform:scale(1.05) rotate(-1deg)}.img-btn[_ngcontent-%COMP%]{opacity:1;transition:.5s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden}.img-btn[_ngcontent-%COMP%]:hover{opacity:.8;background-color:#1abae2;border-radius:50px}.clicked[_ngcontent-%COMP%]{opacity:1;background-color:#1abae2;border-radius:50px}.button-33[_ngcontent-%COMP%]:disabled{background-color:#94999bc9;box-shadow:#1c1f352d 0 -25px 18px -14px inset,#1c1f352d 0 1px 2px,#1c1f352d 0 2px 4px,#1c1f352d 0 4px 8px,#1c1f352d 0 8px 16px,#1c1f352d 0 16px 32px}.loader[_ngcontent-%COMP%]{width:30px;height:30px;border:5px solid #1d1c1ce3;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();function w9(n,e){1&n&&(u.TgZ(0,"p",14),u._uU(1," Por favor, registre sus datos. "),u.qZA())}function b9(n,e){1&n&&u._UZ(0,"app-registro-paciente")}function E9(n,e){1&n&&u._UZ(0,"app-registro-especialista")}function C9(n,e){1&n&&(u.TgZ(0,"div",15)(1,"div",16)(2,"a",17)(3,"button",18),u._UZ(4,"i",19),u._uU(5," VOLVER "),u.qZA()()()()),2&n&&(u.xp6(2),u.Q6J("routerLink",""))}const I9=function(){return{width:"3.5rem","margin-right":"1em","border-radius":"50%"}},T9=function(){return{width:"3.5rem","margin-left":"1em","border-radius":"50%"}};let D9=(()=>{class n{constructor(){this.iconPatient="assets/img/patient.png",this.iconSpecialist="assets/img/specialist.png",this.tipoUsuario=""}ngOnInit(){}onClickSeleccionar(t){"paciente"==t?this.tipoUsuario="PACIENTE":"especialista"==t&&(this.tipoUsuario="ESPECIALISTA")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-registro"]],decls:20,vars:13,consts:[[1,"row","wrapper"],[1,"col-3","sidebar"],[1,"col-9",2,"margin-left","16em"],[1,"container"],[1,"row"],[1,"card","col-9","scale-up-top",2,"height","auto","width","100%","margin-left","1em"],[1,"card-body"],[1,"card-title"],[1,"card-text","mt-1",2,"font-size","12px"],[2,"display","flex","justify-content","space-between"],["alt","ico",1,"card-img-top","mt-1","img-btn",3,"src","ngStyle","ngClass","click"],["class","card-text mt-1","style","font-size: 20px;",4,"ngIf"],[4,"ngIf"],["class","row","style","margin-top: 3em;",4,"ngIf"],[1,"card-text","mt-1",2,"font-size","20px"],[1,"row",2,"margin-top","3em"],[1,"col-12"],[3,"routerLink"],["role","button",1,"button-33"],[1,"fa-solid","fa-circle-left"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"app-navbar"),u.qZA(),u.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"h2",7),u._uU(9),u.qZA(),u.TgZ(10,"p",8)(11,"strong"),u._uU(12,"Paciente / Especialista"),u.qZA()(),u.TgZ(13,"div",9)(14,"img",10),u.NdJ("click",function(){return r.onClickSeleccionar("paciente")}),u.qZA(),u.TgZ(15,"img",10),u.NdJ("click",function(){return r.onClickSeleccionar("especialista")}),u.qZA()(),u.YNc(16,w9,2,0,"p",11),u.YNc(17,b9,1,0,"app-registro-paciente",12),u.YNc(18,E9,1,0,"app-registro-especialista",12),u.YNc(19,C9,6,1,"div",13),u.qZA()()()()()()),2&t&&(u.xp6(9),u.hij("REGISTRO ",r.tipoUsuario,""),u.xp6(5),u.Q6J("src",r.iconPatient,u.LSH)("ngStyle",u.DdM(11,I9))("ngClass","PACIENTE"==r.tipoUsuario?"clicked":""),u.xp6(1),u.Q6J("src",r.iconSpecialist,u.LSH)("ngStyle",u.DdM(12,T9))("ngClass","ESPECIALISTA"==r.tipoUsuario?"clicked":""),u.xp6(1),u.Q6J("ngIf",""!=r.tipoUsuario),u.xp6(1),u.Q6J("ngIf","PACIENTE"==r.tipoUsuario),u.xp6(1),u.Q6J("ngIf","ESPECIALISTA"==r.tipoUsuario),u.xp6(1),u.Q6J("ngIf",""==r.tipoUsuario))},dependencies:[St,Lr,Ti,bo,AT,w3,b3],styles:[".card[_ngcontent-%COMP%]{text-align:center;background:#ebf4f5;background:linear-gradient(to right,#ebf4f5,#b5c6e0);opacity:.95;border-radius:.75rem;border-style:groove;box-shadow:10px 5px 5px #1558a5cc;color:#000;margin-top:2em}h2[_ngcontent-%COMP%]{font-family:Rubik,serif;font-size:48px;text-shadow:5px 2px 2px #849fc7}@keyframes _ngcontent-%COMP%_scale-up-top{0%{transform:scale(.5);transform-origin:50% 0%}to{transform:scale(1);transform-origin:50% 0%}}.scale-up-top[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-up-top .4s cubic-bezier(.39,.575,.565,1) both}.card-img-top[_ngcontent-%COMP%]{display:block;width:10%;margin:auto;opacity:1}.link[_ngcontent-%COMP%]{color:#e7e5e5;font-size:24px}.button-33[_ngcontent-%COMP%]{background-color:#1abae2;border-radius:10px;box-shadow:#1f0a7c33 0 -25px 18px -14px inset,#1f0a7c33 0 1px 2px,#1f0a7c33 0 2px 4px,#1f0a7c33 0 4px 8px,#1f0a7c33 0 8px 16px,#1f0a7c33 0 16px 32px;color:#000;cursor:pointer;display:inline-block;font-family:CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;padding:7px 20px;text-align:center;text-decoration:none;transition:all .25s;border:0;font-size:18px;font-weight:450;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-33[_ngcontent-%COMP%]:hover{box-shadow:#0d21d159 0 -25px 18px -14px inset,#0d21d159 0 1px 2px,#0d21d159 0 2px 4px,#0d21d159 0 4px 8px,#0d21d159 0 8px 16px,#0d21d159 0 16px 32px;transform:scale(1.05) rotate(-1deg)}.img-btn[_ngcontent-%COMP%]{opacity:1;transition:.5s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden}.img-btn[_ngcontent-%COMP%]:hover{opacity:.8;background-color:#1abae2;border-radius:50px}.clicked[_ngcontent-%COMP%]{opacity:1;background-color:#1abae2;border-radius:50px}"]}),n})();function A9(n,e){1&n&&(u.TgZ(0,"small",25),u._uU(1," Correo electr\xf3nico es requerido"),u.qZA())}function S9(n,e){1&n&&(u.TgZ(0,"small",25),u._uU(1," Clave es requerida"),u.qZA())}const Am=function(){return{width:"3rem",height:"3.5rem","margin-left":"1em","border-radius":"50%"}};function x9(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",26)(1,"div",27)(2,"img",28),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onClickSeleccionar(i.usersAcceso[0],1))}),u.qZA()(),u.TgZ(3,"div",27)(4,"img",28),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onClickSeleccionar(i.usersAcceso[1],2))}),u.qZA()(),u.TgZ(5,"div",27)(6,"img",28),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onClickSeleccionar(i.usersAcceso[2],3))}),u.qZA()(),u.TgZ(7,"div",27)(8,"img",28),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onClickSeleccionar(i.usersAcceso[3],4))}),u.qZA()(),u.TgZ(9,"div",27)(10,"img",28),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onClickSeleccionar(i.usersAcceso[4],5))}),u.qZA()(),u.TgZ(11,"div",27)(12,"img",28),u.NdJ("click",function(){u.CHM(t);const i=u.oxw();return u.KtG(i.onClickSeleccionar(i.usersAcceso[4],6))}),u.qZA()()()}if(2&n){const t=u.oxw();u.xp6(2),u.Q6J("src",t.usersAcceso[0].imgPerfil,u.LSH)("ngStyle",u.DdM(18,Am))("ngClass",1==t.seleccionado?"clicked":""),u.xp6(2),u.Q6J("src",t.usersAcceso[1].imgPerfil,u.LSH)("ngStyle",u.DdM(19,Am))("ngClass",2==t.seleccionado?"clicked":""),u.xp6(2),u.Q6J("src",t.usersAcceso[2].imgPerfil,u.LSH)("ngStyle",u.DdM(20,Am))("ngClass",3==t.seleccionado?"clicked":""),u.xp6(2),u.Q6J("src",t.usersAcceso[3].imgPerfil,u.LSH)("ngStyle",u.DdM(21,Am))("ngClass",4==t.seleccionado?"clicked":""),u.xp6(2),u.Q6J("src",t.usersAcceso[4].imgPerfil,u.LSH)("ngStyle",u.DdM(22,Am))("ngClass",5==t.seleccionado?"clicked":""),u.xp6(2),u.Q6J("src",t.usersAcceso[5].imgPerfil,u.LSH)("ngStyle",u.DdM(23,Am))("ngClass",6==t.seleccionado?"clicked":"")}}function M9(n,e){1&n&&u._UZ(0,"span",29)}const R9=function(){return{width:"6.5rem"}};let N9=(()=>{class n{constructor(t,r,i,a){this.auth=t,this.router=r,this.fb=i,this.toast=a,this.icon="assets/img/doc.png",this.usersAcceso=[{email:"julian@mail.com",imgPerfil:"https://firebasestorage.googleapis.com/v0/b/clinica-online-74b81.appspot.com/o/users%2Fimg_1687810250639?alt=media&token=936f7664-6962-46b8-af2b-9d11f3e93cf5"},{email:"mabel@mail.com",imgPerfil:"https://firebasestorage.googleapis.com/v0/b/clinica-online-74b81.appspot.com/o/users%2Fimg_1687810070736?alt=media&token=db1cfe1e-7fbb-4ad6-9184-a46e96fff954"},{email:"hector@mail.com",imgPerfil:"https://firebasestorage.googleapis.com/v0/b/clinica-online-74b81.appspot.com/o/users%2Fimg_1687809184716?alt=media&token=61e135b7-3ab5-4bc4-b95f-cbc2170637b1"},{email:"maria@mail.com",imgPerfil:"https://firebasestorage.googleapis.com/v0/b/clinica-online-74b81.appspot.com/o/users%2Fimg_1687807022658?alt=media&token=1f2c9572-d8c9-4131-b0e7-3ba794e81c52"},{email:"clinica@mail.com",imgPerfil:"https://firebasestorage.googleapis.com/v0/b/clinica-online-74b81.appspot.com/o/users%2Fimg_1687807315955?alt=media&token=65f74a6b-4426-4c59-883d-3e1c0b6b03cf"},{email:"juancarlos@mail.com",imgPerfil:"https://firebasestorage.googleapis.com/v0/b/clinica-online-74b81.appspot.com/o/users%2Fimg_1687824922858?alt=media&token=b69a5529-4fef-4a9f-b8ed-497d733cf2b0"}],this.loading=!1}ngOnInit(){this.credentials=this.fb.group({email:["",[gt.required,gt.email]],password:["",[gt.required,gt.minLength(6)]]}),this.loading=!0,setTimeout(()=>{this.loading=!1},1e3)}ngOnDestroy(){null!=this.subscriptionUser&&this.subscriptionUser.unsubscribe()}login(){var t=this;return(0,X.Z)(function*(){null==t.email||null==t.password||t.credentials.invalid?t.toast.showError("Campos incompletos o err\xf3neos","Revise clave o contrase\xf1a"):(t.loading=!0,t.user&&(yield t.auth.logout()),t.auth.login(t.credentials.value).then(function(){var r=(0,X.Z)(function*(i){setTimeout(()=>{t.subscriptionUser=t.auth.userData.subscribe(function(){var a=(0,X.Z)(function*(c){c&&("especialista"!=c.perfil||c.habilitado?i?.user.emailVerified||c.accesoRapido?(t.toast.showSuccess("Sesi\xf3n iniciada",`Bienvenid@, ${c.name}.`),yield t.router.navigate([""])):(t.toast.showWarning("La cuenta no est\xe1 verificada","Revise su correo electr\xf3nico para confirmar su cuenta."),yield t.auth.logout()):(t.toast.showWarning("La cuenta no fue habilitada","Por favor, aguarde que su cuenta sea aprobada."),yield t.auth.logout()))});return function(c){return a.apply(this,arguments)}}()),setTimeout(()=>{t.loading=!1,t.subscriptionUser.unsubscribe()},500)},2e3)});return function(i){return r.apply(this,arguments)}}()).catch(r=>{t.loading=!1,t.toast.showError("Ocurri\xf3 un problema","Revise correo y/o contrase\xf1a"),console.log("err",r)}))})()}onClickSeleccionar(t,r){null!=t&&(this.seleccionado=r,this.email=t.email,this.password="123456")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(hw),u.Y36(Yn),u.Y36(zT),u.Y36(wm))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:37,vars:11,consts:[[1,"row","wrapper"],[1,"col-3","sidebar"],[1,"col-9","main"],[1,"container"],[1,"row"],[1,"card","col-9","offset-1","scale-up-top",2,"height","525px","margin-left","1em"],["alt","ico",1,"card-img-top","mt-2",3,"src","ngStyle"],[1,"card-body"],[1,"card-title"],[1,"card-text",2,"font-size","20px"],[3,"formGroup","ngSubmit"],[1,"form-group","col-6","mt-1"],[1,"fa-solid","fa-at"],["for","email"],["formControlName","email","type","text","id","email","name","email","placeholder","email@email.com",1,"form-control",3,"ngModel","ngModelChange"],["style","color: rgb(255, 0, 0); font-weight: bold;",4,"ngIf"],[1,"fa-solid","fa-lock"],["for","password"],["formControlName","password","type","password","id","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"row",2,"margin-top","2em","margin-bottom","1.5em"],[1,"col-12"],["role","button",1,"button-33","mt-0",3,"disabled"],[1,"fa-solid","fa-key"],["class","row mt-3",4,"ngIf"],["class","loader mt-1",4,"ngIf"],[2,"color","rgb(255, 0, 0)","font-weight","bold"],[1,"row","mt-3"],[1,"col-2"],["alt","ico",1,"btn-av",3,"src","ngStyle","ngClass","click"],[1,"loader","mt-1"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"app-navbar"),u.qZA(),u.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),u._UZ(7,"img",6),u.TgZ(8,"div",7)(9,"h2",8),u._uU(10,"LOGIN"),u.qZA(),u.TgZ(11,"p",9),u._uU(12," Por favor, ingrese sus credenciales para iniciar sesi\xf3n. "),u.qZA(),u.TgZ(13,"form",10),u.NdJ("ngSubmit",function(){return r.login()}),u.TgZ(14,"div",4)(15,"div",11),u._UZ(16,"i",12)(17,"br"),u.TgZ(18,"label",13),u._uU(19,"Correo electr\xf3nico"),u.qZA(),u.TgZ(20,"input",14),u.NdJ("ngModelChange",function(a){return r.email=a}),u.qZA(),u.YNc(21,A9,2,0,"small",15),u.qZA(),u.TgZ(22,"div",11),u._UZ(23,"i",16)(24,"br"),u.TgZ(25,"label",17),u._uU(26,"Contrase\xf1a"),u.qZA(),u.TgZ(27,"input",18),u.NdJ("ngModelChange",function(a){return r.password=a}),u.qZA(),u.YNc(28,S9,2,0,"small",15),u._UZ(29,"br"),u.qZA()(),u.TgZ(30,"div",19)(31,"div",20)(32,"button",21),u._UZ(33,"i",22),u._uU(34," INICIAR SESI\xd3N "),u.qZA()(),u.YNc(35,x9,13,24,"div",23),u.qZA()(),u.YNc(36,M9,1,0,"span",24),u.qZA()()()()()()),2&t){let i,a;u.xp6(7),u.Q6J("src",r.icon,u.LSH)("ngStyle",u.DdM(10,R9)),u.xp6(6),u.Q6J("formGroup",r.credentials),u.xp6(7),u.Q6J("ngModel",r.email),u.xp6(1),u.Q6J("ngIf",(null==(i=r.credentials.get("email"))?null:i.invalid)&&(null==(i=r.credentials.get("email"))?null:i.touched)),u.xp6(6),u.Q6J("ngModel",r.password),u.xp6(1),u.Q6J("ngIf",(null==(a=r.credentials.get("password"))?null:a.invalid)&&(null==(a=r.credentials.get("password"))?null:a.touched)),u.xp6(4),u.Q6J("disabled",r.credentials.invalid),u.xp6(3),u.Q6J("ngIf",!r.loading),u.xp6(1),u.Q6J("ngIf",r.loading)}},dependencies:[St,Lr,Ti,Dw,Kh,yw,_w,Qh,Tm,AT],styles:[".card[_ngcontent-%COMP%]{text-align:center;background:#ebf4f5;background:linear-gradient(to right,#ebf4f5,#b5c6e0);opacity:.95;border-radius:.75rem;border-style:groove;box-shadow:10px 5px 5px #1558a5cc;color:#000;margin-top:2em}h2[_ngcontent-%COMP%]{font-family:Rubik,serif;font-size:48px;text-shadow:5px 2px 2px #849fc7}@keyframes _ngcontent-%COMP%_scale-up-top{0%{transform:scale(.5);transform-origin:50% 0%}to{transform:scale(1);transform-origin:50% 0%}}.scale-up-top[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-up-top .4s cubic-bezier(.39,.575,.565,1) both}.card-img-top[_ngcontent-%COMP%]{display:block;width:60%;margin:auto;opacity:1}.link[_ngcontent-%COMP%]{color:#e7e5e5;font-size:24px}.button-33[_ngcontent-%COMP%]{background-color:#1abae2;border-radius:10px;box-shadow:#1f0a7c33 0 -25px 18px -14px inset,#1f0a7c33 0 1px 2px,#1f0a7c33 0 2px 4px,#1f0a7c33 0 4px 8px,#1f0a7c33 0 8px 16px,#1f0a7c33 0 16px 32px;color:#000;cursor:pointer;display:inline-block;font-family:CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;padding:7px 20px;text-align:center;text-decoration:none;transition:all .25s;border:0;font-size:18px;font-weight:450;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-33[_ngcontent-%COMP%]:hover{box-shadow:#0d21d159 0 -25px 18px -14px inset,#0d21d159 0 1px 2px,#0d21d159 0 2px 4px,#0d21d159 0 4px 8px,#0d21d159 0 8px 16px,#0d21d159 0 16px 32px;transform:scale(1.05) rotate(-1deg)}.button-33[_ngcontent-%COMP%]:disabled{background-color:#94999bc9;box-shadow:#1c1f352d 0 -25px 18px -14px inset,#1c1f352d 0 1px 2px,#1c1f352d 0 2px 4px,#1c1f352d 0 4px 8px,#1c1f352d 0 8px 16px,#1c1f352d 0 16px 32px}.loader[_ngcontent-%COMP%]{width:24px;height:24px;border:5px solid #1d1c1ce3;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.clicked[_ngcontent-%COMP%]{opacity:1;background-color:#1abae2;border-radius:50px}.btn-av[_ngcontent-%COMP%]:hover{opacity:.8;background-color:#1abae2;border-radius:50px}"]}),n})(),P9=(()=>{class n{constructor(t){this.firestore=t}getUsers(){const t=v$(this.firestore,"users");return _$(t,{idField:"uid"})}getUserByUid(t){const r=TT(this.firestore,`users/${t}`);return wL(r,{idField:"uid"})}updateStatusSpecialist(t,r){const i=TT(this.firestore,`users/${t}`);return"habilitar"==r?bL(i,{habilitado:!0}):"deshabilitar"==r?bL(i,{habilitado:!1}):null}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(uw))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function O9(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Correo electr\xf3nico es requerido"),u.qZA())}function k9(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Clave es requerida"),u.qZA())}function F9(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Nombre es requerido"),u.qZA())}function L9(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Apellido es requerido"),u.qZA())}function V9(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," DNI es requerido. Ingrese s\xf3lo n\xfameros"),u.qZA())}function U9(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Edad es requerida"),u.qZA())}function B9(n,e){1&n&&(u.TgZ(0,"small",29),u._uU(1," Imagen de perfil es requerida"),u.qZA())}function $9(n,e){1&n&&u._UZ(0,"span",30)}let j9=(()=>{class n{constructor(t,r,i,a){this.auth=t,this.router=r,this.fb=i,this.toast=a,this.imgPerfil="",this.loading=!1}ngOnInit(){this.credentials=this.fb.group({name:["",[gt.required,gt.minLength(2),gt.maxLength(24)]],lastName:["",[gt.required,gt.minLength(2),gt.maxLength(24)]],email:["",[gt.required,gt.email]],password:["",[gt.required,gt.minLength(6)]],dni:["",[gt.required,gt.minLength(8)]],edad:["",[gt.required,gt.max(100)]],recaptcha:["",gt.required]})}register(){var t=this;return(0,X.Z)(function*(){if(t.credentials.invalid||""==t.imgPerfil)t.toast.showError("Es requerido cargar una imagen de perfil","Revise los campos.");else{t.loading=!0;const r={email:t.credentials.get("email")?.value,password:t.credentials.get("password")?.value,name:t.credentials.get("name")?.value,lastName:t.credentials.get("lastName")?.value,dni:t.credentials.get("dni")?.value,edad:t.credentials.get("edad")?.value,perfil:"administrador",imgPerfil:t.imgPerfil,habilitado:!0};t.auth.register(r).then(()=>{setTimeout(()=>{t.toast.showSuccess("Registro completado.","Por favor, revise su correo electr\xf3nico para validar su cuenta y aguarde ser aprobado."),t.loading=!1,t.router.navigateByUrl("",{replaceUrl:!0})},1e3)}).catch(i=>{t.toast.showError("Ocurri\xf3 un problema"),console.log("err",i),t.loading=!1})}})()}uploadImage(t){var r=this;return(0,X.Z)(function*(){try{r.loading=!0;const i=t.target.files[0],a="users/img_"+Date.now(),c=PT(),f=Cm(c,a);qR(f,i).then(function(){var m=(0,X.Z)(function*(v){r.loading=!1,console.log("img subida ok!"),yield zR(Cm(c,a)).then(C=>{r.imgPerfil=C})});return function(v){return m.apply(this,arguments)}}()).catch(m=>{r.loading=!1,console.log("err img",m)})}catch(i){r.loading=!1,console.log("err img",i)}})()}resolved(t){console.log(`Resolved response token: ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(hw),u.Y36(Yn),u.Y36(zT),u.Y36(wm))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-registro-admin"]],decls:57,vars:17,consts:[[3,"formGroup"],[1,"row"],[1,"form-group","col-6"],["for","email"],["formControlName","email","type","text","id","email","name","email","placeholder","email@email.com",1,"form-control",3,"ngModel","ngModelChange"],["style","color: rgb(255, 0, 0); font-weight: bold;",4,"ngIf"],["for","password"],["formControlName","password","type","password","id","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-4","mt-1"],["for","name"],["formControlName","name","type","text","id","name","name","name",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["formControlName","lastName","type","lastName","id","lastName","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["for","dni"],["formControlName","dni","type","number","id","dni","name","dni","placeholder","30300300",1,"form-control",3,"ngModel","ngModelChange"],["for","edad"],["formControlName","edad","type","number","id","edad","name","edad",1,"form-control",3,"ngModel","ngModelChange"],["for","profilePic"],["type","file","id","profilePic",1,"form-control-file",3,"change"],[1,"mb-1"],["siteKey","6Le7u9AmAAAAALwcdOkoRKrfZyn1WmolxD7la98R","formControlName","recaptcha","required","",3,"resolved"],[1,"row",2,"margin-top","0"],[1,"col-4"],["role","button",1,"button-33",3,"disabled","click"],[1,"fa-solid","fa-check"],["class","loader mt-0",4,"ngIf"],[3,"routerLink"],["role","button",1,"button-33",2,"background-color","#e24d08"],[1,"fa-solid","fa-xmark"],[2,"color","rgb(255, 0, 0)","font-weight","bold"],[1,"loader","mt-0"]],template:function(t,r){if(1&t&&(u.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),u._uU(4,"Correo electr\xf3nico"),u.qZA(),u.TgZ(5,"input",4),u.NdJ("ngModelChange",function(a){return r.email=a}),u.qZA(),u.YNc(6,O9,2,0,"small",5),u.qZA(),u.TgZ(7,"div",2)(8,"label",6),u._uU(9,"Contrase\xf1a"),u.qZA(),u.TgZ(10,"input",7),u.NdJ("ngModelChange",function(a){return r.password=a}),u.qZA(),u.YNc(11,k9,2,0,"small",5),u._UZ(12,"br"),u.qZA(),u.TgZ(13,"div",8)(14,"label",9),u._uU(15,"Nombre"),u.qZA(),u.TgZ(16,"input",10),u.NdJ("ngModelChange",function(a){return r.name=a}),u.qZA(),u.YNc(17,F9,2,0,"small",5),u.qZA(),u.TgZ(18,"div",8)(19,"label",11),u._uU(20,"Apellido"),u.qZA(),u.TgZ(21,"input",12),u.NdJ("ngModelChange",function(a){return r.lastName=a}),u.qZA(),u.YNc(22,L9,2,0,"small",5),u._UZ(23,"br"),u.qZA(),u.TgZ(24,"div",8)(25,"label",13),u._uU(26,"DNI"),u.qZA(),u.TgZ(27,"input",14),u.NdJ("ngModelChange",function(a){return r.dni=a}),u.qZA(),u.YNc(28,V9,2,0,"small",5),u._UZ(29,"br"),u.qZA(),u.TgZ(30,"div",8)(31,"label",15),u._uU(32,"Edad"),u.qZA(),u.TgZ(33,"input",16),u.NdJ("ngModelChange",function(a){return r.edad=a}),u.qZA(),u.YNc(34,U9,2,0,"small",5),u._UZ(35,"br"),u.qZA(),u.TgZ(36,"div",8)(37,"label",17),u._uU(38,"Imagen de Perfil"),u.qZA(),u.TgZ(39,"input",18),u.NdJ("change",function(a){return r.uploadImage(a)}),u.qZA(),u.YNc(40,B9,2,0,"small",5),u._UZ(41,"br"),u.qZA(),u.TgZ(42,"div",8)(43,"div",19)(44,"re-captcha",20),u.NdJ("resolved",function(a){return r.resolved(a)}),u.qZA()()()()(),u.TgZ(45,"div",21)(46,"div",22)(47,"button",23),u.NdJ("click",function(){return r.register()}),u._UZ(48,"i",24),u._uU(49," ACEPTAR "),u.qZA()(),u.TgZ(50,"div",22),u.YNc(51,$9,1,0,"span",25),u.qZA(),u.TgZ(52,"div",22)(53,"a",26)(54,"button",27),u._UZ(55,"i",28),u._uU(56," CANCELAR "),u.qZA()()()()),2&t){let i,a,c,f,m,v,C;u.Q6J("formGroup",r.credentials),u.xp6(5),u.Q6J("ngModel",r.email),u.xp6(1),u.Q6J("ngIf",(null==(i=r.credentials.get("email"))?null:i.invalid)&&(null==(i=r.credentials.get("email"))?null:i.touched)),u.xp6(4),u.Q6J("ngModel",r.password),u.xp6(1),u.Q6J("ngIf",(null==(a=r.credentials.get("password"))?null:a.invalid)&&(null==(a=r.credentials.get("password"))?null:a.touched)),u.xp6(5),u.Q6J("ngModel",r.name),u.xp6(1),u.Q6J("ngIf",(null==(c=r.credentials.get("name"))?null:c.invalid)&&(null==(c=r.credentials.get("name"))?null:c.touched)),u.xp6(4),u.Q6J("ngModel",r.lastName),u.xp6(1),u.Q6J("ngIf",(null==(f=r.credentials.get("lastName"))?null:f.invalid)&&(null==(f=r.credentials.get("lastName"))?null:f.touched)),u.xp6(5),u.Q6J("ngModel",r.dni),u.xp6(1),u.Q6J("ngIf",(null==(m=r.credentials.get("dni"))?null:m.invalid)&&(null==(m=r.credentials.get("dni"))?null:m.touched)),u.xp6(5),u.Q6J("ngModel",r.edad),u.xp6(1),u.Q6J("ngIf",(null==(v=r.credentials.get("edad"))?null:v.invalid)&&(null==(v=r.credentials.get("edad"))?null:v.touched)),u.xp6(6),u.Q6J("ngIf",(null==(C=r.credentials.get("profilePic"))?null:C.invalid)&&(null==(C=r.credentials.get("profilePic"))?null:C.touched)),u.xp6(7),u.Q6J("disabled",r.credentials.invalid),u.xp6(4),u.Q6J("ngIf",r.loading),u.xp6(2),u.Q6J("routerLink","")}},dependencies:[Lr,bo,Dw,Kh,Aw,yw,_w,Dm,qT,cN,Qh,Tm],styles:[".card[_ngcontent-%COMP%]{text-align:center;background:#ebf4f5;background:linear-gradient(to right,#ebf4f5,#b5c6e0);opacity:.95;border-radius:.75rem;border-style:groove;box-shadow:10px 5px 5px #1558a5cc;color:#000;margin-top:2em}h2[_ngcontent-%COMP%]{font-family:Rubik,serif;font-size:48px;text-shadow:5px 2px 2px #849fc7}@keyframes _ngcontent-%COMP%_scale-up-top{0%{transform:scale(.5);transform-origin:50% 0%}to{transform:scale(1);transform-origin:50% 0%}}.scale-up-top[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-up-top .4s cubic-bezier(.39,.575,.565,1) both}.card-img-top[_ngcontent-%COMP%]{display:block;width:10%;margin:auto;opacity:1}.link[_ngcontent-%COMP%]{color:#e7e5e5;font-size:24px}.button-33[_ngcontent-%COMP%]{background-color:#1abae2;border-radius:10px;box-shadow:#1f0a7c33 0 -25px 18px -14px inset,#1f0a7c33 0 1px 2px,#1f0a7c33 0 2px 4px,#1f0a7c33 0 4px 8px,#1f0a7c33 0 8px 16px,#1f0a7c33 0 16px 32px;color:#000;cursor:pointer;display:inline-block;font-family:CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;padding:7px 20px;text-align:center;text-decoration:none;transition:all .25s;border:0;font-size:18px;font-weight:450;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-33[_ngcontent-%COMP%]:hover{box-shadow:#0d21d159 0 -25px 18px -14px inset,#0d21d159 0 1px 2px,#0d21d159 0 2px 4px,#0d21d159 0 4px 8px,#0d21d159 0 8px 16px,#0d21d159 0 16px 32px;transform:scale(1.05) rotate(-1deg)}.img-btn[_ngcontent-%COMP%]{opacity:1;transition:.5s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden}.img-btn[_ngcontent-%COMP%]:hover{opacity:.8;background-color:#1abae2;border-radius:50px}.clicked[_ngcontent-%COMP%]{opacity:1;background-color:#1abae2;border-radius:50px}.button-33[_ngcontent-%COMP%]:disabled{background-color:#94999bc9;box-shadow:#1c1f352d 0 -25px 18px -14px inset,#1c1f352d 0 1px 2px,#1c1f352d 0 2px 4px,#1c1f352d 0 4px 8px,#1c1f352d 0 8px 16px,#1c1f352d 0 16px 32px}.loader[_ngcontent-%COMP%]{width:30px;height:30px;border:5px solid #1d1c1ce3;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();function H9(n,e){1&n&&(u.TgZ(0,"p",12),u._uU(1," Por favor, registre sus datos. "),u.qZA())}function z9(n,e){1&n&&u._UZ(0,"app-registro-paciente")}function q9(n,e){1&n&&u._UZ(0,"app-registro-especialista")}function G9(n,e){1&n&&u._UZ(0,"app-registro-admin")}function Z9(n,e){1&n&&(u.TgZ(0,"div",13)(1,"div",14)(2,"a",15)(3,"button",16),u._UZ(4,"i",17),u._uU(5," HOME "),u.qZA()()()()),2&n&&(u.xp6(2),u.Q6J("routerLink",""))}const W9=function(){return{width:"3.5rem","margin-right":"1em","border-radius":"50%"}},K9=function(){return{width:"3.5rem","margin-left":"1em","margin-right":"1em","border-radius":"50%"}},Y9=function(){return{width:"3.5rem","margin-left":"1em","border-radius":"50%"}};let Q9=(()=>{class n{constructor(){this.iconPatient="assets/img/patient.png",this.iconSpecialist="assets/img/specialist.png",this.iconAdmin="assets/img/adm.png",this.tipoUsuario=""}ngOnInit(){}onClickSeleccionar(t){"paciente"==t?this.tipoUsuario="PACIENTE":"especialista"==t?this.tipoUsuario="ESPECIALISTA":"administrador"==t&&(this.tipoUsuario="ADMINISTRADOR")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-altas-admin"]],decls:19,vars:18,consts:[[1,"col-9",2,"margin-left","16em"],[1,"container"],[1,"row"],[1,"card","col-9","scale-up-top",2,"height","auto","width","100%","margin-left","1em"],[1,"card-body"],[1,"card-title"],[1,"card-text","mt-1",2,"font-size","12px"],[2,"display","flex","justify-content","space-between"],["alt","ico",1,"card-img-top","mt-1","img-btn",3,"src","ngStyle","ngClass","click"],["class","card-text mt-1","style","font-size: 20px;",4,"ngIf"],[4,"ngIf"],["class","row","style","margin-top: 3em;",4,"ngIf"],[1,"card-text","mt-1",2,"font-size","20px"],[1,"row",2,"margin-top","3em"],[1,"col-12"],[3,"routerLink"],["role","button",1,"button-33"],[1,"fa-solid","fa-circle-left"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),u._uU(6),u.qZA(),u.TgZ(7,"p",6)(8,"strong"),u._uU(9,"Paciente / Especialista / Administrador"),u.qZA()(),u.TgZ(10,"div",7)(11,"img",8),u.NdJ("click",function(){return r.onClickSeleccionar("paciente")}),u.qZA(),u.TgZ(12,"img",8),u.NdJ("click",function(){return r.onClickSeleccionar("especialista")}),u.qZA(),u.TgZ(13,"img",8),u.NdJ("click",function(){return r.onClickSeleccionar("administrador")}),u.qZA()(),u.YNc(14,H9,2,0,"p",9),u.YNc(15,z9,1,0,"app-registro-paciente",10),u.YNc(16,q9,1,0,"app-registro-especialista",10),u.YNc(17,G9,1,0,"app-registro-admin",10),u.YNc(18,Z9,6,1,"div",11),u.qZA()()()()()),2&t&&(u.xp6(6),u.hij("REGISTRO ",r.tipoUsuario,""),u.xp6(5),u.Q6J("src",r.iconPatient,u.LSH)("ngStyle",u.DdM(15,W9))("ngClass","PACIENTE"==r.tipoUsuario?"clicked":""),u.xp6(1),u.Q6J("src",r.iconSpecialist,u.LSH)("ngStyle",u.DdM(16,K9))("ngClass","ESPECIALISTA"==r.tipoUsuario?"clicked":""),u.xp6(1),u.Q6J("src",r.iconAdmin,u.LSH)("ngStyle",u.DdM(17,Y9))("ngClass","ADMINISTRADOR"==r.tipoUsuario?"clicked":""),u.xp6(1),u.Q6J("ngIf",""!=r.tipoUsuario),u.xp6(1),u.Q6J("ngIf","PACIENTE"==r.tipoUsuario),u.xp6(1),u.Q6J("ngIf","ESPECIALISTA"==r.tipoUsuario),u.xp6(1),u.Q6J("ngIf","ADMINISTRADOR"==r.tipoUsuario),u.xp6(1),u.Q6J("ngIf",""==r.tipoUsuario))},dependencies:[St,Lr,Ti,bo,w3,b3,j9],styles:[".card[_ngcontent-%COMP%]{text-align:center;background:#ebf4f5;background:linear-gradient(to right,#ebf4f5,#b5c6e0);opacity:.95;border-radius:.75rem;border-style:groove;box-shadow:10px 5px 5px #1558a5cc;color:#000;margin-top:2em}h2[_ngcontent-%COMP%]{font-family:Rubik,serif;font-size:48px;text-shadow:5px 2px 2px #849fc7}@keyframes _ngcontent-%COMP%_scale-up-top{0%{transform:scale(.5);transform-origin:50% 0%}to{transform:scale(1);transform-origin:50% 0%}}.scale-up-top[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-up-top .4s cubic-bezier(.39,.575,.565,1) both}.card-img-top[_ngcontent-%COMP%]{display:block;width:10%;margin:auto;opacity:1}.link[_ngcontent-%COMP%]{color:#e7e5e5;font-size:24px}.button-33[_ngcontent-%COMP%]{background-color:#1abae2;border-radius:10px;box-shadow:#1f0a7c33 0 -25px 18px -14px inset,#1f0a7c33 0 1px 2px,#1f0a7c33 0 2px 4px,#1f0a7c33 0 4px 8px,#1f0a7c33 0 8px 16px,#1f0a7c33 0 16px 32px;color:#000;cursor:pointer;display:inline-block;font-family:CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;padding:7px 20px;text-align:center;text-decoration:none;transition:all .25s;border:0;font-size:18px;font-weight:450;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-33[_ngcontent-%COMP%]:hover{box-shadow:#0d21d159 0 -25px 18px -14px inset,#0d21d159 0 1px 2px,#0d21d159 0 2px 4px,#0d21d159 0 4px 8px,#0d21d159 0 8px 16px,#0d21d159 0 16px 32px;transform:scale(1.05) rotate(-1deg)}.img-btn[_ngcontent-%COMP%]{opacity:1;transition:.5s ease;-webkit-backface-visibility:hidden;backface-visibility:hidden}.img-btn[_ngcontent-%COMP%]:hover{opacity:.8;background-color:#1abae2;border-radius:50px}.clicked[_ngcontent-%COMP%]{opacity:1;background-color:#1abae2;border-radius:50px}"]}),n})();function J9(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",14),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(3);return u.KtG(i.view="registro")}),u._UZ(1,"i",15),u.qZA()}}function X9(n,e){1&n&&u._UZ(0,"span",16)}function e8(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",27),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2).$implicit,a=u.oxw(4);return u.KtG(a.habilitar(i.uid))}),u._uU(1," Habilitar "),u.qZA()}}function t8(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",28),u.NdJ("click",function(){u.CHM(t);const i=u.oxw(2).$implicit,a=u.oxw(4);return u.KtG(a.deshabilitar(i.uid))}),u._uU(1," Deshabilitar "),u.qZA()}}function n8(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,e8,2,0,"button",25),u.YNc(2,t8,2,0,"button",26),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.Q6J("ngIf",!t.habilitado),u.xp6(1),u.Q6J("ngIf",t.habilitado)}}function r8(n,e){1&n&&(u.TgZ(0,"button",29),u._uU(1," Historial "),u.qZA())}function i8(n,e){if(1&n&&(u.TgZ(0,"tr",20)(1,"td")(2,"button",21),u._UZ(3,"img",22),u.qZA()(),u.TgZ(4,"td",23)(5,"span"),u._uU(6),u.qZA()(),u.TgZ(7,"td")(8,"span"),u._uU(9),u.qZA()(),u.TgZ(10,"td")(11,"span"),u._uU(12),u.qZA()(),u.TgZ(13,"td"),u.YNc(14,n8,3,2,"div",6),u.YNc(15,r8,2,0,"button",24),u.qZA()()),2&n){const t=e.$implicit;u.xp6(3),u.s9C("src",t.imgPerfil,u.LSH),u.xp6(3),u.Oqu(t.perfil),u.xp6(3),u.Oqu(t.name),u.xp6(3),u.Oqu(t.lastName),u.xp6(2),u.Q6J("ngIf","especialista"==t.perfil),u.xp6(1),u.Q6J("ngIf","paciente"==t.perfil&&t.historial)}}function s8(n,e){if(1&n&&(u.TgZ(0,"table",17)(1,"thead")(2,"tr")(3,"th",18),u._uU(4,"TURNOS"),u.qZA(),u.TgZ(5,"th",18),u._uU(6,"PERFIL"),u.qZA(),u.TgZ(7,"th",18),u._uU(8,"NOMBRE"),u.qZA(),u.TgZ(9,"th",18),u._uU(10,"APELLIDO"),u.qZA(),u.TgZ(11,"th",18),u._uU(12,"ACCI\xd3N"),u.qZA()()(),u.TgZ(13,"tbody"),u.YNc(14,i8,16,6,"tr",19),u.qZA()()),2&n){const t=u.oxw(3);u.xp6(14),u.Q6J("ngForOf",t.users)}}function o8(n,e){if(1&n&&(u.TgZ(0,"div",9)(1,"h2",10),u._uU(2,"Seleccion de Usuarios"),u.qZA(),u.TgZ(3,"div"),u.YNc(4,J9,2,0,"button",11),u.qZA(),u.YNc(5,X9,1,0,"span",12),u.YNc(6,s8,15,1,"table",13),u.qZA()),2&n){const t=u.oxw(2);u.xp6(4),u.Q6J("ngIf",!t.loading),u.xp6(1),u.Q6J("ngIf",t.loading),u.xp6(1),u.Q6J("ngIf",!t.loading)}}function a8(n,e){if(1&n&&(u.TgZ(0,"div",0)(1,"div",7),u.YNc(2,o8,7,3,"div",8),u.qZA()()),2&n){const t=u.oxw();u.xp6(2),u.Q6J("ngIf","seleccion-usuarios"==t.view)}}function l8(n,e){1&n&&u._UZ(0,"app-altas-admin")}const u8=[{path:"",component:dj},{path:"registro",component:D9},{path:"login",component:N9},{path:"seleccion-usuarios",component:(()=>{class n{constructor(t){this.db=t,this.icon="assets/img/doc.png",this.iconPatient="assets/img/patient.png",this.iconSpecialist="assets/img/specialist.png",this.users=[],this.view="seleccion-usuarios",this.loading=!1}ngOnInit(){this.loading=!0,this.subscription=this.db.getUsers().subscribe(t=>{this.users=t,console.log("users",this.users),this.loading=!1})}ngOnDestroy(){this.subscription.unsubscribe()}habilitar(t){this.db.updateStatusSpecialist(t,"habilitar")}deshabilitar(t){this.db.updateStatusSpecialist(t,"deshabilitar")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(P9))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-seleccion-usuarios"]],decls:7,vars:3,consts:[[1,"row"],[1,"col-3"],[3,"selectedOpt"],[1,"col-9"],[1,"container"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"card","col-9","offset-1","scale-up-top","mb-2",2,"height","auto","margin-left","1em"],["class","card-body",4,"ngIf"],[1,"card-body"],[1,"card-title"],["style","float:left; margin-bottom: 0.5em;","class","button-33-new",3,"click",4,"ngIf"],["class","loader mt-1",4,"ngIf"],["class","table",4,"ngIf"],[1,"button-33-new",2,"float","left","margin-bottom","0.5em",3,"click"],[1,"fa-solid","fa-user-plus"],[1,"loader","mt-1"],[1,"table"],["scope","col"],["class","tr-tabla",4,"ngFor","ngForOf"],[1,"tr-tabla"],["type","button","color","light","mat-fab","","title","Descargar detalles de turnos",1,"btn-fav"],["alt","imagen",1,"img-btn",3,"src"],[2,"text-transform","upperCase"],["class","btn-historial","data-bs-toggle","modal","data-bs-target","#exampleModal",4,"ngIf"],["class","button-33",3,"click",4,"ngIf"],["class","button-33-deshab",3,"click",4,"ngIf"],[1,"button-33",3,"click"],[1,"button-33-deshab",3,"click"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn-historial"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"app-navbar",2),u.qZA(),u.TgZ(3,"div",3)(4,"div",4),u.YNc(5,a8,3,1,"div",5),u.qZA()(),u.YNc(6,l8,1,0,"app-altas-admin",6),u.qZA()),2&t&&(u.xp6(2),u.Q6J("selectedOpt","seleccion"),u.xp6(3),u.Q6J("ngIf","seleccion-usuarios"==r.view),u.xp6(1),u.Q6J("ngIf","registro"==r.view))},dependencies:[no,Lr,AT,Q9],styles:[".card[_ngcontent-%COMP%]{text-align:center;background:#ebf4f5;background:linear-gradient(to right,#ebf4f5,#b5c6e0);opacity:.95;border-radius:.75rem;border-style:groove;box-shadow:10px 5px 5px #1558a5cc;color:#000;margin-top:2em}h2[_ngcontent-%COMP%]{font-family:Rubik,serif;font-size:48px;text-shadow:5px 2px 2px #849fc7}@keyframes _ngcontent-%COMP%_scale-up-top{0%{transform:scale(.5);transform-origin:50% 0%}to{transform:scale(1);transform-origin:50% 0%}}.scale-up-top[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scale-up-top .4s cubic-bezier(.39,.575,.565,1) both}.card-img-top[_ngcontent-%COMP%]{display:block;width:60%;margin:auto;opacity:1}.link[_ngcontent-%COMP%]{color:#e7e5e5;font-size:24px}.button-33[_ngcontent-%COMP%]{background-color:#1abae2;border-radius:10px;box-shadow:#1f0a7c33 0 -25px 18px -14px inset,#1f0a7c33 0 1px 2px,#1f0a7c33 0 2px 4px,#1f0a7c33 0 4px 8px,#1f0a7c33 0 8px 16px,#1f0a7c33 0 16px 32px;color:#000;cursor:pointer;display:inline-block;font-family:CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;padding:7px 20px;text-align:center;text-decoration:none;transition:all .25s;border:0;font-size:18px;font-weight:450;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-33-deshab[_ngcontent-%COMP%]{background-color:#e24d08;border-radius:10px;box-shadow:#1f0a7c33 0 -25px 18px -14px inset,#1f0a7c33 0 1px 2px,#1f0a7c33 0 2px 4px,#1f0a7c33 0 4px 8px,#1f0a7c33 0 8px 16px,#1f0a7c33 0 16px 32px;color:#000;cursor:pointer;display:inline-block;font-family:CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;padding:7px 20px;text-align:center;text-decoration:none;transition:all .25s;border:0;font-size:18px;font-weight:450;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-33-deshab[_ngcontent-%COMP%]:hover{box-shadow:#f15a0259 0 -25px 18px -14px inset,#f15a0259 0 1px 2px,#f15a0259 0 2px 4px,#f15a0259 0 4px 8px,#f15a0259 0 8px 16px,#f15a0259 0 16px 32px;transform:scale(1.05) rotate(-1deg)}.button-33[_ngcontent-%COMP%]:hover{box-shadow:#0d21d159 0 -25px 18px -14px inset,#0d21d159 0 1px 2px,#0d21d159 0 2px 4px,#0d21d159 0 4px 8px,#0d21d159 0 8px 16px,#0d21d159 0 16px 32px;transform:scale(1.05) rotate(-1deg)}.button-33-new[_ngcontent-%COMP%]{background-color:#17ad12;border-radius:10px;box-shadow:#1f0a7c33 0 -25px 18px -14px inset,#1f0a7c33 0 1px 2px,#1f0a7c33 0 2px 4px,#1f0a7c33 0 4px 8px,#1f0a7c33 0 8px 16px,#1f0a7c33 0 16px 32px;color:#000;cursor:pointer;display:inline-block;font-family:CerebriSans-Regular,-apple-system,system-ui,Roboto,sans-serif;padding:7px 20px;text-align:center;text-decoration:none;transition:all .25s;border:0;font-size:18px;font-weight:450;user-select:none;-webkit-user-select:none;touch-action:manipulation}.button-33-new[_ngcontent-%COMP%]:hover{box-shadow:#088a2859 0 -25px 18px -14px inset,#088a2859 0 1px 2px,#088a2859 0 2px 4px,#088a2859 0 4px 8px,#088a2859 0 8px 16px,#088a2859 0 16px 32px;transform:scale(1.05) rotate(-1deg)}.btn-fav[_ngcontent-%COMP%]{width:3rem;height:3rem}.btn-fav[_ngcontent-%COMP%]:hover{background:#418eccd2;color:#fff;transition:background .5s,color .5s}.img-btn[_ngcontent-%COMP%]{width:34px;left:3em}.loader[_ngcontent-%COMP%]{width:24px;height:24px;border:5px solid #1d1c1ce3;border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:_ngcontent-%COMP%_rotation 1s linear infinite}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})()}];let c8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[u1.forRoot(u8),u1]}),n})(),d8=(()=>{class n{constructor(){this.title="clinica_online"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},dependencies:[py]}),n})();const E3={firebase:{projectId:"clinica-online-74b81",appId:"1:84273596947:web:83e348261b654f7badcde6",storageBucket:"clinica-online-74b81.appspot.com",locationId:"us-central",apiKey:"AIzaSyB1inj6jTJx4dG6eI4bs2wrSA3EBDv6toQ",authDomain:"clinica-online-74b81.firebaseapp.com",messagingSenderId:"84273596947"},production:!1};function C3(n){return new u.vHH(3e3,!1)}function G8(){return typeof window<"u"&&typeof window.document<"u"}function dN(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Fc(n){switch(n.length){case 0:return new dw;case 1:return n[0];default:return new ML(n)}}function I3(n,e,t,r,i=new Map,a=new Map){const c=[],f=[];let m=-1,v=null;if(r.forEach(C=>{const T=C.get("offset"),M=T==m,N=M&&v||new Map;C.forEach((L,z)=>{let G=z,pe=L;if("offset"!==z)switch(G=e.normalizePropertyName(G,c),pe){case SR:pe=i.get(z);break;case $l:pe=a.get(z);break;default:pe=e.normalizeStyleValue(z,G,pe,c)}N.set(G,pe)}),M||f.push(N),v=N,m=T}),c.length)throw function O8(n){return new u.vHH(3502,!1)}();return f}function hN(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&fN(t,"start",n)));break;case"done":n.onDone(()=>r(t&&fN(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&fN(t,"destroy",n)))}}function fN(n,e,t){const a=pN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function pN(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function Es(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function T3(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let gN=(n,e)=>!1,D3=(n,e,t)=>[],A3=null;function mN(n){const e=n.parentNode||n.host;return e===A3?null:e}(dN()||typeof Element<"u")&&(G8()?(A3=(()=>document.documentElement)(),gN=(n,e)=>{for(;e;){if(e===n)return!0;e=mN(e)}return!1}):gN=(n,e)=>n.contains(e),D3=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Xh=null,S3=!1;const x3=gN,M3=D3;let R3=(()=>{class n{validateStyleProperty(t){return function W8(n){Xh||(Xh=function K8(){return typeof document<"u"?document.body:null}()||{},S3=!!Xh.style&&"WebkitAppearance"in Xh.style);let e=!0;return Xh.style&&!function Z8(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Xh.style,!e&&S3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Xh.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return x3(t,r)}getParentElement(t){return mN(t)}query(t,r,i){return M3(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,f=[],m){return new dw(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),yN=(()=>{class n{}return n.NOOP=new R3,n})();const Y8=1e3,_N="ng-enter",GT="ng-leave",ZT="ng-trigger",WT=".ng-trigger",P3="ng-animating",vN=".ng-animating";function zl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:wN(parseFloat(e[1]),e[2])}function wN(n,e){return"s"===e?n*Y8:n}function KT(n,e,t){return n.hasOwnProperty("duration")?n:function J8(n,e,t){let i,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(C3()),{duration:0,delay:0,easing:""};i=wN(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(a=wN(parseFloat(m),f[4]));const v=f[5];v&&(c=v)}else i=n;if(!t){let f=!1,m=e.length;i<0&&(e.push(function h8(){return new u.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function f8(){return new u.vHH(3101,!1)}()),f=!0),f&&e.splice(m,0,C3())}return{duration:i,delay:a,easing:c}}(n,e,t)}function Sw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function O3(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Lc(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function F3(n,e,t){return t?e+":"+t+";":""}function L3(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=F3(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=F3(0,n7(t),n.style[t]));n.setAttribute("style",e)}function Pa(n,e,t){n.style&&(e.forEach((r,i)=>{const a=EN(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),dN()&&L3(n))}function ef(n,e){n.style&&(e.forEach((t,r)=>{const i=EN(r);n.style[i]=""}),dN()&&L3(n))}function xw(n){return Array.isArray(n)?1==n.length?n[0]:AL(n):n}const bN=new RegExp("{{\\s*(.+?)\\s*}}","g");function V3(n){let e=[];if("string"==typeof n){let t;for(;t=bN.exec(n);)e.push(t[1]);bN.lastIndex=0}return e}function Mw(n,e,t){const r=n.toString(),i=r.replace(bN,(a,c)=>{let f=e[c];return null==f&&(t.push(function g8(n){return new u.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function YT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const t7=/-+([a-z0-9])/g;function EN(n){return n.replace(t7,(...e)=>e[1].toUpperCase())}function n7(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Cs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function m8(n){return new u.vHH(3004,!1)}()}}function U3(n,e){return window.getComputedStyle(n)[e]}const XT="*";function l7(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function u7(n,e,t){if(":"==n[0]){const m=function c7(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function M8(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function x8(n){return new u.vHH(3015,!1)}()),e;const i=r[1],a=r[2],c=r[3];e.push(B3(i,c));"<"==a[0]&&!(i==XT&&c==XT)&&e.push(B3(c,i))}(r,t,e)):t.push(n),t}const eD=new Set(["true","1"]),tD=new Set(["false","0"]);function B3(n,e){const t=eD.has(n)||tD.has(n),r=eD.has(e)||tD.has(e);return(i,a)=>{let c=n==XT||n==i,f=e==XT||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?eD.has(n):tD.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?eD.has(e):tD.has(e)),c&&f}}const d7=new RegExp("s*:selfs*,?","g");function CN(n,e,t,r){return new h7(n).build(e,t,r)}class h7{constructor(e){this._driver=e}build(e,t,r){const i=new g7(t);return this._resetContextStyleTimingState(i),Cs(this,xw(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function _8(){return new u.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const m=f,v=m.name;v.toString().split(/\s*,\s*/).forEach(C=>{m.name=C,a.push(this.visitState(m,t))}),m.name=v}else if(1==f.type){const m=this.visitTransition(f,t);r+=m.queryCount,i+=m.depCount,c.push(m)}else t.errors.push(function v8(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(m=>{V3(m).forEach(v=>{c.hasOwnProperty(v)||a.add(v)})})}),a.size&&(YT(a.values()),t.errors.push(function w8(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Cs(this,xw(e.animation),t);return{type:1,matchers:l7(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:tf(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Cs(this,r,t)),options:tf(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const f=Cs(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:tf(e.options)}}visitAnimate(e,t){const r=function y7(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return IN(KT(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=IN(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=KT(t,e);return IN(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:cw({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const v={};r.easing&&(v.easing=r.easing),c=cw(v)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(c,t);m.isEmptyStep=f,i=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===$l?r.push(f):t.errors.push(new u.vHH(3002,!1)):r.push(O3(f));let a=!1,c=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!a))for(let m of f.values())if(m.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,m)=>{const v=t.collectedStyles.get(t.currentQuerySelector),C=v.get(m);let T=!0;C&&(a!=i&&a>=C.startTime&&i<=C.endTime&&(t.errors.push(function E8(n,e,t,r,i){return new u.vHH(3010,!1)}()),T=!1),a=C.startTime),T&&v.set(m,{startTime:a,endTime:i}),t.options&&function e7(n,e,t){const r=e.params||{},i=V3(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function p8(n){return new u.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function C8(){return new u.vHH(3011,!1)}()),r;let a=0;const c=[];let f=!1,m=!1,v=0;const C=e.steps.map(pe=>{const Re=this._makeStyleAst(pe,t);let ke=null!=Re.offset?Re.offset:function m7(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Re.styles),$e=0;return null!=ke&&(a++,$e=Re.offset=ke),m=m||$e<0||$e>1,f=f||$e<v,v=$e,c.push($e),Re});m&&t.errors.push(function I8(){return new u.vHH(3012,!1)}()),f&&t.errors.push(function T8(){return new u.vHH(3200,!1)}());const T=e.steps.length;let M=0;a>0&&a<T?t.errors.push(function D8(){return new u.vHH(3202,!1)}()):0==a&&(M=1/(T-1));const N=T-1,L=t.currentTime,z=t.currentAnimateTimings,G=z.duration;return C.forEach((pe,Re)=>{const ke=M>0?Re==N?1:M*Re:c[Re],$e=ke*G;t.currentTime=L+z.delay+$e,z.duration=$e,this._validateStyleAst(pe,t),pe.offset=ke,r.styles.push(pe)}),r}visitReference(e,t){return{type:8,animation:Cs(this,xw(e.animation),t),options:tf(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:tf(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:tf(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function f7(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(d7,"")),n=n.replace(/@\*/g,WT).replace(/@\w+/g,t=>WT+"-"+t.slice(1)).replace(/:animating/g,vN),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Es(t.collectedStyles,t.currentQuerySelector,new Map);const f=Cs(this,xw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:tf(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function A8(){return new u.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:KT(e.timings,t.errors,!0);return{type:12,animation:Cs(this,xw(e.animation),t),timings:r,options:null}}}class g7{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function tf(n){return n?(n=Sw(n)).params&&(n.params=function p7(n){return n?Sw(n):null}(n.params)):n={},n}function IN(n,e,t){return{duration:n,delay:e,easing:t}}function TN(n,e,t,r,i,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class nD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const w7=new RegExp(":enter","g"),E7=new RegExp(":leave","g");function DN(n,e,t,r,i,a=new Map,c=new Map,f,m,v=[]){return(new C7).buildKeyframes(n,e,t,r,i,a,c,f,m,v)}class C7{buildKeyframes(e,t,r,i,a,c,f,m,v,C=[]){v=v||new nD;const T=new AN(e,t,v,i,a,C,[]);T.options=m;const M=m.delay?zl(m.delay):0;T.currentTimeline.delayNextStep(M),T.currentTimeline.setStyles([c],null,T.errors,m),Cs(this,r,T);const N=T.timelines.filter(L=>L.containsAnimation());if(N.length&&f.size){let L;for(let z=N.length-1;z>=0;z--){const G=N[z];if(G.element===t){L=G;break}}L&&!L.allowOnlyTimelineStyles()&&L.setStyles([f],null,T.errors,m)}return N.length?N.map(L=>L.buildKeyframes()):[TN(t,[],[],[],0,M,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const c="number"==typeof a?a:zl(Mw(a,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?zl(r.duration):null,f=null!=r.delay?zl(r.delay):null;return 0!==c&&e.forEach(m=>{const v=t.appendInstructionToTimeline(m,c,f);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Cs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=rD);const c=zl(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Cs(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?zl(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Cs(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return KT(t.params?Mw(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(m=>{f.forwardTime((m.offset||0)*a),f.setStyles(m.styles,m.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?zl(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=rD);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let m=null;f.forEach((v,C)=>{t.currentQueryIndex=C;const T=t.createSubContext(e.options,v);a&&T.delayNextStep(a),v===t.element&&(m=T.currentTimeline),Cs(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let m=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":m=f-m;break;case"full":m=r.currentStaggerTime}const C=t.currentTimeline;m&&C.delayNextStep(m);const T=C.currentTime;Cs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-T+(i.startTime-r.currentTimeline.startTime)}}const rD={};class AN{constructor(e,t,r,i,a,c,f,m){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new iD(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=zl(r.duration)),null!=r.delay&&(i.delay=zl(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=Mw(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new AN(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=rD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new I7(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(w7,"."+this._enterClassName)).replace(E7,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!a&&0==f.length&&c.push(function S8(n){return new u.vHH(3014,!1)}()),f}}class iD{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new iD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||$l),this._currentKeyframe.set(t,$l);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},c=function T7(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,$l)}else Lc(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,m]of c){const v=Mw(m,a,r);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??$l),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,m)=>{const v=Lc(f,new Map,this._backFill);v.forEach((C,T)=>{C===SR?e.add(T):C===$l&&t.add(T)}),r||v.set("offset",m/this.duration),i.push(v)});const a=e.size?YT(e.values()):[],c=t.size?YT(t.values()):[];if(r){const f=i[0],m=new Map(f);f.set("offset",0),m.set("offset",1),i=[f,m]}return TN(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class I7 extends iD{constructor(e,t,r,i,a,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,f=t/c,m=Lc(e[0]);m.set("offset",0),a.push(m);const v=Lc(e[0]);v.set("offset",H3(f)),a.push(v);const C=e.length-1;for(let T=1;T<=C;T++){let M=Lc(e[T]);const N=M.get("offset");M.set("offset",H3((t+N*r)/c)),a.push(M)}r=c,t=0,i="",e=a}return TN(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function H3(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class SN{}const D7=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class A7 extends SN{normalizePropertyName(e,t){return EN(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(D7.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function y8(n,e){return new u.vHH(3005,!1)}())}return c+a}}function z3(n,e,t,r,i,a,c,f,m,v,C,T,M){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:m,preStyleProps:v,postStyleProps:C,totalTime:T,errors:M}}const xN={};class q3{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function S7(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,c,f,m,v,C){const T=[],M=this.ast.options&&this.ast.options.params||xN,L=this.buildStyles(r,f&&f.params||xN,T),z=m&&m.params||xN,G=this.buildStyles(i,z,T),pe=new Set,Re=new Map,ke=new Map,$e="void"===i,It={params:x7(z,M),delay:this.ast.options?.delay},Tt=C?[]:DN(e,t,this.ast.animation,a,c,L,G,It,v,T);let en=0;if(Tt.forEach(bi=>{en=Math.max(bi.duration+bi.delay,en)}),T.length)return z3(t,this._triggerName,r,i,$e,L,G,[],[],Re,ke,en,T);Tt.forEach(bi=>{const ql=bi.element,oU=Es(Re,ql,new Set);bi.preStyleProps.forEach(nf=>oU.add(nf));const Nw=Es(ke,ql,new Set);bi.postStyleProps.forEach(nf=>Nw.add(nf)),ql!==t&&pe.add(ql)});const jn=YT(pe.values());return z3(t,this._triggerName,r,i,$e,L,G,Tt,jn,Re,ke,en)}}function x7(n,e){const t=Sw(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class M7{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Sw(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(i[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,f)=>{c&&(c=Mw(c,i,t));const m=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,m,c,t),r.set(f,c)})}),r}}class N7{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new M7(i.style,i.options&&i.options.params||{},r))}),G3(this.states,"true","1"),G3(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new q3(e,i,this.states))}),this.fallbackTransition=function P7(n,e,t){return new q3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function G3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const O7=new nD;class k7{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],a=CN(this._driver,t,r,i);if(r.length)throw function k8(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=I3(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let c;const f=new Map;if(a?(c=DN(this._driver,t,a,_N,GT,new Map,new Map,r,O7,i),c.forEach(C=>{const T=Es(f,C.element,new Map);C.postStyleProps.forEach(M=>T.set(M,null))})):(i.push(function F8(){return new u.vHH(3300,!1)}()),c=[]),i.length)throw function L8(n){return new u.vHH(3504,!1)}();f.forEach((C,T)=>{C.forEach((M,N)=>{C.set(N,this._driver.computeStyle(T,N,$l))})});const v=Fc(c.map(C=>{const T=f.get(C.element);return this._buildPlayer(C,new Map,T)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function V8(n){return new u.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=pN(t,"","","");return hN(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Z3="ng-animate-queued",MN="ng-animate-disabled",B7=[],W3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$7={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qs="__ng_removed";class RN{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function q7(n){return n??null}(r?e.value:e),r){const a=Sw(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Rw="void",NN=new RN(Rw);class j7{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Js(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function U8(n,e){return new u.vHH(3302,!1)}();if(null==r||0==r.length)throw function B8(n){return new u.vHH(3303,!1)}();if(!function G7(n){return"start"==n||"done"==n}(r))throw function $8(n,e){return new u.vHH(3400,!1)}();const a=Es(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const f=Es(this._engine.statesByElement,e,new Map);return f.has(t)||(Js(e,ZT),Js(e,ZT+"-"+t),f.set(t,NN)),()=>{this._engine.afterFlush(()=>{const m=a.indexOf(c);m>=0&&a.splice(m,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function j8(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new PN(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Js(e,ZT),Js(e,ZT+"-"+t),this._engine.statesByElement.set(e,f=new Map));let m=f.get(t);const v=new RN(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),f.set(t,v),m||(m=NN),v.value!==Rw&&m.value===v.value){if(!function K7(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(m.params,v.params)){const z=[],G=a.matchStyles(m.value,m.params,z),pe=a.matchStyles(v.value,v.params,z);z.length?this._engine.reportError(z):this._engine.afterFlush(()=>{ef(e,G),Pa(e,pe)})}return}const M=Es(this._engine.playersByElement,e,[]);M.forEach(z=>{z.namespaceId==this.id&&z.triggerName==t&&z.queued&&z.destroy()});let N=a.matchTransition(m.value,v.value,e,v.params),L=!1;if(!N){if(!i)return;N=a.fallbackTransition,L=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:N,fromState:m,toState:v,player:c,isFallbackTransition:L}),L||(Js(e,Z3),c.onStart(()=>{Sm(e,Z3)})),c.onDone(()=>{let z=this.players.indexOf(c);z>=0&&this.players.splice(z,1);const G=this._engine.playersByElement.get(e);if(G){let pe=G.indexOf(c);pe>=0&&G.splice(pe,1)}}),this.players.push(c),M.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,WT,!0);r.forEach(i=>{if(i[Qs])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(a.forEach((m,v)=>{if(c.set(v,m.value),this._triggers.has(v)){const C=this.trigger(e,v,Rw,i);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Fc(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const m=this._triggers.get(c).fallbackTransition,v=r.get(c)||NN,C=new RN(Rw),T=new PN(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:m,fromState:v,toState:C,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Qs];(!a||a===W3)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Js(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const m=pN(a,r.triggerName,r.fromState.value,r.toState.value);m._data=e,hN(r.player,f.phase,m,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class H7{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new j7(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const m=i.get(f);if(m){const v=r.indexOf(m);r.splice(v+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(sD(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!sD(t))return;const a=t[Qs];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Js(e,MN)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Sm(e,MN))}removeNode(e,t,r,i){if(sD(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Qs]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return sD(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,WT,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,vN,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Fc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Qs];if(t&&t.setForRemoval){if(e[Qs]=W3,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(MN)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Js(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Fc(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function H8(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new nD,i=[],a=new Map,c=[],f=new Map,m=new Map,v=new Map,C=new Set;this.disabledNodes.forEach(at=>{C.add(at);const vt=this.driver.query(at,".ng-animate-queued",!0);for(let Mt=0;Mt<vt.length;Mt++)C.add(vt[Mt])});const T=this.bodyNode,M=Array.from(this.statesByElement.keys()),N=Q3(M,this.collectedEnterElements),L=new Map;let z=0;N.forEach((at,vt)=>{const Mt=_N+z++;L.set(vt,Mt),at.forEach(rn=>Js(rn,Mt))});const G=[],pe=new Set,Re=new Set;for(let at=0;at<this.collectedLeaveElements.length;at++){const vt=this.collectedLeaveElements[at],Mt=vt[Qs];Mt&&Mt.setForRemoval&&(G.push(vt),pe.add(vt),Mt.hasAnimation?this.driver.query(vt,".ng-star-inserted",!0).forEach(rn=>pe.add(rn)):Re.add(vt))}const ke=new Map,$e=Q3(M,Array.from(pe));$e.forEach((at,vt)=>{const Mt=GT+z++;ke.set(vt,Mt),at.forEach(rn=>Js(rn,Mt))}),e.push(()=>{N.forEach((at,vt)=>{const Mt=L.get(vt);at.forEach(rn=>Sm(rn,Mt))}),$e.forEach((at,vt)=>{const Mt=ke.get(vt);at.forEach(rn=>Sm(rn,Mt))}),G.forEach(at=>{this.processLeaveNode(at)})});const It=[],Tt=[];for(let at=this._namespaceList.length-1;at>=0;at--)this._namespaceList[at].drainQueuedTransitions(t).forEach(Mt=>{const rn=Mt.player,zr=Mt.element;if(It.push(rn),this.collectedEnterElements.length){const Ei=zr[Qs];if(Ei&&Ei.setForMove){if(Ei.previousTriggersValues&&Ei.previousTriggersValues.has(Mt.triggerName)){const rf=Ei.previousTriggersValues.get(Mt.triggerName),Xs=this.statesByElement.get(Mt.element);if(Xs&&Xs.has(Mt.triggerName)){const lD=Xs.get(Mt.triggerName);lD.value=rf,Xs.set(Mt.triggerName,lD)}}return void rn.destroy()}}const Oa=!T||!this.driver.containsElement(T,zr),Is=ke.get(zr),Vc=L.get(zr),Hn=this._buildInstruction(Mt,r,Vc,Is,Oa);if(Hn.errors&&Hn.errors.length)return void Tt.push(Hn);if(Oa)return rn.onStart(()=>ef(zr,Hn.fromStyles)),rn.onDestroy(()=>Pa(zr,Hn.toStyles)),void i.push(rn);if(Mt.isFallbackTransition)return rn.onStart(()=>ef(zr,Hn.fromStyles)),rn.onDestroy(()=>Pa(zr,Hn.toStyles)),void i.push(rn);const uU=[];Hn.timelines.forEach(Ei=>{Ei.stretchStartingKeyframe=!0,this.disabledNodes.has(Ei.element)||uU.push(Ei)}),Hn.timelines=uU,r.append(zr,Hn.timelines),c.push({instruction:Hn,player:rn,element:zr}),Hn.queriedElements.forEach(Ei=>Es(f,Ei,[]).push(rn)),Hn.preStyleProps.forEach((Ei,rf)=>{if(Ei.size){let Xs=m.get(rf);Xs||m.set(rf,Xs=new Set),Ei.forEach((lD,FN)=>Xs.add(FN))}}),Hn.postStyleProps.forEach((Ei,rf)=>{let Xs=v.get(rf);Xs||v.set(rf,Xs=new Set),Ei.forEach((lD,FN)=>Xs.add(FN))})});if(Tt.length){const at=[];Tt.forEach(vt=>{at.push(function z8(n,e){return new u.vHH(3505,!1)}())}),It.forEach(vt=>vt.destroy()),this.reportError(at)}const en=new Map,jn=new Map;c.forEach(at=>{const vt=at.element;r.has(vt)&&(jn.set(vt,vt),this._beforeAnimationBuild(at.player.namespaceId,at.instruction,en))}),i.forEach(at=>{const vt=at.element;this._getPreviousPlayers(vt,!1,at.namespaceId,at.triggerName,null).forEach(rn=>{Es(en,vt,[]).push(rn),rn.destroy()})});const bi=G.filter(at=>X3(at,m,v)),ql=new Map;Y3(ql,this.driver,Re,v,$l).forEach(at=>{X3(at,m,v)&&bi.push(at)});const Nw=new Map;N.forEach((at,vt)=>{Y3(Nw,this.driver,new Set(at),m,SR)}),bi.forEach(at=>{const vt=ql.get(at),Mt=Nw.get(at);ql.set(at,new Map([...Array.from(vt?.entries()??[]),...Array.from(Mt?.entries()??[])]))});const nf=[],aU=[],lU={};c.forEach(at=>{const{element:vt,player:Mt,instruction:rn}=at;if(r.has(vt)){if(C.has(vt))return Mt.onDestroy(()=>Pa(vt,rn.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(rn.totalTime),void i.push(Mt);let zr=lU;if(jn.size>1){let Is=vt;const Vc=[];for(;Is=Is.parentNode;){const Hn=jn.get(Is);if(Hn){zr=Hn;break}Vc.push(Is)}Vc.forEach(Hn=>jn.set(Hn,zr))}const Oa=this._buildAnimation(Mt.namespaceId,rn,en,a,Nw,ql);if(Mt.setRealPlayer(Oa),zr===lU)nf.push(Mt);else{const Is=this.playersByElement.get(zr);Is&&Is.length&&(Mt.parentPlayer=Fc(Is)),i.push(Mt)}}else ef(vt,rn.fromStyles),Mt.onDestroy(()=>Pa(vt,rn.toStyles)),aU.push(Mt),C.has(vt)&&i.push(Mt)}),aU.forEach(at=>{const vt=a.get(at.element);if(vt&&vt.length){const Mt=Fc(vt);at.setRealPlayer(Mt)}}),i.forEach(at=>{at.parentPlayer?at.syncPlayerEvents(at.parentPlayer):at.destroy()});for(let at=0;at<G.length;at++){const vt=G[at],Mt=vt[Qs];if(Sm(vt,GT),Mt&&Mt.hasAnimation)continue;let rn=[];if(f.size){let Oa=f.get(vt);Oa&&Oa.length&&rn.push(...Oa);let Is=this.driver.query(vt,vN,!0);for(let Vc=0;Vc<Is.length;Vc++){let Hn=f.get(Is[Vc]);Hn&&Hn.length&&rn.push(...Hn)}}const zr=rn.filter(Oa=>!Oa.destroyed);zr.length?Z7(this,vt,zr):this.processLeaveNode(vt)}return G.length=0,nf.forEach(at=>{this.players.push(at),at.onDone(()=>{at.destroy();const vt=this.players.indexOf(at);this.players.splice(vt,1)}),at.play()}),nf}elementContainsData(e,t){let r=!1;const i=t[Qs];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const m=!a||a==Rw;f.forEach(v=>{v.queued||!m&&v.triggerName!=i||c.push(v)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const v=m.element,C=v!==a,T=Es(r,v,[]);this._getPreviousPlayers(v,C,c,f,t.toState).forEach(N=>{const L=N.getRealPlayer();L.beforeDestroy&&L.beforeDestroy(),N.destroy(),T.push(N)})}ef(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const f=t.triggerName,m=t.element,v=[],C=new Set,T=new Set,M=t.timelines.map(L=>{const z=L.element;C.add(z);const G=z[Qs];if(G&&G.removedBeforeQueried)return new dw(L.duration,L.delay);const pe=z!==m,Re=function W7(n){const e=[];return J3(n,e),e}((r.get(z)||B7).map(en=>en.getRealPlayer())).filter(en=>!!en.element&&en.element===z),ke=a.get(z),$e=c.get(z),It=I3(0,this._normalizer,0,L.keyframes,ke,$e),Tt=this._buildPlayer(L,It,Re);if(L.subTimeline&&i&&T.add(z),pe){const en=new PN(e,f,z);en.setRealPlayer(Tt),v.push(en)}return Tt});v.forEach(L=>{Es(this.playersByQueriedElement,L.element,[]).push(L),L.onDone(()=>function z7(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,L.element,L))}),C.forEach(L=>Js(L,P3));const N=Fc(M);return N.onDestroy(()=>{C.forEach(L=>Sm(L,P3)),Pa(m,t.toStyles)}),T.forEach(L=>{Es(i,L,[]).push(N)}),N}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new dw(e.duration,e.delay)}}class PN{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new dw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>hN(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Es(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function sD(n){return n&&1===n.nodeType}function K3(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Y3(n,e,t,r,i){const a=[];t.forEach(m=>a.push(K3(m)));const c=[];r.forEach((m,v)=>{const C=new Map;m.forEach(T=>{const M=e.computeStyle(v,T,i);C.set(T,M),(!M||0==M.length)&&(v[Qs]=$7,c.push(v))}),n.set(v,C)});let f=0;return t.forEach(m=>K3(m,a[f++])),c}function Q3(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=1,i=new Set(e),a=new Map;function c(f){if(!f)return r;let m=a.get(f);if(m)return m;const v=f.parentNode;return m=t.has(v)?v:i.has(v)?r:c(v),a.set(f,m),m}return e.forEach(f=>{const m=c(f);m!==r&&t.get(m).push(f)}),t}function Js(n,e){n.classList?.add(e)}function Sm(n,e){n.classList?.remove(e)}function Z7(n,e,t){Fc(t).onDone(()=>n.processLeaveNode(e))}function J3(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof ML?J3(r.players,e):e.push(r)}}function X3(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class oD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new H7(e,t,r),this._timelineEngine=new k7(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const m=[],v=[],C=CN(this._driver,a,m,v);if(m.length)throw function P8(n,e){return new u.vHH(3404,!1)}();f=function R7(n,e,t){return new N7(n,e,t)}(i,C,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=T3(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,f]=T3(r);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Q7=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Pa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pa(this._element,this._initialStyles),this._endStyles&&(Pa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ef(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ef(this._element,this._endStyles),this._endStyles=null),Pa(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ON(n){let e=null;return n.forEach((t,r)=>{(function J7(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class eU{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:U3(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class X7{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return x3(e,t)}getParentElement(e){return mN(e)}query(e,t,r){return M3(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const m={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(m.easing=a);const v=new Map,C=c.filter(N=>N instanceof eU);(function r7(n,e){return 0===n||0===e})(r,i)&&C.forEach(N=>{N.currentSnapshot.forEach((L,z)=>v.set(z,L))});let T=function X8(n){return n.length?n[0]instanceof Map?n:n.map(e=>O3(e)):[]}(t).map(N=>Lc(N));T=function i7(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,c)=>{r.has(c)||i.push(c),r.set(c,a)}),i.length)for(let a=1;a<e.length;a++){let c=e[a];i.forEach(f=>c.set(f,U3(n,f)))}}return e}(e,T,v);const M=function Y7(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=ON(e[0]),e.length>1&&(r=ON(e[e.length-1]))):e instanceof Map&&(t=ON(e)),t||r?new Q7(n,t,r):null}(e,T);return new eU(e,T,m,M)}}let eq=(()=>{class n extends TL{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?AL(t):t;return tU(this._renderer,null,r,"register",[i]),new tq(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class tq extends N${constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new nq(this._id,e,t||{},this._renderer)}}class nq{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function tU(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const nU="@.disabled";let rq=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const f=c?.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let C=this._rendererCache.get(a);return C||(C=new rU("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,C)),C}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const m=C=>{Array.isArray(C)?C.forEach(m):this.engine.registerTrigger(c,f,t,C.name,C)};return r.data.animation.forEach(m),new iq(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(oD),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class rU{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==nU?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class iq extends rU{constructor(e,t,r,i,a){super(t,r,i,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==nU?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function sq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function oq(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let aq=(()=>{class n extends oD{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se),u.LFG(yN),u.LFG(SN),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const iU=[{provide:TL,useClass:eq},{provide:SN,useFactory:function lq(){return new A7}},{provide:oD,useClass:aq},{provide:u.FYo,useFactory:function uq(n,e,t){return new rq(n,e,t)},deps:[Dr,oD,u.R0b]}],kN=[{provide:yN,useFactory:()=>new X7},{provide:u.QbO,useValue:"BrowserAnimations"},...iU],sU=[{provide:yN,useClass:R3},{provide:u.QbO,useValue:"NoopAnimations"},...iU];let cq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?sU:kN}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:kN,imports:[po]}),n})(),dq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[d8]}),n.\u0275inj=u.cJS({providers:[{provide:Gh.Dh,useValue:E3.firebase}],imports:[po,c8,y3,cq,Xz,e9,zz,tj.forRoot(),fh(()=>$A(E3.firebase)),Qi(()=>wS()),y$(()=>w$()),GH(()=>PT())]}),n})();Zm().bootstrapModule(dq).catch(n=>console.error(n))},9751:(mt,De,O)=>{O.d(De,{y:()=>Ae});var u=O(2961),k=O(727),te=O(8822),ue=O(9635),fe=O(2416),se=O(576),Ne=O(2806);let Ae=(()=>{class H{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const We=new H;return We.source=this,We.operator=Se,We}subscribe(Se,We,Je){const Q=function V(H){return H&&H instanceof u.Lv||function B(H){return H&&(0,se.m)(H.next)&&(0,se.m)(H.error)&&(0,se.m)(H.complete)}(H)&&(0,k.Nn)(H)}(Se)?Se:new u.Hp(Se,We,Je);return(0,Ne.x)(()=>{const{operator:xe,source:we}=this;Q.add(xe?xe.call(Q,we):we?this._subscribe(Q):this._trySubscribe(Q))}),Q}_trySubscribe(Se){try{return this._subscribe(Se)}catch(We){Se.error(We)}}forEach(Se,We){return new(We=Pe(We))((Je,Q)=>{const xe=new u.Hp({next:we=>{try{Se(we)}catch(Le){Q(Le),xe.unsubscribe()}},error:Q,complete:Je});this.subscribe(xe)})}_subscribe(Se){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Se)}[te.L](){return this}pipe(...Se){return(0,ue.U)(Se)(this)}toPromise(Se){return new(Se=Pe(Se))((We,Je)=>{let Q;this.subscribe(xe=>Q=xe,xe=>Je(xe),()=>We(Q))})}}return H.create=Ve=>new H(Ve),H})();function Pe(H){var Ve;return null!==(Ve=H??fe.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(mt,De,O)=>{O.d(De,{x:()=>Ne});var u=O(9751),k=O(727);const ue=(0,O(3888).d)(Pe=>function(){Pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=O(8737),se=O(2806);let Ne=(()=>{class Pe extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const H=new Ae(this,this);return H.operator=V,H}_throwIfClosed(){if(this.closed)throw new ue}next(V){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const H of this.currentObservers)H.next(V)}})}error(V){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:H}=this;for(;H.length;)H.shift().error(V)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:H,isStopped:Ve,observers:Se}=this;return H||Ve?k.Lc:(this.currentObservers=null,Se.push(V),new k.w0(()=>{this.currentObservers=null,(0,fe.P)(Se,V)}))}_checkFinalizedStatuses(V){const{hasError:H,thrownError:Ve,isStopped:Se}=this;H?V.error(Ve):Se&&V.complete()}asObservable(){const V=new u.y;return V.source=this,V}}return Pe.create=(B,V)=>new Ae(B,V),Pe})();class Ae extends Ne{constructor(B,V){super(),this.destination=B,this.source=V}next(B){var V,H;null===(H=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===H||H.call(V,B)}error(B){var V,H;null===(H=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===H||H.call(V,B)}complete(){var B,V;null===(V=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===V||V.call(B)}_subscribe(B){var V,H;return null!==(H=null===(V=this.source)||void 0===V?void 0:V.subscribe(B))&&void 0!==H?H:k.Lc}}},2961:(mt,De,O)=>{O.d(De,{Hp:()=>Je,Lv:()=>H});var u=O(576),k=O(727),te=O(2416),ue=O(7849);function fe(){}const se=Pe("C",void 0,void 0);function Pe(ge,de,_e){return{kind:ge,value:de,error:_e}}var B=O(3410),V=O(2806);class H extends k.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,k.Nn)(de)&&de.add(this)):this.destination=Le}static create(de,_e,Fe){return new Je(de,_e,Fe)}next(de){this.isStopped?we(function Ae(ge){return Pe("N",ge,void 0)}(de),this):this._next(de)}error(de){this.isStopped?we(function Ne(ge){return Pe("E",void 0,ge)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?we(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Se(ge,de){return Ve.call(ge,de)}class We{constructor(de){this.partialObserver=de}next(de){const{partialObserver:_e}=this;if(_e.next)try{_e.next(de)}catch(Fe){Q(Fe)}}error(de){const{partialObserver:_e}=this;if(_e.error)try{_e.error(de)}catch(Fe){Q(Fe)}else Q(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(_e){Q(_e)}}}class Je extends H{constructor(de,_e,Fe){let Oe;if(super(),(0,u.m)(de)||!de)Oe={next:de??void 0,error:_e??void 0,complete:Fe??void 0};else{let Y;this&&te.v.useDeprecatedNextContext?(Y=Object.create(de),Y.unsubscribe=()=>this.unsubscribe(),Oe={next:de.next&&Se(de.next,Y),error:de.error&&Se(de.error,Y),complete:de.complete&&Se(de.complete,Y)}):Oe=de}this.destination=new We(Oe)}}function Q(ge){te.v.useDeprecatedSynchronousErrorHandling?(0,V.O)(ge):(0,ue.h)(ge)}function we(ge,de){const{onStoppedNotification:_e}=te.v;_e&&B.z.setTimeout(()=>_e(ge,de))}const Le={closed:!0,next:fe,error:function xe(ge){throw ge},complete:fe}},727:(mt,De,O)=>{O.d(De,{Lc:()=>se,w0:()=>fe,Nn:()=>Ne});var u=O(576);const te=(0,O(3888).d)(Pe=>function(V){Pe(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((H,Ve)=>`${Ve+1}) ${H.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var ue=O(8737);class fe{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const Se of V)Se.remove(this);else V.remove(this);const{initialTeardown:H}=this;if((0,u.m)(H))try{H()}catch(Se){B=Se instanceof te?Se.errors:[Se]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Se of Ve)try{Ae(Se)}catch(We){B=B??[],We instanceof te?B=[...B,...We.errors]:B.push(We)}}if(B)throw new te(B)}}add(B){var V;if(B&&B!==this)if(this.closed)Ae(B);else{if(B instanceof fe){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(V=this._finalizers)&&void 0!==V?V:[]).push(B)}}_hasParent(B){const{_parentage:V}=this;return V===B||Array.isArray(V)&&V.includes(B)}_addParent(B){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(B),V):V?[V,B]:B}_removeParent(B){const{_parentage:V}=this;V===B?this._parentage=null:Array.isArray(V)&&(0,ue.P)(V,B)}remove(B){const{_finalizers:V}=this;V&&(0,ue.P)(V,B),B instanceof fe&&B._removeParent(this)}}fe.EMPTY=(()=>{const Pe=new fe;return Pe.closed=!0,Pe})();const se=fe.EMPTY;function Ne(Pe){return Pe instanceof fe||Pe&&"closed"in Pe&&(0,u.m)(Pe.remove)&&(0,u.m)(Pe.add)&&(0,u.m)(Pe.unsubscribe)}function Ae(Pe){(0,u.m)(Pe)?Pe():Pe.unsubscribe()}},2416:(mt,De,O)=>{O.d(De,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,De,O)=>{O.d(De,{E:()=>k});const k=new(O(9751).y)(fe=>fe.complete())},8996:(mt,De,O)=>{O.d(De,{D:()=>de});var u=O(8421),k=O(5363),te=O(9468),se=O(9751),Ae=O(2202),Pe=O(576),B=O(9672);function H(_e,Fe){if(!_e)throw new Error("Iterable cannot be null");return new se.y(Oe=>{(0,B.f)(Oe,Fe,()=>{const Y=_e[Symbol.asyncIterator]();(0,B.f)(Oe,Fe,()=>{Y.next().then(Ke=>{Ke.done?Oe.complete():Oe.next(Ke.value)})},0,!0)})})}var Ve=O(3670),Se=O(8239),We=O(1144),Je=O(6495),Q=O(2206),xe=O(4532),we=O(3260);function de(_e,Fe){return Fe?function ge(_e,Fe){if(null!=_e){if((0,Ve.c)(_e))return function ue(_e,Fe){return(0,u.Xf)(_e).pipe((0,te.R)(Fe),(0,k.Q)(Fe))}(_e,Fe);if((0,We.z)(_e))return function Ne(_e,Fe){return new se.y(Oe=>{let Y=0;return Fe.schedule(function(){Y===_e.length?Oe.complete():(Oe.next(_e[Y++]),Oe.closed||this.schedule())})})}(_e,Fe);if((0,Se.t)(_e))return function fe(_e,Fe){return(0,u.Xf)(_e).pipe((0,te.R)(Fe),(0,k.Q)(Fe))}(_e,Fe);if((0,Q.D)(_e))return H(_e,Fe);if((0,Je.T)(_e))return function V(_e,Fe){return new se.y(Oe=>{let Y;return(0,B.f)(Oe,Fe,()=>{Y=_e[Ae.h](),(0,B.f)(Oe,Fe,()=>{let Ke,wt;try{({value:Ke,done:wt}=Y.next())}catch(Ye){return void Oe.error(Ye)}wt?Oe.complete():Oe.next(Ke)},0,!0)}),()=>(0,Pe.m)(Y?.return)&&Y.return()})}(_e,Fe);if((0,we.L)(_e))return function Le(_e,Fe){return H((0,we.Q)(_e),Fe)}(_e,Fe)}throw(0,xe.z)(_e)}(_e,Fe):(0,u.Xf)(_e)}},8421:(mt,De,O)=>{O.d(De,{Xf:()=>Ve});var u=O(7582),k=O(1144),te=O(8239),ue=O(9751),fe=O(3670),se=O(2206),Ne=O(4532),Ae=O(6495),Pe=O(3260),B=O(576),V=O(7849),H=O(8822);function Ve(ge){if(ge instanceof ue.y)return ge;if(null!=ge){if((0,fe.c)(ge))return function Se(ge){return new ue.y(de=>{const _e=ge[H.L]();if((0,B.m)(_e.subscribe))return _e.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,k.z)(ge))return function We(ge){return new ue.y(de=>{for(let _e=0;_e<ge.length&&!de.closed;_e++)de.next(ge[_e]);de.complete()})}(ge);if((0,te.t)(ge))return function Je(ge){return new ue.y(de=>{ge.then(_e=>{de.closed||(de.next(_e),de.complete())},_e=>de.error(_e)).then(null,V.h)})}(ge);if((0,se.D)(ge))return xe(ge);if((0,Ae.T)(ge))return function Q(ge){return new ue.y(de=>{for(const _e of ge)if(de.next(_e),de.closed)return;de.complete()})}(ge);if((0,Pe.L)(ge))return function we(ge){return xe((0,Pe.Q)(ge))}(ge)}throw(0,Ne.z)(ge)}function xe(ge){return new ue.y(de=>{(function Le(ge,de){var _e,Fe,Oe,Y;return(0,u.mG)(this,void 0,void 0,function*(){try{for(_e=(0,u.KL)(ge);!(Fe=yield _e.next()).done;)if(de.next(Fe.value),de.closed)return}catch(Ke){Oe={error:Ke}}finally{try{Fe&&!Fe.done&&(Y=_e.return)&&(yield Y.call(_e))}finally{if(Oe)throw Oe.error}}de.complete()})})(ge,de).catch(_e=>de.error(_e))})}},6451:(mt,De,O)=>{O.d(De,{T:()=>se});var u=O(8189),k=O(8421),te=O(515),ue=O(7669),fe=O(8996);function se(...Ne){const Ae=(0,ue.yG)(Ne),Pe=(0,ue._6)(Ne,1/0),B=Ne;return B.length?1===B.length?(0,k.Xf)(B[0]):(0,u.J)(Pe)((0,fe.D)(B,Ae)):te.E}},5403:(mt,De,O)=>{O.d(De,{x:()=>k});var u=O(2961);function k(ue,fe,se,Ne,Ae){return new te(ue,fe,se,Ne,Ae)}class te extends u.Lv{constructor(fe,se,Ne,Ae,Pe,B){super(fe),this.onFinalize=Pe,this.shouldUnsubscribe=B,this._next=se?function(V){try{se(V)}catch(H){fe.error(H)}}:super._next,this._error=Ae?function(V){try{Ae(V)}catch(H){fe.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(V){fe.error(V)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(mt,De,O)=>{O.d(De,{U:()=>te});var u=O(4482),k=O(5403);function te(ue,fe){return(0,u.e)((se,Ne)=>{let Ae=0;se.subscribe((0,k.x)(Ne,Pe=>{Ne.next(ue.call(fe,Pe,Ae++))}))})}},8189:(mt,De,O)=>{O.d(De,{J:()=>te});var u=O(5577),k=O(4671);function te(ue=1/0){return(0,u.z)(k.y,ue)}},5577:(mt,De,O)=>{O.d(De,{z:()=>Ae});var u=O(4004),k=O(8421),te=O(4482),ue=O(9672),fe=O(5403),Ne=O(576);function Ae(Pe,B,V=1/0){return(0,Ne.m)(B)?Ae((H,Ve)=>(0,u.U)((Se,We)=>B(H,Se,Ve,We))((0,k.Xf)(Pe(H,Ve))),V):("number"==typeof B&&(V=B),(0,te.e)((H,Ve)=>function se(Pe,B,V,H,Ve,Se,We,Je){const Q=[];let xe=0,we=0,Le=!1;const ge=()=>{Le&&!Q.length&&!xe&&B.complete()},de=Fe=>xe<H?_e(Fe):Q.push(Fe),_e=Fe=>{Se&&B.next(Fe),xe++;let Oe=!1;(0,k.Xf)(V(Fe,we++)).subscribe((0,fe.x)(B,Y=>{Ve?.(Y),Se?de(Y):B.next(Y)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(xe--;Q.length&&xe<H;){const Y=Q.shift();We?(0,ue.f)(B,We,()=>_e(Y)):_e(Y)}ge()}catch(Y){B.error(Y)}}))};return Pe.subscribe((0,fe.x)(B,de,()=>{Le=!0,ge()})),()=>{Je?.()}}(H,Ve,Pe,V)))}},5363:(mt,De,O)=>{O.d(De,{Q:()=>ue});var u=O(9672),k=O(4482),te=O(5403);function ue(fe,se=0){return(0,k.e)((Ne,Ae)=>{Ne.subscribe((0,te.x)(Ae,Pe=>(0,u.f)(Ae,fe,()=>Ae.next(Pe),se),()=>(0,u.f)(Ae,fe,()=>Ae.complete(),se),Pe=>(0,u.f)(Ae,fe,()=>Ae.error(Pe),se)))})}},3099:(mt,De,O)=>{O.d(De,{B:()=>fe});var u=O(8421),k=O(7579),te=O(2961),ue=O(4482);function fe(Ne={}){const{connector:Ae=(()=>new k.x),resetOnError:Pe=!0,resetOnComplete:B=!0,resetOnRefCountZero:V=!0}=Ne;return H=>{let Ve,Se,We,Je=0,Q=!1,xe=!1;const we=()=>{Se?.unsubscribe(),Se=void 0},Le=()=>{we(),Ve=We=void 0,Q=xe=!1},ge=()=>{const de=Ve;Le(),de?.unsubscribe()};return(0,ue.e)((de,_e)=>{Je++,!xe&&!Q&&we();const Fe=We=We??Ae();_e.add(()=>{Je--,0===Je&&!xe&&!Q&&(Se=se(ge,V))}),Fe.subscribe(_e),!Ve&&Je>0&&(Ve=new te.Hp({next:Oe=>Fe.next(Oe),error:Oe=>{xe=!0,we(),Se=se(Le,Pe,Oe),Fe.error(Oe)},complete:()=>{Q=!0,we(),Se=se(Le,B),Fe.complete()}}),(0,u.Xf)(de).subscribe(Ve))})(H)}}function se(Ne,Ae,...Pe){if(!0===Ae)return void Ne();if(!1===Ae)return;const B=new te.Hp({next:()=>{B.unsubscribe(),Ne()}});return(0,u.Xf)(Ae(...Pe)).subscribe(B)}},9468:(mt,De,O)=>{O.d(De,{R:()=>k});var u=O(4482);function k(te,ue=0){return(0,u.e)((fe,se)=>{se.add(te.schedule(()=>fe.subscribe(se),ue))})}},3410:(mt,De,O)=>{O.d(De,{z:()=>u});const u={setTimeout(k,te,...ue){const{delegate:fe}=u;return fe?.setTimeout?fe.setTimeout(k,te,...ue):setTimeout(k,te,...ue)},clearTimeout(k){const{delegate:te}=u;return(te?.clearTimeout||clearTimeout)(k)},delegate:void 0}},2202:(mt,De,O)=>{O.d(De,{h:()=>k});const k=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,De,O)=>{O.d(De,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(mt,De,O)=>{O.d(De,{_6:()=>se,jO:()=>ue,yG:()=>fe});var u=O(576);function te(Ne){return Ne[Ne.length-1]}function ue(Ne){return(0,u.m)(te(Ne))?Ne.pop():void 0}function fe(Ne){return function k(Ne){return Ne&&(0,u.m)(Ne.schedule)}(te(Ne))?Ne.pop():void 0}function se(Ne,Ae){return"number"==typeof te(Ne)?Ne.pop():Ae}},8737:(mt,De,O)=>{function u(k,te){if(k){const ue=k.indexOf(te);0<=ue&&k.splice(ue,1)}}O.d(De,{P:()=>u})},3888:(mt,De,O)=>{function u(k){const ue=k(fe=>{Error.call(fe),fe.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}O.d(De,{d:()=>u})},2806:(mt,De,O)=>{O.d(De,{O:()=>ue,x:()=>te});var u=O(2416);let k=null;function te(fe){if(u.v.useDeprecatedSynchronousErrorHandling){const se=!k;if(se&&(k={errorThrown:!1,error:null}),fe(),se){const{errorThrown:Ne,error:Ae}=k;if(k=null,Ne)throw Ae}}else fe()}function ue(fe){u.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=fe)}},9672:(mt,De,O)=>{function u(k,te,ue,fe=0,se=!1){const Ne=te.schedule(function(){ue(),se?k.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(k.add(Ne),!se)return Ne}O.d(De,{f:()=>u})},4671:(mt,De,O)=>{function u(k){return k}O.d(De,{y:()=>u})},1144:(mt,De,O)=>{O.d(De,{z:()=>u});const u=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(mt,De,O)=>{O.d(De,{D:()=>k});var u=O(576);function k(te){return Symbol.asyncIterator&&(0,u.m)(te?.[Symbol.asyncIterator])}},576:(mt,De,O)=>{function u(k){return"function"==typeof k}O.d(De,{m:()=>u})},3670:(mt,De,O)=>{O.d(De,{c:()=>te});var u=O(8822),k=O(576);function te(ue){return(0,k.m)(ue[u.L])}},6495:(mt,De,O)=>{O.d(De,{T:()=>te});var u=O(2202),k=O(576);function te(ue){return(0,k.m)(ue?.[u.h])}},8239:(mt,De,O)=>{O.d(De,{t:()=>k});var u=O(576);function k(te){return(0,u.m)(te?.then)}},3260:(mt,De,O)=>{O.d(De,{L:()=>ue,Q:()=>te});var u=O(7582),k=O(576);function te(fe){return(0,u.FC)(this,arguments,function*(){const Ne=fe.getReader();try{for(;;){const{value:Ae,done:Pe}=yield(0,u.qq)(Ne.read());if(Pe)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Ae)}}finally{Ne.releaseLock()}})}function ue(fe){return(0,k.m)(fe?.getReader)}},4482:(mt,De,O)=>{O.d(De,{A:()=>k,e:()=>te});var u=O(576);function k(ue){return(0,u.m)(ue?.lift)}function te(ue){return fe=>{if(k(fe))return fe.lift(function(se){try{return ue(se,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(mt,De,O)=>{O.d(De,{U:()=>te,z:()=>k});var u=O(4671);function k(...ue){return te(ue)}function te(ue){return 0===ue.length?u.y:1===ue.length?ue[0]:function(se){return ue.reduce((Ne,Ae)=>Ae(Ne),se)}}},7849:(mt,De,O)=>{O.d(De,{h:()=>te});var u=O(2416),k=O(3410);function te(ue){k.z.setTimeout(()=>{const{onUnhandledError:fe}=u.v;if(!fe)throw ue;fe(ue)})}},4532:(mt,De,O)=>{function u(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(De,{z:()=>u})},4650:(mt,De,O)=>{O.d(De,{$8M:()=>ol,$WT:()=>gr,$Z:()=>Hb,AFp:()=>Ng,AaK:()=>Ae,BQk:()=>Xd,CHM:()=>qc,CRH:()=>xv,CZH:()=>vh,CqO:()=>Lp,D6c:()=>r0,DdM:()=>dh,EJc:()=>uS,EiD:()=>TD,EpF:()=>Fp,F4k:()=>pE,FYo:()=>My,FiY:()=>go,GfV:()=>Cb,Gpc:()=>V,JOm:()=>ht,JVY:()=>nb,JZr:()=>Je,KtG:()=>Gc,L6k:()=>rb,LAX:()=>Ru,LFG:()=>Wt,LSH:()=>_y,Lbi:()=>oS,Lck:()=>dg,MMx:()=>Sl,MR2:()=>xD,NdJ:()=>b_,O4$:()=>Hm,OlP:()=>qt,Oqu:()=>rh,P3R:()=>pb,PXZ:()=>LP,Q6J:()=>Pp,QGY:()=>fE,QbO:()=>aS,Qsj:()=>LD,R0b:()=>Qi,RDi:()=>mD,Rgc:()=>yg,SBq:()=>Uu,Sil:()=>SP,Suo:()=>SC,TTD:()=>pf,TgZ:()=>Op,Tol:()=>P_,Udp:()=>nh,X6Q:()=>jP,XFs:()=>st,Xpm:()=>ui,Xts:()=>wy,Y36:()=>zu,YKP:()=>pC,YNc:()=>cE,Yjl:()=>Ft,Yz7:()=>ut,Z0I:()=>ri,ZZ4:()=>Ca,_Bn:()=>dv,_UZ:()=>w_,_Vd:()=>Vu,_c5:()=>t0,_uU:()=>va,aQg:()=>kg,c2e:()=>lS,cJS:()=>sn,cg1:()=>W_,d8E:()=>Qp,dDg:()=>OP,dqk:()=>tn,eBb:()=>wD,eFA:()=>IS,eJc:()=>mh,ekj:()=>R_,eoX:()=>vS,f3M:()=>er,g9A:()=>sS,h0i:()=>rc,hGG:()=>n0,hij:()=>tc,iGM:()=>Cg,ifc:()=>oe,ip1:()=>GC,jDz:()=>mC,kL8:()=>GE,kcU:()=>xf,lG2:()=>bt,lqb:()=>_l,lri:()=>yS,mCW:()=>Nu,n5z:()=>od,oAB:()=>W,oJD:()=>hb,oxw:()=>B1,pB0:()=>ib,q3G:()=>An,q4F:()=>Ib,qLn:()=>Bd,qOj:()=>Yd,qZA:()=>Ar,qzn:()=>gi,rWj:()=>_S,s9C:()=>C_,sBO:()=>HP,s_b:()=>yn,soG:()=>jv,tb:()=>ES,tp0:()=>Ct,uIk:()=>m_,vHH:()=>Q,vpe:()=>Do,wAp:()=>ft,xp6:()=>kb,ynx:()=>kp,z2F:()=>qv,z3N:()=>ds,zSh:()=>ha,zs3:()=>$u});var u=O(7579),k=O(727),te=O(9751),ue=O(6451),fe=O(3099);function se(s){for(let o in s)if(s[o]===se)return o;throw Error("Could not find renamed property on target object.")}function Ne(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function Ae(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ae).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function Pe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const B=se({__forward_ref__:se});function V(s){return s.__forward_ref__=V,s.toString=function(){return Ae(this())},s}function H(s){return Ve(s)?s():s}function Ve(s){return"function"==typeof s&&s.hasOwnProperty(B)&&s.__forward_ref__===V}function Se(s){return s&&!!s.\u0275providers}const Je="https://g.co/ng/security#xss";class Q extends Error{constructor(o,l){super(xe(o,l)),this.code=o}}function xe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function we(s){return"string"==typeof s?s:null==s?"":String(s)}function Fe(s,o){throw new Q(-201,!1)}function Ce(s,o){null==s&&function ve(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function ut(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function sn(s){return{providers:s.providers||[],imports:s.imports||[]}}function _n(s){return zn(s,Ts)||zn(s,Fa)}function ri(s){return null!==_n(s)}function zn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Pr(s){return s&&(s.hasOwnProperty(Ds)||s.hasOwnProperty(Xn))?s[Ds]:null}const Ts=se({\u0275prov:se}),Ds=se({\u0275inj:se}),Fa=se({ngInjectableDef:se}),Xn=se({ngInjectorDef:se});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let eo;function qn(s){const o=eo;return eo=s,o}function si(s,o,l){const d=_n(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&st.Optional?null:void 0!==o?o:void Fe(Ae(s))}const tn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),oi={},Or="__NG_DI_FLAG__",On="ngTempTokenPath",ai="ngTokenPath",kr=/\n/gm,Fr="\u0275",dn="__source";let As;function jt(s){const o=As;return As=s,o}function Po(s,o=st.Default){if(void 0===As)throw new Q(-203,!1);return null===As?si(s,void 0,o):As.get(s,o&st.Optional?null:void 0,o)}function Wt(s,o=st.Default){return(function Gl(){return eo}()||Po)(H(s),o)}function er(s,o=st.Default){return Wt(s,li(o))}function li(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function tr(s){const o=[];for(let l=0;l<s.length;l++){const d=H(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Q(900,!1);let h,g=st.Default;for(let _=0;_<d.length;_++){const E=d[_],I=Vi(E);"number"==typeof I?-1===I?h=E.token:g|=I:h=E}o.push(Wt(h,g))}else o.push(Wt(d))}return o}function ts(s,o){return s[Or]=o,s.prototype[Or]=o,s}function Vi(s){return s[Or]}function P(s){return{toString:s}.toString()}var $=(()=>(($=$||{})[$.OnPush=0]="OnPush",$[$.Default=1]="Default",$))(),oe=(()=>{return(s=oe||(oe={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",oe;var s})();const Z={},Te=[],yt=se({\u0275cmp:se}),nn=se({\u0275dir:se}),kn=se({\u0275pipe:se}),an=se({\u0275mod:se}),hn=se({\u0275fac:se}),Ut=se({__NG_ELEMENT_ID__:se});let Gr=0;function ui(s){return P(()=>{const o=sf(s),l={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===$.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||oe.Emulated,id:"c"+Gr++,styles:s.styles||Te,_:null,schemas:s.schemas||null,tView:null};xm(l);const d=s.dependencies;return l.directiveDefs=La(d,!1),l.pipeDefs=La(d,!0),l})}function Zl(s){return ot(s)||Kt(s)}function ne(s){return null!==s}function W(s){return P(()=>({type:s.type,bootstrap:s.bootstrap||Te,declarations:s.declarations||Te,imports:s.imports||Te,exports:s.exports||Te,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function nt(s,o){if(null==s)return Z;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=d,o&&(o[h]=g)}return l}function bt(s){return P(()=>{const o=sf(s);return xm(o),o})}function Ft(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function ot(s){return s[yt]||null}function Kt(s){return s[nn]||null}function $t(s){return s[kn]||null}function gr(s){const o=ot(s)||Kt(s)||$t(s);return null!==o&&o.standalone}function Gn(s,o){const l=s[an]||null;if(!l&&!0===o)throw new Error(`Type ${Ae(s)} does not have '\u0275mod' property.`);return l}function sf(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Te,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nt(s.inputs,o),outputs:nt(s.outputs)}}function xm(s){s.features?.forEach(o=>o(s))}function La(s,o){if(!s)return null;const l=o?$t:Zl;return()=>("function"==typeof s?s():s).map(d=>l(d)).filter(ne)}const Zn=0,Ge=1,St=2,vn=3,Yt=4,ns=5,mr=6,no=7,mn=8,Va=9,Lr=10,kt=11,Wl=12,ci=13,Ua=14,Ss=15,nr=16,Oo=17,ro=18,di=19,Ti=20,Uc=21,on=22,Bc=1,Kl=2,ko=7,Fo=8,xs=9,rr=10;function Er(s){return Array.isArray(s)&&"object"==typeof s[Bc]}function Di(s){return Array.isArray(s)&&!0===s[Bc]}function Ba(s){return 0!=(4&s.flags)}function $a(s){return s.componentOffset>-1}function Lo(s){return 1==(1&s.flags)}function Cr(s){return!!s.template}function rs(s){return 0!=(256&s[St])}function Bi(s,o){return s.hasOwnProperty(hn)?s[hn]:null}class Lw{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function pf(){return gf}function gf(s){return s.type.prototype.ngOnChanges&&(s.setInput=io),km}function km(){const s=Yl(this),o=s?.current;if(o){const l=s.previous;if(l===Z)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function io(s,o,l,d){const h=this.declaredInputs[l],g=Yl(s)||function Fm(s,o){return s[mf]=o}(s,{previous:Z,current:null}),_=g.current||(g.current={}),E=g.previous,I=E[h];_[h]=new Lw(I&&I.currentValue,o,E===Z),s[d]=o}pf.ngInherit=!0;const mf="__ngSimpleChanges__";function Yl(s){return s[mf]||null}const wn=function(s,o,l){},$c="svg";function Fn(s){for(;Array.isArray(s);)s=s[Zn];return s}function Ga(s,o){return Fn(o[s])}function ir(s,o){return Fn(o[s.index])}function Ql(s,o){return s.data[o]}function yr(s,o){const l=o[s];return Er(l)?l:l[Zn]}function Uo(s){return 64==(64&s[St])}function ss(s,o){return null==o?null:s[o]}function jc(s){s[ro]=0}function Za(s,o){s[ns]+=o;let l=s,d=s[vn];for(;null!==d&&(1===o&&1===l[ns]||-1===o&&0===l[ns]);)d[ns]+=o,l=d,d=d[vn]}const Et={lFrame:Wc(null),bindingsEnabled:!0};function wf(){return Et.bindingsEnabled}function ie(){return Et.lFrame.lView}function Bt(){return Et.lFrame.tView}function qc(s){return Et.lFrame.contextLView=s,s[mn]}function Gc(s){return Et.lFrame.contextLView=null,s}function Tn(){let s=Um();for(;null!==s&&64===s.type;)s=s.parent;return s}function Um(){return Et.lFrame.currentTNode}function $i(s,o){const l=Et.lFrame;l.currentTNode=s,l.isParent=o}function eu(){return Et.lFrame.isParent}function Ef(){Et.lFrame.isParent=!1}function ao(){return Et.lFrame.bindingIndex++}function Ms(s){const o=Et.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Uw(s,o){const l=Et.lFrame;l.bindingIndex=l.bindingRootIndex=s,Ka(o)}function Ka(s){Et.lFrame.currentDirectiveIndex=s}function nu(s){const o=Et.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Zc(){return Et.lFrame.currentQueryIndex}function Df(s){Et.lFrame.currentQueryIndex=s}function Af(s){const o=s[Ge];return 2===o.type?o.declTNode:1===o.type?s[mr]:null}function Bm(s,o,l){if(l&st.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&st.Host||(h=Af(g),null===h||(g=g[Ss],10&h.type))););if(null===h)return!1;o=h,s=g}const d=Et.lFrame=$m();return d.currentTNode=o,d.lView=s,!0}function ru(s){const o=$m(),l=s[Ge];Et.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function $m(){const s=Et.lFrame,o=null===s?null:s.child;return null===o?Wc(s):o}function Wc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function jm(){const s=Et.lFrame;return Et.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Kc=jm;function Sf(){const s=jm();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Tr(){return Et.lFrame.selectedIndex}function Rs(s){Et.lFrame.selectedIndex=s}function fn(){const s=Et.lFrame;return Ql(s.tView,s.selectedIndex)}function Hm(){Et.lFrame.currentNamespace=$c}function xf(){!function jw(){Et.lFrame.currentNamespace=null}()}function Qc(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:D,ngOnDestroy:S}=g;_&&(s.contentHooks??(s.contentHooks=[])).push(-l,_),E&&((s.contentHooks??(s.contentHooks=[])).push(l,E),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(l,E)),I&&(s.viewHooks??(s.viewHooks=[])).push(-l,I),D&&((s.viewHooks??(s.viewHooks=[])).push(l,D),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(l,D)),null!=S&&(s.destroyHooks??(s.destroyHooks=[])).push(l,S)}}function Jc(s,o,l){iu(s,o,3,l)}function Mf(s,o,l,d){(3&s[St])===l&&iu(s,o,l,d)}function Rf(s,o){let l=s[St];(3&l)===o&&(l&=2047,l+=1,s[St]=l)}function iu(s,o,l,d){const g=d??-1,_=o.length-1;let E=0;for(let I=void 0!==d?65535&s[ro]:0;I<_;I++)if("number"==typeof o[I+1]){if(E=o[I],null!=d&&E>=d)break}else o[I]<0&&(s[ro]+=65536),(E<g||-1==g)&&(Qa(s,l,o,I),s[ro]=(4294901760&s[ro])+I+2),I++}function Qa(s,o,l,d){const h=l[d]<0,g=l[d+1],E=s[h?-l[d]:l[d]];if(h){if(s[St]>>11<s[ro]>>16&&(3&s[St])===o){s[St]+=2048,wn(4,E,g);try{g.call(E)}finally{wn(5,E,g)}}}else{wn(4,E,g);try{g.call(E)}finally{wn(5,E,g)}}}const Ja=-1;class lo{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function su(s,o,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const g=l[d++],_=l[d++],E=l[d++];s.setAttribute(o,_,E,g)}else{const g=h,_=l[++d];jo(g)?s.setProperty(o,g,_):s.setAttribute(o,g,_),d++}}return d}function Of(s){return 3===s||4===s||6===s}function jo(s){return 64===s.charCodeAt(0)}function co(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||Ho(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function Ho(s,o,l,d,h){let g=0,_=s.length;if(-1===o)_=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){_=-1;break}if(E>o){_=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===l){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==_&&(s.splice(_,0,o),g=_+1),s.splice(g++,0,l),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function Xa(s){return s!==Ja}function el(s){return 32767&s}function tl(s,o){let l=function ou(s){return s>>16}(s),d=o;for(;l>0;)d=d[Ss],l--;return d}let nd=!0;function nl(s){const o=nd;return nd=s,o}const zm=255,au=5;let qm=0;const Dr={};function lu(s,o){const l=id(s,o);if(-1!==l)return l;const d=o[Ge];d.firstCreatePass&&(s.injectorIndex=o.length,Ns(d.data,s),Ns(o,null),Ns(d.blueprint,null));const h=bn(s,o),g=s.injectorIndex;if(Xa(h)){const _=el(h),E=tl(h,o),I=E[Ge].data;for(let D=0;D<8;D++)o[g+D]=E[_+D]|I[_+D]}return o[g+8]=h,g}function Ns(s,o){s.push(0,0,0,0,0,0,0,0,o)}function id(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function bn(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){if(d=sl(h),null===d)return Ja;if(l++,h=h[Ss],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return Ja}function rl(s,o,l){!function rd(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Ut)&&(d=l[Ut]),null==d&&(d=l[Ut]=qm++);const h=d&zm;o.data[s+(h>>au)]|=1<<h}(s,o,l)}function kf(s,o,l){if(l&st.Optional||void 0!==s)return s;Fe()}function il(s,o,l,d){if(l&st.Optional&&void 0===d&&(d=null),!(l&(st.Self|st.Host))){const h=s[Va],g=qn(void 0);try{return h?h.get(o,d,l&st.Optional):si(o,d,l&st.Optional)}finally{qn(g)}}return kf(d,0,l)}function Ff(s,o,l,d=st.Default,h){if(null!==s){if(1024&o[St]){const _=function Zm(s,o,l,d,h){let g=s,_=o;for(;null!==g&&null!==_&&1024&_[St]&&!(256&_[St]);){const E=Lf(g,_,l,d|st.Self,Dr);if(E!==Dr)return E;let I=g.parent;if(!I){const D=_[Uc];if(D){const S=D.get(l,Dr,d);if(S!==Dr)return S}I=sl(_),_=_[Ss]}g=I}return h}(s,o,l,d,Dr);if(_!==Dr)return _}const g=Lf(s,o,l,d,Dr);if(g!==Dr)return g}return il(o,l,d,h)}function Lf(s,o,l,d,h){const g=function Gm(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ut)?s[Ut]:void 0;return"number"==typeof o?o>=0?o&zm:sd:o}(l);if("function"==typeof g){if(!Bm(o,s,d))return d&st.Host?kf(h,0,d):il(o,l,d,h);try{const _=g(d);if(null!=_||d&st.Optional)return _;Fe()}finally{Kc()}}else if("number"==typeof g){let _=null,E=id(s,o),I=Ja,D=d&st.Host?o[nr][mr]:null;for((-1===E||d&st.SkipSelf)&&(I=-1===E?bn(s,o):o[E+8],I!==Ja&&cu(d,!1)?(_=o[Ge],E=el(I),o=tl(I,o)):E=-1);-1!==E;){const S=o[Ge];if(ho(g,E,S.data)){const R=Vf(E,o,l,_,d,D);if(R!==Dr)return R}I=o[E+8],I!==Ja&&cu(d,o[Ge].data[E+8]===D)&&ho(g,E,o)?(_=S,E=el(I),o=tl(I,o)):E=-1}}return h}function Vf(s,o,l,d,h,g){const _=o[Ge],E=_.data[s+8],S=zo(E,_,l,null==d?$a(E)&&nd:d!=_&&0!=(3&E.type),h&st.Host&&g===E);return null!==S?os(o,_,S,E):Dr}function zo(s,o,l,d,h){const g=s.providerIndexes,_=o.data,E=1048575&g,I=s.directiveStart,S=g>>20,U=h?E+S:s.directiveEnd;for(let q=d?E:E+S;q<U;q++){const le=_[q];if(q<I&&l===le||q>=I&&le.type===l)return q}if(h){const q=_[I];if(q&&Cr(q)&&q.type===l)return I}return null}function os(s,o,l,d){let h=s[l];const g=o.data;if(function qw(s){return s instanceof lo}(h)){const _=h;_.resolving&&function ge(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Q(-200,`Circular dependency in DI detected for ${s}${l}`)}(function Le(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():we(s)}(g[l]));const E=nl(_.canSeeViewProviders);_.resolving=!0;const I=_.injectImpl?qn(_.injectImpl):null;Bm(s,d,st.Default);try{h=s[l]=_.factory(void 0,g,s,d),o.firstCreatePass&&l>=d.directiveStart&&function zw(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const _=gf(o);(l.preOrderHooks??(l.preOrderHooks=[])).push(s,_),(l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(s,_)}h&&(l.preOrderHooks??(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks??(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==I&&qn(I),nl(E),_.resolving=!1,Kc()}}return h}function ho(s,o,l){return!!(l[o+(s>>au)]&1<<s)}function cu(s,o){return!(s&st.Self||s&st.Host&&o)}class qo{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return Ff(this._tNode,this._lView,o,li(d),l)}}function sd(){return new qo(Tn(),ie())}function od(s){return P(()=>{const o=s.prototype.constructor,l=o[hn]||Go(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[hn]||Go(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Go(s){return Ve(s)?()=>{const o=Go(H(s));return o&&o()}:Bi(s)}function sl(s){const o=s[Ge],l=o.type;return 2===l?o.declTNode:1===l?s[mr]:null}function ol(s){return function uu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const g=l[h];if(Of(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(Tn(),s)}const po="__parameters__";function Zo(s,o,l){return P(()=>{const d=function Uf(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const _=new h(...g);return E.annotation=_,E;function E(I,D,S){const R=I.hasOwnProperty(po)?I[po]:Object.defineProperty(I,po,{value:[]})[po];for(;R.length<=S;)R.push(null);return(R[S]=R[S]||[]).push(_),I}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class qt{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=ut({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Wo(s,o){s.forEach(l=>Array.isArray(l)?Wo(l,o):o(l))}function ud(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function cd(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function fi(s,o,l){let d=Ai(s,o);return d>=0?s[1|d]=l:(d=~d,function fu(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function ln(s,o){const l=Ai(s,o);if(l>=0)return s[1|l]}function Ai(s,o){return function Wn(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const g=d+(h-d>>1),_=s[g<<l];if(o===_)return g<<l;_>o?h=g:d=g+1}return~(h<<l)}(s,o,1)}const go=ts(Zo("Optional"),8),Ct=ts(Zo("SkipSelf"),4);var ht=(()=>((ht=ht||{})[ht.Important=1]="Important",ht[ht.DashCase=2]="DashCase",ht))();const vd=new Map;let zi=0;const Eu="__ngContext__";function Kn(s,o){Er(o)?(s[Eu]=o[Ti],function Qf(s){vd.set(s[Ti],s)}(o)):s[Eu]=o}let Cd;function us(s,o){return Cd(s,o)}function Cu(s){const o=s[vn];return Di(o)?o[vn]:o}function yo(s){return Td(s[ci])}function _o(s){return Td(s[Yt])}function Td(s){for(;null!==s&&!Di(s);)s=s[Yt];return s}function Ls(s,o,l,d,h){if(null!=d){let g,_=!1;Di(d)?g=d:Er(d)&&(_=!0,d=d[Zn]);const E=Fn(d);0===s&&null!==l?null==h?vr(o,l,E):Rt(o,l,E,h||null,!0):1===s&&null!==l?Rt(o,l,E,h||null,!0):2===s?function oy(s,o,l){const d=xi(s,o);d&&function Vs(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}(o,E,_):3===s&&o.destroyNode(E),null!=g&&function Rd(s,o,l,d,h){const g=l[ko];g!==Fn(l)&&Ls(o,s,d,g,h);for(let E=rr;E<l.length;E++){const I=l[E];Md(I[Ge],I,s,o,d,g)}}(o,s,g,l,h)}}function Ad(s,o,l){return s.createElement(o,l)}function b(s,o){const l=s[xs],d=l.indexOf(o),h=o[vn];512&o[St]&&(o[St]&=-513,Za(h,-1)),l.splice(d,1)}function A(s,o){if(s.length<=rr)return;const l=rr+o,d=s[l];if(d){const h=d[Oo];null!==h&&h!==s&&b(h,d),o>0&&(s[l-1][Yt]=d[Yt]);const g=cd(s,rr+o);!function rp(s,o){Md(s,o,o[kt],2,null,null),o[Zn]=null,o[mr]=null}(d[Ge],d);const _=g[di];null!==_&&_.detachView(g[Ge]),d[vn]=null,d[Yt]=null,d[St]&=-65}return d}function x(s,o){if(!(128&o[St])){const l=o[kt];l.destroyNode&&Md(s,o,l,3,null,null),function w(s){let o=s[ci];if(!o)return j(s[Ge],s);for(;o;){let l=null;if(Er(o))l=o[ci];else{const d=o[rr];d&&(l=d)}if(!l){for(;o&&!o[Yt]&&o!==s;)Er(o)&&j(o[Ge],o),o=o[vn];null===o&&(o=s),Er(o)&&j(o[Ge],o),l=o&&o[Yt]}o=l}}(o)}}function j(s,o){if(!(128&o[St])){o[St]&=-65,o[St]|=128,function Ie(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof lo)){const g=l[d+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const E=h[g[_]],I=g[_+1];wn(4,E,I);try{I.call(E)}finally{wn(5,E,I)}}else{wn(4,h,g);try{g.call(h)}finally{wn(5,h,g)}}}}}(s,o),function J(s,o){const l=s.cleanup,d=o[no];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const _=l[g+3];_>=0?d[h=_]():d[h=-_].unsubscribe(),g+=2}else{const _=d[h=l[g+1]];l[g].call(_)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[no]=null}}(s,o),1===o[Ge].type&&o[kt].destroy();const l=o[Oo];if(null!==l&&Di(o[vn])){l!==o[vn]&&b(l,o);const d=o[di];null!==d&&d.detachView(s)}!function Jf(s){vd.delete(s[Ti])}(o)}}function Be(s,o,l){return function rt(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[Zn];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:g}=s.data[d.directiveStart+h];if(g===oe.None||g===oe.Emulated)return null}return ir(d,l)}}(s,o.parent,l)}function Rt(s,o,l,d,h){s.insertBefore(o,l,d,h)}function vr(s,o,l){s.appendChild(o,l)}function cs(s,o,l,d,h){null!==d?Rt(s,o,l,d,h):vr(s,o,l)}function xi(s,o){return s.parentNode(o)}let Du,gl,uy,ip,Us=function pl(s,o,l){return 40&s.type?ir(s,l):null};function ua(s,o,l,d){const h=Be(s,d,o),g=o[kt],E=function Tu(s,o,l){return Us(s,o,l)}(d.parent||o[mr],d,o);if(null!=h)if(Array.isArray(l))for(let I=0;I<l.length;I++)cs(g,h,l[I],E,!1);else cs(g,h,l,E,!1);void 0!==Du&&Du(g,d,o,l,h)}function Su(s,o){if(null!==o){const l=o.type;if(3&l)return ir(o,s);if(4&l)return Bs(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return Su(s,d);{const h=s[o.index];return Di(h)?Bs(-1,h):Fn(h)}}if(32&l)return us(o,s)()||Fn(s[o.index]);{const d=ca(s,o);return null!==d?Array.isArray(d)?d[0]:Su(Cu(s[nr]),d):Su(s,o.next)}}return null}function ca(s,o){return null!==o?s[nr][mr].projection[o.projection]:null}function Bs(s,o){const l=rr+s+1;if(l<o.length){const d=o[l],h=d[Ge].firstChild;if(null!==h)return Su(d,h)}return o[ko]}function xd(s,o,l,d,h,g,_){for(;null!=l;){const E=d[l.index],I=l.type;if(_&&0===o&&(E&&Kn(Fn(E),d),l.flags|=2),32!=(32&l.flags))if(8&I)xd(s,o,l.child,d,h,g,!1),Ls(o,s,h,E,g);else if(32&I){const D=us(l,d);let S;for(;S=D();)Ls(o,s,h,S,g);Ls(o,s,h,E,g)}else 16&I?ay(s,o,d,l,h,g):Ls(o,s,h,E,g);l=_?l.projectionNext:l.next}}function Md(s,o,l,d,h,g){xd(l,d,s.firstChild,o,h,g,!1)}function ay(s,o,l,d,h,g){const _=l[nr],I=_[mr].projection[d.projection];if(Array.isArray(I))for(let D=0;D<I.length;D++)Ls(o,s,h,I[D],g);else xd(s,o,I,_[vn],h,g,!0)}function da(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function Nd(s,o,l){const{mergedAttrs:d,classes:h,styles:g}=l;null!==d&&su(s,o,d),null!==h&&da(s,o,h),null!==g&&function ly(s,o,l){s.setAttribute(o,"style",l)}(s,o,g)}function xu(s){return function Pd(){if(void 0===gl&&(gl=null,tn.trustedTypes))try{gl=tn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return gl}()?.createHTML(s)||s}function mD(s){uy=s}function cy(){if(void 0===ip&&(ip=null,tn.trustedTypes))try{ip=tn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ip}function Xw(s){return cy()?.createHTML(s)||s}function eb(s){return cy()?.createScriptURL(s)||s}class ml{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Je})`}}class yD extends ml{getTypeName(){return"HTML"}}class _D extends ml{getTypeName(){return"Style"}}class vD extends ml{getTypeName(){return"Script"}}class tb extends ml{getTypeName(){return"URL"}}class hy extends ml{getTypeName(){return"ResourceURL"}}function ds(s){return s instanceof ml?s.changingThisBreaksApplicationSecurity:s}function gi(s,o){const l=function Mu(s){return s instanceof ml&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see ${Je})`)}return l===o}function nb(s){return new yD(s)}function rb(s){return new _D(s)}function wD(s){return new vD(s)}function Ru(s){return new tb(s)}function ib(s){return new hy(s)}class sp{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(xu(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class ob{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const l=this.inertDocument.createElement("template");return l.innerHTML=xu(o),l}}const ab=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nu(s){return(s=String(s)).match(ab)?s:"unsafe:"+s}function hs(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Od(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const Pu=hs("area,br,col,hr,img,wbr"),lb=hs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ub=hs("rp,rt"),op=Od(Pu,Od(lb,hs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Od(ub,hs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Od(ub,lb)),ap=hs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kd=Od(ap,hs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),py=hs("script,style,template");class CD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!op.hasOwnProperty(l))return this.sanitizedSomething=!0,!py.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),_=g.name,E=_.toLowerCase();if(!kd.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=g.value;ap[E]&&(I=Nu(I)),this.buf.push(" ",_,'="',my(I),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();op.hasOwnProperty(l)&&!Pu.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(my(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const ID=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gy=/([^\#-~ |!])/g;function my(s){return s.replace(/&/g,"&amp;").replace(ID,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(gy,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yy;function TD(s,o){let l=null;try{yy=yy||function sb(s){const o=new ob(s);return function fy(){try{return!!(new window.DOMParser).parseFromString(xu(""),"text/html")}catch{return!1}}()?new sp(o):o}(s);let d=o?String(o):"";l=yy.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=l.innerHTML,l=yy.getInertBodyElement(d)}while(d!==g);return xu((new CD).sanitizeChildren(db(l)||l))}finally{if(l){const d=db(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function db(s){return"content"in s&&function UN(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var An=(()=>((An=An||{})[An.NONE=0]="NONE",An[An.HTML=1]="HTML",An[An.STYLE=2]="STYLE",An[An.SCRIPT=3]="SCRIPT",An[An.URL=4]="URL",An[An.RESOURCE_URL=5]="RESOURCE_URL",An))();function hb(s){const o=Ld();return o?Xw(o.sanitize(An.HTML,s)||""):gi(s,"HTML")?Xw(ds(s)):TD(function Jw(){return void 0!==uy?uy:typeof document<"u"?document:void 0}(),we(s))}function _y(s){const o=Ld();return o?o.sanitize(An.URL,s)||"":gi(s,"URL")?ds(s):Nu(we(s))}function up(s){const o=Ld();if(o)return eb(o.sanitize(An.RESOURCE_URL,s)||"");if(gi(s,"ResourceURL"))return eb(ds(s));throw new Q(904,!1)}function pb(s,o,l){return function AD(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?up:_y}(o,l)(s)}function Ld(){const s=ie();return s&&s[Wl]}const wy=new qt("ENVIRONMENT_INITIALIZER"),yl=new qt("INJECTOR",-1),Ou=new qt("INJECTOR_DEF_TYPES");class gb{get(o,l=oi){if(l===oi){const d=new Error(`NullInjectorError: No provider for ${Ae(o)}!`);throw d.name="NullInjectorError",d}return l}}function xD(s){return{\u0275providers:s}}function Vd(...s){return{\u0275providers:ku(0,s),\u0275fromNgModule:!0}}function ku(s,...o){const l=[],d=new Set;let h;return Wo(o,g=>{const _=g;by(_,l,[],d)&&(h||(h=[]),h.push(_))}),void 0!==h&&mb(h,l),l}function mb(s,o){for(let l=0;l<s.length;l++){const{providers:h}=s[l];Ey(h,g=>{o.push(g)})}}function by(s,o,l,d){if(!(s=H(s)))return!1;let h=null,g=Pr(s);const _=!g&&ot(s);if(g||_){if(_&&!_.standalone)return!1;h=s}else{const I=s.ngModule;if(g=Pr(I),!g)return!1;h=I}const E=d.has(h);if(_){if(E)return!1;if(d.add(h),_.dependencies){const I="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const D of I)by(D,o,l,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let D;d.add(h);try{Wo(g.imports,S=>{by(S,o,l,d)&&(D||(D=[]),D.push(S))})}finally{}void 0!==D&&mb(D,o)}if(!E){const D=Bi(h)||(()=>new h);o.push({provide:h,useFactory:D,deps:Te},{provide:Ou,useValue:h,multi:!0},{provide:wy,useValue:()=>Wt(h),multi:!0})}const I=g.providers;null==I||E||Ey(I,S=>{o.push(S)})}}return h!==s&&void 0!==s.providers}function Ey(s,o){for(let l of s)Se(l)&&(l=l.\u0275providers),Array.isArray(l)?Ey(l,o):o(l)}const MD=se({provide:String,useValue:se});function Cy(s){return null!==s&&"object"==typeof s&&MD in s}function vo(s){return"function"==typeof s}const ha=new qt("Set Injector scope."),dp={},ND={};let Iy;function hp(){return void 0===Iy&&(Iy=new gb),Iy}class _l{}class _b extends _l{get destroyed(){return this._destroyed}constructor(o,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lu(o,_=>this.processProvider(_)),this.records.set(yl,Fu(void 0,this)),h.has("environment")&&this.records.set(_l,Fu(void 0,this));const g=this.records.get(ha);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Ou.multi,Te,st.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=jt(this),d=qn(void 0);try{return o()}finally{jt(l),qn(d)}}get(o,l=oi,d=st.Default){this.assertNotDestroyed(),d=li(d);const h=jt(this),g=qn(void 0);try{if(!(d&st.SkipSelf)){let E=this.records.get(o);if(void 0===E){const I=function Sy(s){return"function"==typeof s||"object"==typeof s&&s instanceof qt}(o)&&_n(o);E=I&&this.injectableDefInScope(I)?Fu(Ty(o),dp):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&st.Self?hp():this.parent).get(o,l=d&st.Optional&&l===oi?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[On]=_[On]||[]).unshift(Ae(o)),h)throw _;return function Ii(s,o,l,d){const h=s[On];throw o[dn]&&h.unshift(o[dn]),s.message=function F(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==Fr?s.slice(2):s;let h=Ae(o);if(Array.isArray(o))h=o.map(Ae).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let E=o[_];g.push(_+":"+("string"==typeof E?JSON.stringify(E):Ae(E)))}h=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(kr,"\n  ")}`}("\n"+s.message,h,l,d),s[ai]=h,s[On]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{qn(g),jt(h)}}resolveInjectorInitializers(){const o=jt(this),l=qn(void 0);try{const d=this.get(wy.multi,Te,st.Self);for(const h of d)h()}finally{jt(o),qn(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(Ae(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(o){let l=vo(o=H(o))?o:H(o&&o.provide);const d=function OD(s){return Cy(s)?Fu(void 0,s.useValue):Fu(Dy(s),dp)}(o);if(vo(o)||!0!==o.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Fu(void 0,dp,!0),h.factory=()=>tr(h.multi),this.records.set(l,h)),l=o,h.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===dp&&(l.value=ND,l.value=l.factory()),"object"==typeof l.value&&l.value&&function vb(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=H(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Ty(s){const o=_n(s),l=null!==o?o.factory:Bi(s);if(null!==l)return l;if(s instanceof qt)throw new Q(204,!1);if(s instanceof Function)return function PD(s){const o=s.length;if(o>0)throw function Ko(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}(o,"?"),new Q(204,!1);const l=function ii(s){return s&&(s[Ts]||s[Fa])||null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Q(204,!1)}function Dy(s,o,l){let d;if(vo(s)){const h=H(s);return Bi(h)||Ty(h)}if(Cy(s))d=()=>H(s.useValue);else if(function yb(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...tr(s.deps||[]));else if(function RD(s){return!(!s||!s.useExisting)}(s))d=()=>Wt(H(s.useExisting));else{const h=H(s&&(s.useClass||s.provide));if(!function Ay(s){return!!s.deps}(s))return Bi(h)||Ty(h);d=()=>new h(...tr(s.deps))}return d}function Fu(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Lu(s,o){for(const l of s)Array.isArray(l)?Lu(l,o):l&&Se(l)?Lu(l.\u0275providers,o):o(l)}class kD{}class wb{}class Eb{resolveComponentFactory(o){throw function FD(s){const o=Error(`No component factory found for ${Ae(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Vu=(()=>{class s{}return s.NULL=new Eb,s})();function fp(){return wo(Tn(),ie())}function wo(s,o){return new Uu(ir(s,o))}let Uu=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=fp,s})();function Ud(s){return s instanceof Uu?s.nativeElement:s}class My{}let LD=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function VD(){const s=ie(),l=yr(Tn().index,s);return(Er(l)?l:s)[kt]}(),s})(),UD=(()=>{class s{}return s.\u0275prov=ut({token:s,providedIn:"root",factory:()=>null}),s})();class Cb{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Ib=new Cb("15.2.9"),pp={},Ry="ngOriginalError";function Ny(s){return s[Ry]}class Bd{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Ny(o);for(;l&&Ny(l);)l=Ny(l);return l||null}}function js(s){return s instanceof Function?s():s}function Mb(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}l=h+1}}const Py="ng-template";function Oy(s,o,l){let d=0,h=!0;for(;d<s.length;){let g=s[d++];if("string"==typeof g&&h){const _=s[d++];if(l&&"class"===g&&-1!==Mb(_.toLowerCase(),o,0))return!0}else{if(1===g){for(;d<s.length&&"string"==typeof(g=s[d++]);)if(g.toLowerCase()===o)return!0;return!1}"number"==typeof g&&(h=!1)}}return!1}function ky(s){return 4===s.type&&s.value!==Py}function Bu(s,o,l){return o===(4!==s.type||l?s.value:Py)}function Fy(s,o,l){let d=4;const h=s.attrs||[],g=function Nb(s){for(let o=0;o<s.length;o++)if(Of(s[o]))return o;return s.length}(h);let _=!1;for(let E=0;E<o.length;E++){const I=o[E];if("number"!=typeof I){if(!_)if(4&d){if(d=2|1&d,""!==I&&!Bu(s,I,l)||""===I&&1===o.length){if(fs(d))return!1;_=!0}}else{const D=8&d?I:o[++E];if(8&d&&null!==s.attrs){if(!Oy(s.attrs,D,l)){if(fs(d))return!1;_=!0}continue}const R=Rb(8&d?"class":I,h,ky(s),l);if(-1===R){if(fs(d))return!1;_=!0;continue}if(""!==D){let U;U=R>g?"":h[R+1].toLowerCase();const q=8&d?U:null;if(q&&-1!==Mb(q,D,0)||2&d&&D!==U){if(fs(d))return!1;_=!0}}}}else{if(!_&&!fs(d)&&!fs(I))return!1;if(_&&fs(I))continue;_=!1,d=I|1&d}}return fs(d)||_}function fs(s){return 0==(1&s)}function Rb(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let g=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function Pb(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function jd(s,o,l=!1){for(let d=0;d<o.length;d++)if(Fy(s,o[d],l))return!0;return!1}function Ob(s,o){return s?":not("+o.trim()+")":o}function ZD(s){let o=s[0],l=1,d=2,h="",g=!1;for(;l<s.length;){let _=s[l];if("string"==typeof _)if(2&d){const E=s[++l];h+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+_:4&d&&(h+=" "+_);else""!==h&&!fs(_)&&(o+=Ob(g,h),h=""),d=_,g=g||!fs(d);l++}return""!==h&&(o+=Ob(g,h)),o}const xt={};function kb(s){Fb(Bt(),ie(),Tr()+s,!1)}function Fb(s,o,l,d){if(!d)if(3==(3&o[St])){const g=s.preOrderCheckHooks;null!==g&&Jc(o,g,l)}else{const g=s.preOrderHooks;null!==g&&Mf(o,g,0,l)}Rs(l)}function Vb(s,o=null,l=null,d){const h=Ly(s,o,l,d);return h.resolveInjectorInitializers(),h}function Ly(s,o=null,l=null,d,h=new Set){const g=[l||Te,Vd(s)];return d=d||("object"==typeof s?void 0:Ae(s)),new _b(g,o||hp(),d||null,h)}let $u=(()=>{class s{static create(l,d){if(Array.isArray(l))return Vb({name:""},d,l,"");{const h=l.name??"";return Vb({name:h},l.parent,l.providers,h)}}}return s.THROW_IF_NOT_FOUND=oi,s.NULL=new gb,s.\u0275prov=ut({token:s,providedIn:"any",factory:()=>Wt(yl)}),s.__NG_ELEMENT_ID__=-1,s})();function zu(s,o=st.Default){const l=ie();return null===l?Wt(s,o):Ff(Tn(),l,H(s),o)}function Hb(){throw new Error("invalid")}function zb(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const g=l[d+1];if(-1!==g){const _=s.data[g];Df(l[d]),_.contentQueries(2,o[g],g)}}}function _p(s,o,l,d,h,g,_,E,I,D,S){const R=o.blueprint.slice();return R[Zn]=h,R[St]=76|d,(null!==S||s&&1024&s[St])&&(R[St]|=1024),jc(R),R[vn]=R[Ss]=s,R[mn]=l,R[Lr]=_||s&&s[Lr],R[kt]=E||s&&s[kt],R[Wl]=I||s&&s[Wl]||null,R[Va]=D||s&&s[Va]||null,R[mr]=g,R[Ti]=function Yf(){return zi++}(),R[Uc]=S,R[nr]=2==o.type?s[nr]:R,R}function Gd(s,o,l,d,h){let g=s.data[o];if(null===g)g=function X(s,o,l,d,h){const g=Um(),_=eu(),I=s.data[o]=function Gy(s,o,l,d,h,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=I),null!==g&&(_?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I,I.prev=g)),I}(s,o,l,d,h),function Tf(){return Et.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=l,g.value=d,g.attrs=h;const _=function Bo(){const s=Et.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return $i(g,!0),g}function Dt(s,o,l,d){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function jy(s,o,l){ru(o);try{const d=s.viewQuery;null!==d&&i_(1,d,l);const h=s.template;null!==h&&_t(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&zb(s,o),s.staticViewQueries&&i_(2,s.viewQuery,l);const g=s.components;null!==g&&function qb(s,o){for(let l=0;l<o.length;l++)n_(s,o[l])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[St]&=-5,Sf()}}function vp(s,o,l,d){const h=o[St];if(128!=(128&h)){ru(o);try{jc(o),function $o(s){return Et.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&_t(s,o,l,2,d);const _=3==(3&h);if(_){const D=s.preOrderCheckHooks;null!==D&&Jc(o,D,null)}else{const D=s.preOrderHooks;null!==D&&Mf(o,D,0,null),Rf(o,0)}if(function Jb(s){for(let o=yo(s);null!==o;o=_o(o)){if(!o[Kl])continue;const l=o[xs];for(let d=0;d<l.length;d++){const h=l[d];512&h[St]||Za(h[vn],1),h[St]|=512}}}(o),function Co(s){for(let o=yo(s);null!==o;o=_o(o))for(let l=rr;l<o.length;l++){const d=o[l],h=d[Ge];Uo(d)&&vp(h,d,h.template,d[mn])}}(o),null!==s.contentQueries&&zb(s,o),_){const D=s.contentCheckHooks;null!==D&&Jc(o,D)}else{const D=s.contentHooks;null!==D&&Mf(o,D,1),Rf(o,1)}!function c1(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Rs(~h);else{const g=h,_=l[++d],E=l[++d];Uw(_,g),E(2,o[g])}}}finally{Rs(-1)}}(s,o);const E=s.components;null!==E&&function d1(s,o){for(let l=0;l<o.length;l++)t_(s,o[l])}(o,E);const I=s.viewQuery;if(null!==I&&i_(2,I,d),_){const D=s.viewCheckHooks;null!==D&&Jc(o,D)}else{const D=s.viewHooks;null!==D&&Mf(o,D,2),Rf(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[St]&=-41,512&o[St]&&(o[St]&=-513,Za(o[vn],-1))}finally{Sf()}}}function _t(s,o,l,d,h){const g=Tr(),_=2&d;try{Rs(-1),_&&o.length>on&&Fb(s,o,on,!1),wn(_?2:0,h),l(d,h)}finally{Rs(g),wn(_?3:1,h)}}function Mi(s,o,l){if(Ba(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const _=s.data[g];_.contentQueries&&_.contentQueries(1,l[g],g)}}}function Zi(s,o,l){wf()&&(function QN(s,o,l,d){const h=l.directiveStart,g=l.directiveEnd;$a(l)&&function Yb(s,o,l){const d=ir(o,s),h=zy(l),g=s[Lr],_=Zd(s,_p(s,h,null,l.onPush?32:16,d,o,g,g.createRenderer(d,l),null,null,null));s[o.index]=_}(o,l,s.data[h+l.componentOffset]),s.firstCreatePass||lu(l,o),Kn(d,o);const _=l.initialInputs;for(let E=h;E<g;E++){const I=s.data[E],D=os(o,s,E,l);Kn(D,o),null!==_&&_1(0,E-h,D,I,0,_),Cr(I)&&(yr(l.index,o)[mn]=os(o,s,E,l))}}(s,o,l,ir(l,o)),64==(64&l.flags)&&Gb(s,o,l))}function Hy(s,o,l=ir){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const _=d[g+1],E=-1===_?l(o,s):s[_];s[h++]=E}}}function zy(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=wp(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function wp(s,o,l,d,h,g,_,E,I,D){const S=on+d,R=S+h,U=function h1(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:xt);return l}(S,R),q="function"==typeof D?D():D;return U[Ge]={type:s,blueprint:U,template:l,queries:null,viewQuery:E,declTNode:o,data:U.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:I,consts:q,incompleteFirstPass:!1}}function qy(s,o,l,d){const h=eE(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&Ip(s).push(d,h.length-1))}function Zy(s,o,l,d){for(let h in s)if(s.hasOwnProperty(h)){l=null===l?{}:l;const g=s[h];null===d?bp(l,o,h,g):d.hasOwnProperty(h)&&bp(l,o,d[h],g)}return l}function bp(s,o,l,d){s.hasOwnProperty(l)?s[l].push(o,d):s[l]=[o,d]}function Ri(s,o,l,d,h,g,_,E){const I=ir(o,l);let S,D=o.inputs;!E&&null!=D&&(S=D[d])?(o_(s,l,S,d,h),$a(o)&&function Ky(s,o){const l=yr(o,s);16&l[St]||(l[St]|=32)}(l,o.index)):3&o.type&&(d=function p1(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=_?_(h,o.value||"",d):h,g.setProperty(I,d,h))}function Yy(s,o,l,d){if(wf()){const h=null===d?null:{"":-1},g=function Jy(s,o){const l=s.directiveRegistry;let d=null,h=null;if(l)for(let g=0;g<l.length;g++){const _=l[g];if(jd(o,_.selectors,!1))if(d||(d=[]),Cr(_))if(null!==_.findHostDirectiveDefs){const E=[];h=h||new Map,_.findHostDirectiveDefs(_,E,h),d.unshift(...E,_),Ep(s,o,E.length)}else d.unshift(_),Ep(s,o,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,d,h),d.push(_)}return null===d?null:[d,h]}(s,l);let _,E;null===g?_=E=null:[_,E]=g,null!==_&&Eo(s,o,l,_,h,E),h&&function Zb(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new Q(-301,!1);d.push(o[h],g)}}}(l,d,h)}l.mergedAttrs=co(l.mergedAttrs,l.attrs)}function Eo(s,o,l,d,h,g){for(let D=0;D<d.length;D++)rl(lu(l,o),s,d[D].type);!function Wb(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}(l,s.data.length,d.length);for(let D=0;D<d.length;D++){const S=d[D];S.providersResolver&&S.providersResolver(S)}let _=!1,E=!1,I=Dt(s,o,d.length,null);for(let D=0;D<d.length;D++){const S=d[D];l.mergedAttrs=co(l.mergedAttrs,S.hostAttrs),Kb(s,l,o,I,S),Xy(I,S,h),null!==S.contentQueries&&(l.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(l.flags|=64);const R=S.type.prototype;!_&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(l.index),_=!0),!E&&(R.ngOnChanges||R.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(l.index),E=!0),I++}!function Wy(s,o,l){const h=o.directiveEnd,g=s.data,_=o.attrs,E=[];let I=null,D=null;for(let S=o.directiveStart;S<h;S++){const R=g[S],U=l?l.get(R):null,le=U?U.outputs:null;I=Zy(R.inputs,S,I,U?U.inputs:null),D=Zy(R.outputs,S,D,le);const Me=null===I||null===_||ky(o)?null:v1(I,S,_);E.push(Me)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=8),I.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=I,o.outputs=D}(s,l,g)}function Gb(s,o,l){const d=l.directiveStart,h=l.directiveEnd,g=l.index,_=function Bw(){return Et.lFrame.currentDirectiveIndex}();try{Rs(g);for(let E=d;E<h;E++){const I=s.data[E],D=o[E];Ka(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&y1(I,D)}}finally{Rs(-1),Ka(_)}}function y1(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Ep(s,o,l){o.componentOffset=l,(s.components??(s.components=[])).push(o.index)}function Xy(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Cr(o)&&(l[""]=s)}}function Kb(s,o,l,d,h){s.data[d]=h;const g=h.factory||(h.factory=Bi(h.type)),_=new lo(g,Cr(h),zu);s.blueprint[d]=_,l[d]=_,function Qy(s,o,l,d,h){const g=h.hostBindings;if(g){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const E=~o.index;(function m1(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(_)!=E&&_.push(E),_.push(l,d,g)}}(s,o,d,Dt(s,l,h.hostVars,xt),h)}function Hs(s,o,l,d,h,g){const _=ir(s,o);!function e_(s,o,l,d,h,g,_){if(null==g)s.removeAttribute(o,h,l);else{const E=null==_?we(g):_(g,d||"",h);s.setAttribute(o,h,E,l)}}(o[kt],_,g,s.value,l,d,h)}function _1(s,o,l,d,h,g){const _=g[o];if(null!==_){const E=d.setInput;for(let I=0;I<_.length;){const D=_[I++],S=_[I++],R=_[I++];null!==E?d.setInput(l,R,D,S):l[S]=R}}}function v1(s,o,l){let d=null,h=0;for(;h<l.length;){const g=l[h];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===d&&(d=[]);const _=s[g];for(let E=0;E<_.length;E+=2)if(_[E]===o){d.push(g,_[E+1],l[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function Qb(s,o,l,d){return[s,!0,!1,o,null,0,d,l,null,null]}function t_(s,o){const l=yr(o,s);if(Uo(l)){const d=l[Ge];48&l[St]?vp(d,l,d.template,l[mn]):l[ns]>0&&Cp(l)}}function Cp(s){for(let d=yo(s);null!==d;d=_o(d))for(let h=rr;h<d.length;h++){const g=d[h];if(Uo(g))if(512&g[St]){const _=g[Ge];vp(_,g,_.template,g[mn])}else g[ns]>0&&Cp(g)}const l=s[Ge].components;if(null!==l)for(let d=0;d<l.length;d++){const h=yr(l[d],s);Uo(h)&&h[ns]>0&&Cp(h)}}function n_(s,o){const l=yr(o,s),d=l[Ge];(function r_(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),jy(d,l,l[mn])}function Zd(s,o){return s[ci]?s[Ua][Yt]=o:s[ci]=o,s[Ua]=o,o}function Wd(s){for(;s;){s[St]|=32;const o=Cu(s);if(rs(s)&&!o)return s;s=o}return null}function qu(s,o,l,d=!0){const h=o[Lr];h.begin&&h.begin();try{vp(s,o,s.template,l)}catch(_){throw d&&tE(o,_),_}finally{h.end&&h.end()}}function i_(s,o,l){Df(0),o(s,l)}function eE(s){return s[no]||(s[no]=[])}function Ip(s){return s.cleanup||(s.cleanup=[])}function tE(s,o){const l=s[Va],d=l?l.get(Bd,null):null;d&&d.handleError(o)}function o_(s,o,l,d,h){for(let g=0;g<l.length;){const _=l[g++],E=l[g++],I=o[_],D=s.data[_];null!==D.setInput?D.setInput(I,h,d,E):I[E]=h}}function Tp(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const E=o[_];"number"==typeof E?g=E:1==g?h=Pe(h,E):2==g&&(d=Pe(d,E+": "+o[++_]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}function Dp(s,o,l,d,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&d.push(Fn(g)),Di(g))for(let E=rr;E<g.length;E++){const I=g[E],D=I[Ge].firstChild;null!==D&&Dp(I[Ge],I,D,d)}const _=l.type;if(8&_)Dp(s,o,l.child,d);else if(32&_){const E=us(l,o);let I;for(;I=E();)d.push(I)}else if(16&_){const E=ca(o,l);if(Array.isArray(E))d.push(...E);else{const I=Cu(o[nr]);Dp(I[Ge],I,E,d,!0)}}l=h?l.projectionNext:l.next}return d}class zs{get rootNodes(){const o=this._lView,l=o[Ge];return Dp(l,o,l.firstChild,[])}constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mn]}set context(o){this._lView[mn]=o}get destroyed(){return 128==(128&this._lView[St])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[vn];if(Di(o)){const l=o[Fo],d=l?l.indexOf(this):-1;d>-1&&(A(o,d),cd(l,d))}this._attachedToViewContainer=!1}x(this._lView[Ge],this._lView)}onDestroy(o){qy(this._lView[Ge],this._lView,null,o)}markForCheck(){Wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[St]&=-65}reattach(){this._lView[St]|=64}detectChanges(){qu(this._lView[Ge],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Iu(s,o){Md(s,o,o[kt],2,null,null)}(this._lView[Ge],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=o}}class Gu extends zs{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;qu(o[Ge],o,o[mn],!1)}checkNoChanges(){}get context(){return null}}class a_ extends Vu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=ot(o);return new Kd(l,this.ngModule)}}function nE(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class rE{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){d=li(d);const h=this.injector.get(o,pp,d);return h!==pp||l===pp?h:this.parentInjector.get(o,l,d)}}class Kd extends wb{get inputs(){return nE(this.componentDef.inputs)}get outputs(){return nE(this.componentDef.outputs)}constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function WD(s){return s.map(ZD).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}create(o,l,d,h){let g=(h=h||this.ngModule)instanceof _l?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new rE(o,g):o,E=_.get(My,null);if(null===E)throw new Q(407,!1);const I=_.get(UD,null),D=E.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",R=d?function f1(s,o,l){return s.selectRootElement(o,l===oe.ShadowDom)}(D,d,this.componentDef.encapsulation):Ad(D,S,function w1(s){const o=s.toLowerCase();return"svg"===o?$c:"math"===o?"math":null}(S)),U=this.componentDef.onPush?288:272,q=wp(0,null,null,1,0,null,null,null,null,null),le=_p(null,q,null,U,null,null,E,D,I,_,null);let Me,je;ru(le);try{const Qe=this.componentDef;let Ze,ce=null;Qe.findHostDirectiveDefs?(Ze=[],ce=new Map,Qe.findHostDirectiveDefs(Qe,Ze,ce),Ze.push(Qe)):Ze=[Qe];const At=function iE(s,o){const l=s[Ge],d=on;return s[d]=o,Gd(l,d,2,"#host",null)}(le,R),pn=function E1(s,o,l,d,h,g,_,E){const I=h[Ge];!function C1(s,o,l,d){for(const h of s)o.mergedAttrs=co(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Tp(o,o.mergedAttrs,!0),null!==l&&Nd(d,l,o))}(d,s,o,_);const D=g.createRenderer(o,l),S=_p(h,zy(l),null,l.onPush?32:16,h[s.index],s,g,D,E||null,null,null);return I.firstCreatePass&&Ep(I,s,d.length-1),Zd(h,S),h[s.index]=S}(At,R,Qe,Ze,le,E,D);je=Ql(q,on),R&&function l_(s,o,l,d){if(d)su(s,l,["ng-version",Ib.full]);else{const{attrs:h,classes:g}=function KD(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&l.push(g);else{if(!fs(h))break;h=g}d++}return{attrs:o,classes:l}}(o.selectors[0]);h&&su(s,l,h),g&&g.length>0&&da(s,l,g.join(" "))}}(D,Qe,R,d),void 0!==l&&function u_(s,o,l){const d=s.projection=[];for(let h=0;h<o.length;h++){const g=l[h];d.push(null!=g?Array.from(g):null)}}(je,this.ngContentSelectors,l),Me=function bl(s,o,l,d,h,g){const _=Tn(),E=h[Ge],I=ir(_,h);Eo(E,h,_,l,null,d);for(let S=0;S<l.length;S++)Kn(os(h,E,_.directiveStart+S,_),h);Gb(E,h,_),I&&Kn(I,h);const D=os(h,E,_.directiveStart+_.componentOffset,_);if(s[mn]=h[mn]=D,null!==g)for(const S of g)S(D,o);return Mi(E,_,s),D}(pn,Qe,Ze,ce,le,[Ap]),jy(q,le,null)}finally{Sf()}return new wl(this.componentType,Me,wo(je,le),le,je)}}class wl extends kD{constructor(o,l,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new Gu(h),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;o_(g[Ge],g,h,o,l),Wd(yr(this._tNode.index,g))}}get injector(){return new qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Ap(){const s=Tn();Qc(ie()[Ge],s)}function Yd(s){let o=function Sp(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(Cr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Q(903,!1);h=o.\u0275dir}if(h){if(l){d.push(h);const _=s;_.inputs=El(s.inputs),_.declaredInputs=El(s.declaredInputs),_.outputs=El(s.outputs);const E=h.hostBindings;E&&f_(s,E);const I=h.viewQuery,D=h.contentQueries;if(I&&d_(s,I),D&&h_(s,D),Ne(s.inputs,h.inputs),Ne(s.declaredInputs,h.declaredInputs),Ne(s.outputs,h.outputs),Cr(h)&&h.data.animation){const S=s.data;S.animation=(S.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const E=g[_];E&&E.ngInherit&&E(s),E===Yd&&(l=!1)}}o=Object.getPrototypeOf(o)}!function c_(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=co(h.hostAttrs,l=co(l,h.hostAttrs))}}(d)}function El(s){return s===Z?{}:s===Te?[]:s}function d_(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function h_(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,g)=>{o(d,h,g),l(d,h,g)}:o}function f_(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}function Zu(s){return!!Qd(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Qd(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ur(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function m_(s,o,l,d){const h=ie();return Ur(h,ao(),o)&&(Bt(),Hs(fn(),h,s,o,l,d)),m_}function Yu(s,o,l,d){return Ur(s,ao(),l)?o+we(l)+d:xt}function cE(s,o,l,d,h,g,_,E){const I=ie(),D=Bt(),S=s+on,R=D.firstCreatePass?function O1(s,o,l,d,h,g,_,E,I){const D=o.consts,S=Gd(o,s,4,_||null,ss(D,E));Yy(o,l,S,ss(D,I)),Qc(o,S);const R=S.tView=wp(2,S,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,D);return null!==o.queries&&(o.queries.template(o,S),R.queries=o.queries.embeddedTView(S)),S}(S,D,I,o,l,d,h,g,_):D.data[S];$i(R,!1);const U=I[kt].createComment("");ua(D,I,U,R),Kn(U,I),Zd(I,I[S]=Qb(U,I,U,R)),Lo(R)&&Zi(D,I,R),null!=_&&Hy(I,R,E)}function Pp(s,o,l){const d=ie();return Ur(d,ao(),o)&&Ri(Bt(),fn(),d,s,o,d[kt],l,!1),Pp}function v_(s,o,l,d,h){const _=h?"class":"style";o_(s,l,o.inputs[_],_,d)}function Op(s,o,l,d){const h=ie(),g=Bt(),_=on+s,E=h[kt],I=g.firstCreatePass?function dE(s,o,l,d,h,g){const _=o.consts,I=Gd(o,s,2,d,ss(_,h));return Yy(o,l,I,ss(_,g)),null!==I.attrs&&Tp(I,I.attrs,!1),null!==I.mergedAttrs&&Tp(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(_,g,h,o,l,d):g.data[_],D=h[_]=Ad(E,o,function Hw(){return Et.lFrame.currentNamespace}()),S=Lo(I);return $i(I,!0),Nd(E,D,I),32!=(32&I.flags)&&ua(g,h,D,I),0===function Hc(){return Et.lFrame.elementDepthCount}()&&Kn(D,h),function vf(){Et.lFrame.elementDepthCount++}(),S&&(Zi(g,h,I),Mi(g,I,h)),null!==d&&Hy(h,I),Op}function Ar(){let s=Tn();eu()?Ef():(s=s.parent,$i(s,!1));const o=s;!function zc(){Et.lFrame.elementDepthCount--}();const l=Bt();return l.firstCreatePass&&(Qc(l,s),Ba(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function uo(s){return 0!=(8&s.flags)}(o)&&v_(l,o,ie(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Xc(s){return 0!=(16&s.flags)}(o)&&v_(l,o,ie(),o.stylesWithoutHost,!1),Ar}function w_(s,o,l,d){return Op(s,o,l,d),Ar(),w_}function kp(s,o,l){const d=ie(),h=Bt(),g=s+on,_=h.firstCreatePass?function F1(s,o,l,d,h){const g=o.consts,_=ss(g,d),E=Gd(o,s,8,"ng-container",_);return null!==_&&Tp(E,_,!0),Yy(o,l,E,ss(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,d,o,l):h.data[g];$i(_,!0);const E=d[g]=d[kt].createComment("");return ua(h,d,E,_),Kn(E,d),Lo(_)&&(Zi(h,d,_),Mi(h,_,d)),null!=l&&Hy(d,_),kp}function Xd(){let s=Tn();const o=Bt();return eu()?Ef():(s=s.parent,$i(s,!1)),o.firstCreatePass&&(Qc(o,s),Ba(s)&&o.queries.elementEnd(s)),Xd}function Fp(){return ie()}function fE(s){return!!s&&"function"==typeof s.then}function pE(s){return!!s&&"function"==typeof s.subscribe}const Lp=pE;function b_(s,o,l,d){const h=ie(),g=Bt(),_=Tn();return function L1(s,o,l,d,h,g,_){const E=Lo(d),D=s.firstCreatePass&&Ip(s),S=o[mn],R=eE(o);let U=!0;if(3&d.type||_){const Me=ir(d,o),je=_?_(Me):Me,Qe=R.length,Ze=_?At=>_(Fn(At[d.index])):d.index;let ce=null;if(!_&&E&&(ce=function E_(s,o,l,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===l&&h[g+1]===d){const E=o[no],I=h[g+2];return E.length>I?E[I]:null}"string"==typeof _&&(g+=2)}return null}(s,o,h,d.index)),null!==ce)(ce.__ngLastListenerFn__||ce).__ngNextListenerFn__=g,ce.__ngLastListenerFn__=g,U=!1;else{g=U1(d,o,S,g,!1);const At=l.listen(je,h,g);R.push(g,At),D&&D.push(h,Ze,Qe,Qe+1)}}else g=U1(d,o,S,g,!1);const q=d.outputs;let le;if(U&&null!==q&&(le=q[h])){const Me=le.length;if(Me)for(let je=0;je<Me;je+=2){const pn=o[le[je]][le[je+1]].subscribe(g),Un=R.length;R.push(g,pn),D&&D.push(h,d.index,Un,-(Un+1))}}}(g,h,h[kt],_,s,o,d),b_}function V1(s,o,l,d){try{return wn(6,o,l),!1!==l(d)}catch(h){return tE(s,h),!1}finally{wn(7,o,l)}}function U1(s,o,l,d,h){return function g(_){if(_===Function)return d;Wd(s.componentOffset>-1?yr(s.index,o):o);let I=V1(o,l,d,_),D=g.__ngNextListenerFn__;for(;D;)I=V1(o,l,D,_)&&I,D=D.__ngNextListenerFn__;return h&&!1===I&&(_.preventDefault(),_.returnValue=!1),I}}function B1(s=1){return function Yc(s){return(Et.lFrame.contextLView=function $w(s,o){for(;s>0;)o=o[Ss],s--;return o}(s,Et.lFrame.contextLView))[mn]}(s)}function C_(s,o,l){return I_(s,"",o,"",l),C_}function I_(s,o,l,d,h){const g=ie(),_=Yu(g,o,l,d);return _!==xt&&Ri(Bt(),fn(),g,s,_,g[kt],h,!1),I_}function qs(s,o){return s<<17|o<<2}function ma(s){return s>>17&32767}function T_(s){return 2|s}function Cl(s){return(131068&s)>>2}function D_(s,o){return-131069&s|o<<2}function th(s){return 1|s}function A_(s,o,l,d,h){const g=s[l+1],_=null===o;let E=d?ma(g):Cl(g),I=!1;for(;0!==E&&(!1===I||_);){const S=s[E+1];q1(s[E],o)&&(I=!0,s[E+1]=d?th(S):T_(S)),E=d?ma(S):Cl(S)}I&&(s[l+1]=d?T_(g):th(g))}function q1(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ai(s,o)>=0}const ar={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function S_(s){return s.substring(ar.key,ar.keyEnd)}function Up(s,o){const l=ar.textEnd;return l===o?-1:(o=ar.keyEnd=function G1(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,ar.key=o,l),ya(s,o,l))}function ya(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function nh(s,o,l){return gs(s,o,l,!1),nh}function R_(s,o){return gs(s,o,null,!0),R_}function P_(s){!function Yi(s,o,l,d){const h=Bt(),g=Ms(2);h.firstUpdatePass&&O_(h,null,g,d);const _=ie();if(l!==xt&&Ur(_,g,l)){const E=h.data[Tr()];if(NE(E,d)&&!xE(h,g)){let I=d?E.classesWithoutHost:E.stylesWithoutHost;null!==I&&(l=Pe(I,l||"")),v_(h,E,_,l,d)}else!function ME(s,o,l,d,h,g,_,E){h===xt&&(h=Te);let I=0,D=0,S=0<h.length?h[0]:null,R=0<g.length?g[0]:null;for(;null!==S||null!==R;){const U=I<h.length?h[I+1]:void 0,q=D<g.length?g[D+1]:void 0;let Me,le=null;S===R?(I+=2,D+=2,U!==q&&(le=R,Me=q)):null===R||null!==S&&S<R?(I+=2,le=S):(D+=2,le=R,Me=q),null!==le&&RE(s,o,l,d,le,Me,_,E),S=I<h.length?h[I]:null,R=D<g.length?g[D]:null}}(h,E,_,_[kt],_[g+1],_[g+1]=function J1(s,o,l){if(null==l||""===l)return Te;const d=[],h=ds(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(d,g,h[g]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,g)}}(X1,Zs,s,!0)}function Zs(s,o){for(let l=function TE(s){return function AE(s){ar.key=0,ar.keyEnd=0,ar.value=0,ar.valueEnd=0,ar.textEnd=s.length}(s),Up(s,ya(s,0,ar.textEnd))}(o);l>=0;l=Up(o,l))fi(s,S_(o),!0)}function gs(s,o,l,d){const h=ie(),g=Bt(),_=Ms(2);g.firstUpdatePass&&O_(g,s,_,d),o!==xt&&Ur(h,_,o)&&RE(g,g.data[Tr()],h,h[kt],s,h[_+1]=function eA(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Ae(ds(s)))),s}(o,l),d,_)}function xE(s,o){return o>=s.expandoStartIndex}function O_(s,o,l,d){const h=s.data;if(null===h[l+1]){const g=h[Tr()],_=xE(s,l);NE(g,d)&&null===o&&!_&&(o=!1),o=function K1(s,o,l,d){const h=nu(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=Ni(l=_a(null,s,o,l,d),o.attrs,d),g=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(l=_a(h,s,o,l,d),null===g){let I=function Y1(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==Cl(d))return s[ma(d)]}(s,o,d);void 0!==I&&Array.isArray(I)&&(I=_a(null,s,o,I[1],d),I=Ni(I,o.attrs,d),function Q1(s,o,l,d){s[ma(l?o.classBindings:o.styleBindings)]=d}(s,o,d,I))}else g=function rP(s,o,l){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=Ni(d,s[g].hostAttrs,l);return Ni(d,o.attrs,l)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,d),function z1(s,o,l,d,h,g){let _=g?o.classBindings:o.styleBindings,E=ma(_),I=Cl(_);s[d]=l;let S,D=!1;if(Array.isArray(l)?(S=l[1],(null===S||Ai(l,S)>0)&&(D=!0)):S=l,h)if(0!==I){const U=ma(s[E+1]);s[d+1]=qs(U,E),0!==U&&(s[U+1]=D_(s[U+1],d)),s[E+1]=function H1(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=qs(E,0),0!==E&&(s[E+1]=D_(s[E+1],d)),E=d;else s[d+1]=qs(I,0),0===E?E=d:s[I+1]=D_(s[I+1],d),I=d;D&&(s[d+1]=T_(s[d+1])),A_(s,S,d,!0),A_(s,S,d,!1),function IE(s,o,l,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Ai(g,o)>=0&&(l[d+1]=th(l[d+1]))}(o,S,s,d,g),_=qs(E,I),g?o.classBindings=_:o.styleBindings=_}(h,g,o,l,_,d)}}function _a(s,o,l,d,h){let g=null;const _=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<_&&(g=o[E],d=Ni(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(l.directiveStylingLast=E),d}function Ni(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?h=_:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),fi(s,_,!!l||o[++g]))}return void 0===s?null:s}function X1(s,o,l){const d=String(o);""!==d&&!d.includes(" ")&&fi(s,d,l)}function RE(s,o,l,d,h,g,_,E){if(!(3&o.type))return;const I=s.data,D=I[E+1],S=function tP(s){return 1==(1&s)}(D)?jp(I,o,l,h,Cl(D),_):void 0;Hp(S)||(Hp(g)||function j1(s){return 2==(2&s)}(D)&&(g=jp(I,null,l,h,E,_)),function $s(s,o,l,d,h){if(o)h?s.addClass(l,d):s.removeClass(l,d);else{let g=-1===d.indexOf("-")?void 0:ht.DashCase;null==h?s.removeStyle(l,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=ht.Important),s.setStyle(l,d,h,g))}}(d,_,Ga(Tr(),l),h,g))}function jp(s,o,l,d,h,g){const _=null===o;let E;for(;h>0;){const I=s[h],D=Array.isArray(I),S=D?I[1]:I,R=null===S;let U=l[h+1];U===xt&&(U=R?Te:void 0);let q=R?ln(U,d):S===d?U:void 0;if(D&&!Hp(q)&&(q=ln(I,d)),Hp(q)&&(E=q,_))return E;const le=s[h+1];h=_?ma(le):Cl(le)}if(null!==o){let I=g?o.residualClasses:o.residualStyles;null!=I&&(E=ln(I,d))}return E}function Hp(s){return void 0!==s}function NE(s,o){return 0!=(s.flags&(o?8:16))}function va(s,o=""){const l=ie(),d=Bt(),h=s+on,g=d.firstCreatePass?Gd(d,h,1,o,null):d.data[h],_=l[h]=function la(s,o){return s.createText(o)}(l[kt],o);ua(d,l,_,g),$i(g,!1)}function rh(s){return tc("",s,""),rh}function tc(s,o,l){const d=ie(),h=Yu(d,s,o,l);return h!==xt&&function ps(s,o,l){const d=Ga(o,s);!function Dd(s,o,l){s.setValue(o,l)}(s[kt],d,l)}(d,Tr(),h),tc}function Qp(s,o,l){const d=ie();if(Ur(d,ao(),o)){const g=Bt(),_=fn();Ri(g,_,d,s,o,function s_(s,o,l){return(null===s||Cr(s))&&(l=function so(s){for(;Array.isArray(s);){if("object"==typeof s[Bc])return s;s=s[Zn]}return null}(l[o.index])),l[kt]}(nu(g.data),_,d),l,!0)}return Qp}const Il=void 0;var oA=["en",[["a","p"],["AM","PM"],Il],[["AM","PM"],Il,Il],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Il,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Il,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Il,"{1} 'at' {0}",Il],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Z_(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Tl={};function W_(s){const o=function lA(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=Jp(o);if(l)return l;const d=o.split("-")[0];if(l=Jp(d),l)return l;if("en"===d)return oA;throw new Q(701,!1)}function GE(s){return W_(s)[ft.PluralCase]}function Jp(s){return s in Tl||(Tl[s]=tn.ng&&tn.ng.common&&tn.ng.common.locales&&tn.ng.common.locales[s]),Tl[s]}var ft=(()=>((ft=ft||{})[ft.LocaleId=0]="LocaleId",ft[ft.DayPeriodsFormat=1]="DayPeriodsFormat",ft[ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",ft[ft.DaysFormat=3]="DaysFormat",ft[ft.DaysStandalone=4]="DaysStandalone",ft[ft.MonthsFormat=5]="MonthsFormat",ft[ft.MonthsStandalone=6]="MonthsStandalone",ft[ft.Eras=7]="Eras",ft[ft.FirstDayOfWeek=8]="FirstDayOfWeek",ft[ft.WeekendRange=9]="WeekendRange",ft[ft.DateFormat=10]="DateFormat",ft[ft.TimeFormat=11]="TimeFormat",ft[ft.DateTimeFormat=12]="DateTimeFormat",ft[ft.NumberSymbols=13]="NumberSymbols",ft[ft.NumberFormats=14]="NumberFormats",ft[ft.CurrencyCode=15]="CurrencyCode",ft[ft.CurrencySymbol=16]="CurrencySymbol",ft[ft.CurrencyName=17]="CurrencyName",ft[ft.Currencies=18]="Currencies",ft[ft.Directionality=19]="Directionality",ft[ft.PluralCase=20]="PluralCase",ft[ft.ExtraData=21]="ExtraData",ft))();const nc="en-US";let ZE=nc;function uh(s,o,l,d,h){if(s=H(s),Array.isArray(s))for(let g=0;g<s.length;g++)uh(s[g],o,l,d,h);else{const g=Bt(),_=ie();let E=vo(s)?s:H(s.provide),I=Dy(s);const D=Tn(),S=1048575&D.providerIndexes,R=D.directiveStart,U=D.providerIndexes>>20;if(vo(s)||!s.multi){const q=new lo(I,h,zu),le=dC(E,o,h?S:S+U,R);-1===le?(rl(lu(D,_),g,E),cC(g,s,o.length),o.push(E),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),l.push(q),_.push(q)):(l[le]=q,_[le]=q)}else{const q=dC(E,o,S+U,R),le=dC(E,o,S,S+U),je=le>=0&&l[le];if(h&&!je||!h&&!(q>=0&&l[q])){rl(lu(D,_),g,E);const Qe=function fC(s,o,l,d,h){const g=new lo(s,l,zu);return g.multi=[],g.index=o,g.componentProviders=0,RA(g,h,d&&!l),g}(h?NA:mP,l.length,h,d,I);!h&&je&&(l[le].providerFactory=Qe),cC(g,s,o.length,0),o.push(E),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),l.push(Qe),_.push(Qe)}else cC(g,s,q>-1?q:le,RA(l[h?le:q],I,!h&&d));!h&&d&&je&&l[le].componentProviders++}}}function cC(s,o,l,d){const h=vo(o),g=function cp(s){return!!s.useClass}(o);if(h||g){const I=(g?H(o.useClass):o).prototype.ngOnDestroy;if(I){const D=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const S=D.indexOf(l);-1===S?D.push(l,[d,I]):D[S+1].push(d,I)}else D.push(l,I)}}}function RA(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function dC(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function mP(s,o,l,d){return hC(this.multi,[])}function NA(s,o,l,d){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=os(l,l[Ge],this.providerFactory.index,d);g=E.slice(0,_),hC(h,g);for(let I=_;I<E.length;I++)g.push(E[I])}else g=[],hC(h,g);return g}function hC(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function dv(s,o=[]){return l=>{l.providersResolver=(d,h)=>function gP(s,o,l){const d=Bt();if(d.firstCreatePass){const h=Cr(s);uh(l,d.data,d.blueprint,h,!0),uh(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class rc{}class pC{}function dg(s,o){return new hv(s,o??null)}class hv extends rc{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new a_(this);const d=Gn(o);this._bootstrapComponents=js(d.bootstrap),this._r3Injector=Ly(o,l,[{provide:rc,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],Ae(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class fv extends pC{constructor(o){super(),this.moduleType=o}create(o){return new hv(this.moduleType,o)}}class pv extends rc{constructor(o,l,d){super(),this.componentFactoryResolver=new a_(this),this.instance=null;const h=new _b([...o,{provide:rc,useValue:this},{provide:Vu,useValue:this.componentFactoryResolver}],l||hp(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Sl(s,o,l=null){return new pv(s,o,l).injector}let gC=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=ku(0,l.type),h=d.length>0?Sl([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=ut({token:s,providedIn:"environment",factory:()=>new s(Wt(_l))}),s})();function mC(s){s.getStandaloneInjector=o=>o.get(gC).getOrCreateStandaloneInjector(s)}function dh(s,o,l){const d=function Ir(){const s=Et.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}()+s,h=ie();return h[d]===xt?function Wi(s,o,l){return s[o]=l}(h,d,l?o.call(l):o()):function Wu(s,o){return s[o]}(h,d)}function EC(s){return o=>{setTimeout(s,void 0,o)}}const Do=class CP extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let h=o,g=l||(()=>null),_=d;if(o&&"object"==typeof o){const I=o;h=I.next?.bind(I),g=I.error?.bind(I),_=I.complete?.bind(I)}this.__isAsync&&(g=EC(g),h&&(h=EC(h)),_&&(_=EC(_)));const E=super.subscribe({next:h,error:g,complete:_});return o instanceof k.w0&&o.add(E),E}};function $A(){return this._results[Symbol.iterator]()}class CC{get changes(){return this._changes||(this._changes=new Do)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=CC.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=$A)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=function Wr(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Qm(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let yg=(()=>{class s{}return s.__NG_ELEMENT_ID__=IC,s})();const IP=yg,Ev=class extends IP{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tView,h=_p(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);h[Oo]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[di];return null!==_&&(h[di]=_.createEmbeddedView(d)),jy(d,h,o),new zs(h)}};function IC(){return _g(Tn(),ie())}function _g(s,o){return 4&s.type?new Ev(o,s,wo(s,o)):null}let yn=(()=>{class s{}return s.__NG_ELEMENT_ID__=jA,s})();function jA(){return DC(Tn(),ie())}const vg=yn,wg=class extends vg{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return wo(this._hostTNode,this._hostLView)}get injector(){return new qo(this._hostTNode,this._hostLView)}get parentInjector(){const o=bn(this._hostTNode,this._hostLView);if(Xa(o)){const l=tl(o,this._hostLView),d=el(o);return new qo(l[Ge].data[d+8],l)}return new qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=TC(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-rr}createEmbeddedView(o,l,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const _=o.createEmbeddedView(l||{},g);return this.insert(_,h),_}createComponent(o,l,d,h,g){const _=o&&!function hu(s){return"function"==typeof s}(o);let E;if(_)E=l;else{const R=l||{};E=R.index,d=R.injector,h=R.projectableNodes,g=R.environmentInjector||R.ngModuleRef}const I=_?o:new Kd(ot(o)),D=d||this.parentInjector;if(!g&&null==I.ngModule){const U=(_?D:this.parentInjector).get(_l,null);U&&(g=U)}const S=I.create(D,h,void 0,g);return this.insert(S.hostView,E),S}insert(o,l){const d=o._lView,h=d[Ge];if(function _f(s){return Di(s[vn])}(d)){const S=this.indexOf(o);if(-1!==S)this.detach(S);else{const R=d[vn],U=new wg(R,R[mr],R[vn]);U.detach(U.indexOf(o))}}const g=this._adjustIndex(l),_=this._lContainer;!function p(s,o,l,d){const h=rr+d,g=l.length;d>0&&(l[h-1][Yt]=o),d<g-rr?(o[Yt]=l[h],ud(l,rr+d,o)):(l.push(o),o[Yt]=null),o[vn]=l;const _=o[Oo];null!==_&&l!==_&&function y(s,o){const l=s[xs];o[nr]!==o[vn][vn][nr]&&(s[Kl]=!0),null===l?s[xs]=[o]:l.push(o)}(_,o);const E=o[di];null!==E&&E.insertView(s),o[St]|=64}(h,d,_,g);const E=Bs(g,_),I=d[kt],D=xi(I,_[ko]);return null!==D&&function sy(s,o,l,d,h,g){d[Zn]=h,d[mr]=o,Md(s,d,l,1,h,g)}(h,_[mr],I,d,D,E),o.attachToViewContainerRef(),ud(Cv(_),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=TC(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=A(this._lContainer,l);d&&(cd(Cv(this._lContainer),l),x(d[Ge],d))}detach(o){const l=this._adjustIndex(o,-1),d=A(this._lContainer,l);return d&&null!=cd(Cv(this._lContainer),l)?new zs(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function TC(s){return s[Fo]}function Cv(s){return s[Fo]||(s[Fo]=[])}function DC(s,o){let l;const d=o[s.index];if(Di(d))l=d;else{let h;if(8&s.type)h=Fn(d);else{const g=o[kt];h=g.createComment("");const _=ir(s,o);Rt(g,xi(g,_),h,function Sd(s,o){return s.nextSibling(o)}(g,_),!1)}o[s.index]=l=Qb(d,o,h,s),Zd(o,l)}return new wg(l,s,o)}class bg{constructor(o){this.queryList=o,this.matches=null}clone(){return new bg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Iv{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<d;g++){const _=l.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new Iv(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==gh(o,l).matches&&this.queries[l].setDirty()}}class AC{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Tv{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new Tv(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Dv{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Dv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,l,xr(l,g)),this.matchTNodeWithReadOption(o,l,zo(l,o,g,!1,!1))}else d===yg?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,zo(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Uu||h===yn||h===yg&&4&l.type)this.addMatch(l.index,-2);else{const g=zo(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function xr(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function Av(s,o,l,d){return-1===l?function Eg(s,o){return 11&s.type?wo(s,o):4&s.type?_g(s,o):null}(o,s):-2===l?function Sv(s,o,l){return l===Uu?wo(o,s):l===yg?_g(o,s):l===yn?DC(o,s):void 0}(s,o,d):os(s,s[Ge],l,o)}function ph(s,o,l,d){const h=o[di].queries[d];if(null===h.matches){const g=s.data,_=l.matches,E=[];for(let I=0;I<_.length;I+=2){const D=_[I];E.push(D<0?null:Av(o,g[D],_[I+1],l.metadata.read))}h.matches=E}return h.matches}function ac(s,o,l,d){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const _=ph(s,o,h,l);for(let E=0;E<g.length;E+=2){const I=g[E];if(I>0)d.push(_[E/2]);else{const D=g[E+1],S=o[-I];for(let R=rr;R<S.length;R++){const U=S[R];U[Oo]===U[vn]&&ac(U[Ge],U,D,d)}if(null!==S[xs]){const R=S[xs];for(let U=0;U<R.length;U++){const q=R[U];ac(q[Ge],q,D,d)}}}}}return d}function Cg(s){const o=ie(),l=Bt(),d=Zc();Df(d+1);const h=gh(l,d);if(s.dirty&&function Jl(s){return 4==(4&s[St])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?ac(l,o,d,[]):ph(l,o,h,d);s.reset(g,Ud),s.notifyOnChanges()}return!0}return!1}function SC(s,o,l,d){const h=Bt();if(h.firstCreatePass){const g=Tn();(function lc(s,o,l){null===s.queries&&(s.queries=new Tv),s.queries.track(new Dv(o,l))})(h,new AC(o,l,d),g.index),function MC(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}!function xC(s,o,l){const d=new CC(4==(4&l));qy(s,o,d,d.destroy),null===o[di]&&(o[di]=new Iv),o[di].queries.push(new bg(d))}(h,ie(),l)}function xv(){return function zA(s,o){return s[di].queries[o].queryList}(ie(),Zc())}function gh(s,o){return s.queries.getByIndex(o)}function mh(s){return!!Gn(s)}function Rg(...s){}const GC=new qt("Application Initializer");let vh=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Rg,this.reject=Rg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(fE(g))l.push(g);else if(Lp(g)){const _=new Promise((E,I)=>{g.subscribe({complete:E,error:I})});l.push(_)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Wt(GC,8))},s.\u0275prov=ut({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ng=new qt("AppId",{providedIn:"root",factory:function hc(){return`${wh()}${wh()}${wh()}`}});function wh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sS=new qt("Platform Initializer"),oS=new qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aS=new qt("AnimationModuleType");let lS=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ut({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const jv=new qt("LocaleId",{providedIn:"root",factory:()=>er(jv,st.Optional|st.SkipSelf)||function DP(){return typeof $localize<"u"&&$localize.locale||nc}()}),uS=new qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class AP{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let SP=(()=>{class s{compileModuleSync(l){return new fv(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=js(Gn(l).declarations).reduce((_,E)=>{const I=ot(E);return I&&_.push(new Kd(I)),_},[]);return new AP(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ut({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const fS=(()=>Promise.resolve(0))();function zv(s){typeof Zone>"u"?fS.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Qi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Do(!1),this.onMicrotaskEmpty=new Do(!1),this.onStable=new Do(!1),this.onError=new Do(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function pS(){let s=tn.requestAnimationFrame,o=tn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function NP(s){const o=()=>{!function RP(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(tn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,KC(s),s.isCheckStableRunning=!0,WC(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),KC(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,g,_,E)=>{try{return gS(s),l.invokeTask(h,g,_,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),mS(s)}},onInvoke:(l,d,h,g,_,E,I)=>{try{return gS(s),l.invoke(h,g,_,E,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),mS(s)}},onHasTask:(l,d,h,g)=>{l.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,KC(s),WC(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qi.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(Qi.isInAngularZone())throw new Q(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,o,MP,Rg,Rg);try{return g.runTask(_,l,d)}finally{g.cancelTask(_)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const MP={};function WC(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function KC(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function gS(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function mS(s){s._nesting--,WC(s)}class PP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Do,this.onMicrotaskEmpty=new Do,this.onStable=new Do,this.onError=new Do}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}const yS=new qt(""),_S=new qt("");let YC,OP=(()=>{class s{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,YC||(function wS(s){YC=s}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qi.assertNotInAngularZone(),zv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zv(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(Wt(Qi),Wt(vS),Wt(_S))},s.\u0275prov=ut({token:s,factory:s.\u0275fac}),s})(),vS=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return YC?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ut({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ea=!1;let Rl=null;const bS=new qt("AllowMultipleToken"),QC=new qt("PlatformDestroyListeners"),ES=new qt("appBootstrapListener");class LP{constructor(o,l){this.name=o,this.token=l}}function IS(s,o,l=[]){const d=`Platform: ${o}`,h=new qt(d);return(g=[])=>{let _=JC();if(!_||_.injector.get(bS,!1)){const E=[...l,...g,{provide:h,useValue:!0}];s?s(E):function VP(s){if(Rl&&!Rl.get(bS,!1))throw new Q(400,!1);Rl=s;const o=s.get(DS);(function CS(s){const o=s.get(sS,null);o&&o.forEach(l=>l())})(s)}(function TS(s=[],o){return $u.create({name:o,providers:[{provide:ha,useValue:"platform"},{provide:QC,useValue:new Set([()=>Rl=null])},...s]})}(E,d))}return function BP(s){const o=JC();if(!o)throw new Q(401,!1);return o}()}}function JC(){return Rl?.get(DS)??null}let DS=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function SS(s,o){let l;return l="noop"===s?new PP:("zone.js"===s?void 0:s)||new Qi(o),l}(d?.ngZone,function AS(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Qi,useValue:h}];return h.run(()=>{const _=$u.create({providers:g,parent:this.injector,name:l.moduleType.name}),E=l.create(_),I=E.injector.get(Bd,null);if(!I)throw new Q(402,!1);return h.runOutsideAngular(()=>{const D=h.onError.subscribe({next:S=>{I.handleError(S)}});E.onDestroy(()=>{Gv(this._modules,E),D.unsubscribe()})}),function xS(s,o,l){try{const d=l();return fE(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(I,h,()=>{const D=E.injector.get(vh);return D.runInitializers(),D.donePromise.then(()=>(function Q_(s){Ce(s,"Expected localeId to be defined"),"string"==typeof s&&(ZE=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(jv,nc)||nc),this._moduleDoBootstrap(E),E))})})}bootstrapModule(l,d=[]){const h=MS({},d);return function kP(s,o,l){const d=new fv(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const d=l.injector.get(qv);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Q(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Q(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(QC,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Wt($u))},s.\u0275prov=ut({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function MS(s,o){return Array.isArray(o)?o.reduce(MS,s):{...s,...o}}let qv=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new te.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),_=new te.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Qi.assertNotInAngularZone(),zv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const D=this._zone.onUnstable.subscribe(()=>{Qi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),D.unsubscribe()}});this.isStable=(0,ue.T)(g,_.pipe((0,fe.B)()))}bootstrap(l,d){const h=l instanceof wb;if(!this._injector.get(vh).done){!h&&gr(l);throw new Q(405,Ea)}let _;_=h?l:this._injector.get(Vu).resolveComponentFactory(l),this.componentTypes.push(_.componentType);const E=function FP(s){return s.isBoundToModule}(_)?void 0:this._injector.get(rc),D=_.create($u.NULL,[],d||_.selector,E),S=D.location.nativeElement,R=D.injector.get(yS,null);return R?.registerApplication(S),D.onDestroy(()=>{this.detachView(D.hostView),Gv(this.components,D),R?.unregisterApplication(S)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Q(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Gv(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(ES,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Gv(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Q(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(Wt(Qi),Wt(_l),Wt(Bd))},s.\u0275prov=ut({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Gv(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}function jP(){return!1}let HP=(()=>{class s{}return s.__NG_ELEMENT_ID__=zP,s})();function zP(s){return function qP(s,o,l){if($a(s)&&!l){const d=yr(s.index,o);return new zs(d,d)}return 47&s.type?new zs(o[nr],o):null}(Tn(),ie(),16==(16&s))}class Jv{constructor(){}supports(o){return Zu(o)}create(o){return new XC(o)}}const Xv=(s,o)=>o;class XC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Xv}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,g=null;for(;l||d;){const _=!d||l&&l.currentIndex<Eh(d,h,g)?l:d,E=Eh(_,h,g),I=_.currentIndex;if(_===d)h--,d=d._nextRemoved;else if(l=l._next,null==_.previousIndex)h++;else{g||(g=[]);const D=E-h,S=I-h;if(D!=S){for(let U=0;U<D;U++){const q=U<g.length?g[U]:g[U]=0,le=q+U;S<=le&&le<D&&(g[U]=q+1)}g[_.previousIndex]=S-D}}E!==I&&o(_,E,I)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Zu(o))throw new Q(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,_,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],_=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,_)?(d&&(l=this._verifyReinsertion(l,g,_,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,_,E),d=!0),l=l._next}else h=0,function g_(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Symbol.iterator]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,E=>{_=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,_)?(d&&(l=this._verifyReinsertion(l,E,_,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,_,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new Br(l,d),g,h),o}_verifyReinsertion(o,l,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new pc),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pc),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Br{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class pc{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new kS,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Eh(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class _s{constructor(){}supports(o){return o instanceof Map||Qd(o)}create(){return new e0}}class e0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Qd(o)))throw new Q(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const d=new FS(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class FS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eI(){return new Ca([new Jv])}let Ca=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||eI()),deps:[[s,new Ct,new go]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Q(901,!1)}}return s.\u0275prov=ut({token:s,providedIn:"root",factory:eI}),s})();function Og(){return new kg([new _s])}let kg=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||Og()),deps:[[s,new Ct,new go]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new Q(901,!1)}}return s.\u0275prov=ut({token:s,providedIn:"root",factory:Og}),s})();const t0=IS(null,"core",[]);let n0=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Wt(qv))},s.\u0275mod=W({type:s}),s.\u0275inj=sn({}),s})();function r0(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(mt,De,O)=>{O.d(De,{Z:()=>We});var u=O(2090),k=O(4859),te=O(6881),ue=O(1877);class fe{constructor(Q,xe){this._delegate=Q,this.firebase=xe,(0,te._addComponent)(Q,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=Q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this._delegate.automaticDataCollectionEnabled=Q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Q=>{this._delegate.checkDestroyed(),Q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,te.deleteApp)(this._delegate)))}_getService(Q,xe=te._DEFAULT_ENTRY_NAME){var we;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(Q);return!Le.isInitialized()&&"EXPLICIT"===(null===(we=Le.getComponent())||void 0===we?void 0:we.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:xe})}_removeServiceInstance(Q,xe=te._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Q).clearInstance(xe)}_addComponent(Q){(0,te._addComponent)(this._delegate,Q)}_addOrOverwriteComponent(Q){(0,te._addOrOverwriteComponent)(this._delegate,Q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ne=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function Pe(){const Je=function Ae(Je){const Q={},xe={__esModule:!0,initializeApp:function ge(Oe,Y={}){const Ke=te.initializeApp(Oe,Y);if((0,u.r3)(Q,Ke.name))return Q[Ke.name];const wt=new Je(Ke,xe);return Q[Ke.name]=wt,wt},app:Le,registerVersion:te.registerVersion,setLogLevel:te.setLogLevel,onLog:te.onLog,apps:null,SDK_VERSION:te.SDK_VERSION,INTERNAL:{registerComponent:function _e(Oe){const Y=Oe.name,Ke=Y.replace("-compat","");if(te._registerComponent(Oe)&&"PUBLIC"===Oe.type){const wt=(Ye=Le())=>{if("function"!=typeof Ye[Ke])throw Ne.create("invalid-app-argument",{appName:Y});return Ye[Ke]()};void 0!==Oe.serviceProps&&(0,u.ZB)(wt,Oe.serviceProps),xe[Ke]=wt,Je.prototype[Ke]=function(...Ye){return this._getService.bind(this,Y).apply(this,Oe.multipleInstances?Ye:[])}}return"PUBLIC"===Oe.type?xe[Ke]:null},removeApp:function we(Oe){delete Q[Oe]},useAsService:function Fe(Oe,Y){return"serverAuth"===Y?null:Y},modularAPIs:te}};function Le(Oe){if(!(0,u.r3)(Q,Oe=Oe||te._DEFAULT_ENTRY_NAME))throw Ne.create("no-app",{appName:Oe});return Q[Oe]}return xe.default=xe,Object.defineProperty(xe,"apps",{get:function de(){return Object.keys(Q).map(Oe=>Q[Oe])}}),Le.App=Je,xe}(fe);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:Pe,extendNamespace:function Q(xe){(0,u.ZB)(Je,xe)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Je}(),V=new ue.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=B;!function Se(Je){(0,te.registerVersion)("@firebase/app-compat","0.2.12",Je)}()},6881:(mt,De,O)=>{O.r(De),O.d(De,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>As,_DEFAULT_ENTRY_NAME:()=>si,_addComponent:()=>ct,_addOrOverwriteComponent:()=>Pt,_apps:()=>tn,_clearComponents:()=>ai,_components:()=>zt,_getProvider:()=>Or,_registerComponent:()=>oi,_removeServiceInstance:()=>On,deleteApp:()=>qr,getApp:()=>Po,getApps:()=>Wt,initializeApp:()=>jt,onLog:()=>tr,registerVersion:()=>li,setLogLevel:()=>ts});var u=O(5861),k=O(4859),te=O(1877),ue=O(2090);const fe=(ne,W)=>W.some(be=>ne instanceof be);let se,Ne;const B=new WeakMap,V=new WeakMap,H=new WeakMap,Ve=new WeakMap,Se=new WeakMap;let Q={get(ne,W,be){if(ne instanceof IDBTransaction){if("done"===W)return V.get(ne);if("objectStoreNames"===W)return ne.objectStoreNames||H.get(ne);if("store"===W)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return ge(ne[W])},set:(ne,W,be)=>(ne[W]=be,!0),has:(ne,W)=>ne instanceof IDBTransaction&&("done"===W||"store"===W)||W in ne};function Le(ne){return"function"==typeof ne?function we(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pe(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...W){return ne.apply(de(this),W),ge(B.get(this))}:function(...W){return ge(ne.apply(de(this),W))}:function(W,...be){const nt=ne.call(de(this),W,...be);return H.set(nt,W.sort?W.sort():[W]),ge(nt)}}(ne):(ne instanceof IDBTransaction&&function Je(ne){if(V.has(ne))return;const W=new Promise((be,nt)=>{const bt=()=>{ne.removeEventListener("complete",Ft),ne.removeEventListener("error",ot),ne.removeEventListener("abort",ot)},Ft=()=>{be(),bt()},ot=()=>{nt(ne.error||new DOMException("AbortError","AbortError")),bt()};ne.addEventListener("complete",Ft),ne.addEventListener("error",ot),ne.addEventListener("abort",ot)});V.set(ne,W)}(ne),fe(ne,function Ae(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Q):ne)}function ge(ne){if(ne instanceof IDBRequest)return function We(ne){const W=new Promise((be,nt)=>{const bt=()=>{ne.removeEventListener("success",Ft),ne.removeEventListener("error",ot)},Ft=()=>{be(ge(ne.result)),bt()},ot=()=>{nt(ne.error),bt()};ne.addEventListener("success",Ft),ne.addEventListener("error",ot)});return W.then(be=>{be instanceof IDBCursor&&B.set(be,ne)}).catch(()=>{}),Se.set(W,ne),W}(ne);if(Ve.has(ne))return Ve.get(ne);const W=Le(ne);return W!==ne&&(Ve.set(ne,W),Se.set(W,ne)),W}const de=ne=>Se.get(ne),Oe=["get","getKey","getAll","getAllKeys","count"],Y=["put","add","delete","clear"],Ke=new Map;function wt(ne,W){if(!(ne instanceof IDBDatabase)||W in ne||"string"!=typeof W)return;if(Ke.get(W))return Ke.get(W);const be=W.replace(/FromIndex$/,""),nt=W!==be,bt=Y.includes(be);if(!(be in(nt?IDBIndex:IDBObjectStore).prototype)||!bt&&!Oe.includes(be))return;const Ft=function(){var ot=(0,u.Z)(function*(Kt,...$t){const gr=this.transaction(Kt,bt?"readwrite":"readonly");let Gn=gr.store;return nt&&(Gn=Gn.index($t.shift())),(yield Promise.all([Gn[be](...$t),bt&&gr.done]))[0]});return function($t){return ot.apply(this,arguments)}}();return Ke.set(W,Ft),Ft}!function xe(ne){Q=ne(Q)}(ne=>({...ne,get:(W,be,nt)=>wt(W,be)||ne.get(W,be,nt),has:(W,be)=>!!wt(W,be)||ne.has(W,be)}));class Ye{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(be=>{if(function Ht(ne){return"VERSION"===ne.getComponent()?.type}(be)){const nt=be.getImmediate();return`${nt.library}/${nt.version}`}return null}).filter(be=>be).join(" ")}}const it="@firebase/app",re=new te.Yd("@firebase/app"),si="[DEFAULT]",Ci={[it]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tn=new Map,zt=new Map;function ct(ne,W){try{ne.container.addComponent(W)}catch(be){re.debug(`Component ${W.name} failed to register with FirebaseApp ${ne.name}`,be)}}function Pt(ne,W){ne.container.addOrOverwriteComponent(W)}function oi(ne){const W=ne.name;if(zt.has(W))return re.debug(`There were multiple attempts to register component ${W}.`),!1;zt.set(W,ne);for(const be of tn.values())ct(be,ne);return!0}function Or(ne,W){const be=ne.container.getProvider("heartbeat").getImmediate({optional:!0});return be&&be.triggerHeartbeat(),ne.container.getProvider(W)}function On(ne,W,be=si){Or(ne,W).clearInstance(be)}function ai(){zt.clear()}const Fr=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class dn{constructor(W,be,nt){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},be),this._name=be.name,this._automaticDataCollectionEnabled=be.automaticDataCollectionEnabled,this._container=nt,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const As="9.22.2";function jt(ne,W={}){let be=ne;"object"!=typeof W&&(W={name:W});const nt=Object.assign({name:si,automaticDataCollectionEnabled:!1},W),bt=nt.name;if("string"!=typeof bt||!bt)throw Fr.create("bad-app-name",{appName:String(bt)});if(be||(be=(0,ue.aH)()),!be)throw Fr.create("no-options");const Ft=tn.get(bt);if(Ft){if((0,ue.vZ)(be,Ft.options)&&(0,ue.vZ)(nt,Ft.config))return Ft;throw Fr.create("duplicate-app",{appName:bt})}const ot=new k.H0(bt);for(const $t of zt.values())ot.addComponent($t);const Kt=new dn(be,nt,ot);return tn.set(bt,Kt),Kt}function Po(ne=si){const W=tn.get(ne);if(!W&&ne===si&&(0,ue.aH)())return jt();if(!W)throw Fr.create("no-app",{appName:ne});return W}function Wt(){return Array.from(tn.values())}function qr(ne){return er.apply(this,arguments)}function er(){return(er=(0,u.Z)(function*(ne){const W=ne.name;tn.has(W)&&(tn.delete(W),yield Promise.all(ne.container.getProviders().map(be=>be.delete())),ne.isDeleted=!0)})).apply(this,arguments)}function li(ne,W,be){var nt;let bt=null!==(nt=Ci[ne])&&void 0!==nt?nt:ne;be&&(bt+=`-${be}`);const Ft=bt.match(/\s|\//),ot=W.match(/\s|\//);if(Ft||ot){const Kt=[`Unable to register library "${bt}" with version "${W}":`];return Ft&&Kt.push(`library name "${bt}" contains illegal characters (whitespace or "/")`),Ft&&ot&&Kt.push("and"),ot&&Kt.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void re.warn(Kt.join(" "))}oi(new k.wA(`${bt}-version`,()=>({library:bt,version:W}),"VERSION"))}function tr(ne,W){if(null!==ne&&"function"!=typeof ne)throw Fr.create("invalid-log-argument");(0,te.Am)(ne,W)}function ts(ne){(0,te.Ub)(ne)}const Vi="firebase-heartbeat-database",Ii=1,F="firebase-heartbeat-store";let P=null;function $(){return P||(P=function _e(ne,W,{blocked:be,upgrade:nt,blocking:bt,terminated:Ft}={}){const ot=indexedDB.open(ne,W),Kt=ge(ot);return nt&&ot.addEventListener("upgradeneeded",$t=>{nt(ge(ot.result),$t.oldVersion,$t.newVersion,ge(ot.transaction),$t)}),be&&ot.addEventListener("blocked",$t=>be($t.oldVersion,$t.newVersion,$t)),Kt.then($t=>{Ft&&$t.addEventListener("close",()=>Ft()),bt&&$t.addEventListener("versionchange",gr=>bt(gr.oldVersion,gr.newVersion,gr))}).catch(()=>{}),Kt}(Vi,Ii,{upgrade:(ne,W)=>{0===W&&ne.createObjectStore(F)}}).catch(ne=>{throw Fr.create("idb-open",{originalErrorMessage:ne.message})})),P}function Z(){return(Z=(0,u.Z)(function*(ne){try{return yield(yield $()).transaction(F).objectStore(F).get(nn(ne))}catch(W){if(W instanceof ue.ZR)re.warn(W.message);else{const be=Fr.create("idb-get",{originalErrorMessage:W?.message});re.warn(be.message)}}})).apply(this,arguments)}function Te(ne,W){return yt.apply(this,arguments)}function yt(){return(yt=(0,u.Z)(function*(ne,W){try{const nt=(yield $()).transaction(F,"readwrite");yield nt.objectStore(F).put(W,nn(ne)),yield nt.done}catch(be){if(be instanceof ue.ZR)re.warn(be.message);else{const nt=Fr.create("idb-set",{originalErrorMessage:be?.message});re.warn(nt.message)}}})).apply(this,arguments)}function nn(ne){return`${ne.name}!${ne.options.appId}`}class hn{constructor(W){this.container=W,this._heartbeatsCache=null;const be=this.container.getProvider("app").getImmediate();this._storage=new ui(be),this._heartbeatsCachePromise=this._storage.read().then(nt=>(this._heartbeatsCache=nt,nt))}triggerHeartbeat(){var W=this;return(0,u.Z)(function*(){const nt=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),bt=Ut();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==bt&&!W._heartbeatsCache.heartbeats.some(Ft=>Ft.date===bt))return W._heartbeatsCache.heartbeats.push({date:bt,agent:nt}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(Ft=>{const ot=new Date(Ft.date).valueOf();return Date.now()-ot<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,u.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const be=Ut(),{heartbeatsToSend:nt,unsentEntries:bt}=function Gr(ne,W=1024){const be=[];let nt=ne.slice();for(const bt of ne){const Ft=be.find(ot=>ot.agent===bt.agent);if(Ft){if(Ft.dates.push(bt.date),to(be)>W){Ft.dates.pop();break}}else if(be.push({agent:bt.agent,dates:[bt.date]}),to(be)>W){be.pop();break}nt=nt.slice(1)}return{heartbeatsToSend:be,unsentEntries:nt}}(W._heartbeatsCache.heartbeats),Ft=(0,ue.L)(JSON.stringify({version:2,heartbeats:nt}));return W._heartbeatsCache.lastSentHeartbeatDate=be,bt.length>0?(W._heartbeatsCache.heartbeats=bt,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),Ft})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class ui{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,u.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function oe(ne){return Z.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var be=this;return(0,u.Z)(function*(){var nt;if(yield be._canUseIndexedDBPromise){const Ft=yield be.read();return Te(be.app,{lastSentHeartbeatDate:null!==(nt=W.lastSentHeartbeatDate)&&void 0!==nt?nt:Ft.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var be=this;return(0,u.Z)(function*(){var nt;if(yield be._canUseIndexedDBPromise){const Ft=yield be.read();return Te(be.app,{lastSentHeartbeatDate:null!==(nt=W.lastSentHeartbeatDate)&&void 0!==nt?nt:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...W.heartbeats]})}})()}}function to(ne){return(0,ue.L)(JSON.stringify({version:2,heartbeats:ne})).length}!function Zl(ne){oi(new k.wA("platform-logger",W=>new Ye(W),"PRIVATE")),oi(new k.wA("heartbeat",W=>new hn(W),"PRIVATE")),li(it,"0.9.12",ne),li(it,"0.9.12","esm2017"),li("fire-js","")}("")},4859:(mt,De,O)=>{O.d(De,{H0:()=>Ae,wA:()=>te});var u=O(5861),k=O(2090);class te{constructor(B,V,H){this.name=B,this.instanceFactory=V,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const ue="[DEFAULT]";class fe{constructor(B,V){this.name=B,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const V=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(V)){const H=new k.BH;if(this.instancesDeferred.set(V,H),this.isInitialized(V)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:V});Ve&&H.resolve(Ve)}catch{}}return this.instancesDeferred.get(V).promise}getImmediate(B){var V;const H=this.normalizeInstanceIdentifier(B?.identifier),Ve=null!==(V=B?.optional)&&void 0!==V&&V;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(Se){if(Ve)return null;throw Se}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function Ne(Pe){return"EAGER"===Pe.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:ue})}catch{}for(const[V,H]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(V);try{const Se=this.getOrInitializeService({instanceIdentifier:Ve});H.resolve(Se)}catch{}}}}clearInstance(B=ue){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,u.Z)(function*(){const V=Array.from(B.instances.values());yield Promise.all([...V.filter(H=>"INTERNAL"in H).map(H=>H.INTERNAL.delete()),...V.filter(H=>"_delete"in H).map(H=>H._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=ue){return this.instances.has(B)}getOptions(B=ue){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:V={}}=B,H=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:H,options:V});for(const[Se,We]of this.instancesDeferred.entries())H===this.normalizeInstanceIdentifier(Se)&&We.resolve(Ve);return Ve}onInit(B,V){var H;const Ve=this.normalizeInstanceIdentifier(V),Se=null!==(H=this.onInitCallbacks.get(Ve))&&void 0!==H?H:new Set;Se.add(B),this.onInitCallbacks.set(Ve,Se);const We=this.instances.get(Ve);return We&&B(We,Ve),()=>{Se.delete(B)}}invokeOnInitCallbacks(B,V){const H=this.onInitCallbacks.get(V);if(H)for(const Ve of H)try{Ve(B,V)}catch{}}getOrInitializeService({instanceIdentifier:B,options:V={}}){let H=this.instances.get(B);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:(Pe=B,Pe===ue?void 0:Pe),options:V}),this.instances.set(B,H),this.instancesOptions.set(B,V),this.invokeOnInitCallbacks(H,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,H)}catch{}var Pe;return H||null}normalizeInstanceIdentifier(B=ue){return this.component?this.component.multipleInstances?B:ue:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const V=this.getProvider(B.name);if(V.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);V.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const V=new fe(B,this);return this.providers.set(B,V),V}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,De,O)=>{O.d(De,{Am:()=>Pe,Ub:()=>Ae,Yd:()=>Ne,in:()=>k});const u=[];var k=(()=>{return(B=k||(k={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",k;var B})();const te={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},ue=k.INFO,fe={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},se=(B,V,...H)=>{if(V<B.logLevel)return;const Ve=(new Date).toISOString(),Se=fe[V];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[Se](`[${Ve}]  ${B.name}:`,...H)};class Ne{constructor(V){this.name=V,this._logLevel=ue,this._logHandler=se,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in k))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?te[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...V),this._logHandler(this,k.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...V),this._logHandler(this,k.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,k.INFO,...V),this._logHandler(this,k.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,k.WARN,...V),this._logHandler(this,k.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...V),this._logHandler(this,k.ERROR,...V)}}function Ae(B){u.forEach(V=>{V.setLogLevel(B)})}function Pe(B,V){for(const H of u){let Ve=null;V&&V.level&&(Ve=te[V.level]),H.userLogHandler=null===B?null:(Se,We,...Je)=>{const Q=Je.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch{return null}}).filter(xe=>xe).join(" ");We>=(Ve??Se.logLevel)&&B({level:k[We].toLowerCase(),message:Q,args:Je,type:Se.name})}}}},9260:(mt,De,O)=>{O.d(De,{Z:()=>u.Z});var u=O(3942);u.Z.registerVersion("firebase","9.22.2","app-compat")},5861:(mt,De,O)=>{function u(te,ue,fe,se,Ne,Ae,Pe){try{var B=te[Ae](Pe),V=B.value}catch(H){return void fe(H)}B.done?ue(V):Promise.resolve(V).then(se,Ne)}function k(te){return function(){var ue=this,fe=arguments;return new Promise(function(se,Ne){var Ae=te.apply(ue,fe);function Pe(V){u(Ae,se,Ne,Pe,B,"next",V)}function B(V){u(Ae,se,Ne,Pe,B,"throw",V)}Pe(void 0)})}}O.d(De,{Z:()=>k})},7582:(mt,De,O)=>{function ue(re,ae){var he={};for(var me in re)Object.prototype.hasOwnProperty.call(re,me)&&ae.indexOf(me)<0&&(he[me]=re[me]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(me=Object.getOwnPropertySymbols(re);Ue<me.length;Ue++)ae.indexOf(me[Ue])<0&&Object.prototype.propertyIsEnumerable.call(re,me[Ue])&&(he[me[Ue]]=re[me[Ue]])}return he}function H(re,ae,he,me){return new(he||(he=Promise))(function(Ce,ve){function tt(ut){try{pt(me.next(ut))}catch(Gt){ve(Gt)}}function gn(ut){try{pt(me.throw(ut))}catch(Gt){ve(Gt)}}function pt(ut){ut.done?Ce(ut.value):function Ue(Ce){return Ce instanceof he?Ce:new he(function(ve){ve(Ce)})}(ut.value).then(tt,gn)}pt((me=me.apply(re,ae||[])).next())})}function ge(re){return this instanceof ge?(this.v=re,this):new ge(re)}function de(re,ae,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,me=he.apply(re,ae||[]),Ce=[];return Ue={},ve("next"),ve("throw"),ve("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function ve(sn){me[sn]&&(Ue[sn]=function(_n){return new Promise(function(ri,zn){Ce.push([sn,_n,ri,zn])>1||tt(sn,_n)})})}function tt(sn,_n){try{!function gn(sn){sn.value instanceof ge?Promise.resolve(sn.value.v).then(pt,ut):Gt(Ce[0][2],sn)}(me[sn](_n))}catch(ri){Gt(Ce[0][3],ri)}}function pt(sn){tt("next",sn)}function ut(sn){tt("throw",sn)}function Gt(sn,_n){sn(_n),Ce.shift(),Ce.length&&tt(Ce[0][0],Ce[0][1])}}function Fe(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,ae=re[Symbol.asyncIterator];return ae?ae.call(re):(re=function Je(re){var ae="function"==typeof Symbol&&Symbol.iterator,he=ae&&re[ae],me=0;if(he)return he.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&me>=re.length&&(re=void 0),{value:re&&re[me++],done:!re}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),he={},me("next"),me("throw"),me("return"),he[Symbol.asyncIterator]=function(){return this},he);function me(Ce){he[Ce]=re[Ce]&&function(ve){return new Promise(function(tt,gn){!function Ue(Ce,ve,tt,gn){Promise.resolve(gn).then(function(pt){Ce({value:pt,done:tt})},ve)}(tt,gn,(ve=re[Ce](ve)).done,ve.value)})}}}O.d(De,{FC:()=>de,KL:()=>Fe,_T:()=>ue,mG:()=>H,qq:()=>ge})}},mt=>{mt(mt.s=8065)}]);